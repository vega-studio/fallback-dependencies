#!/usr/bin/env bun
// @bun
import{createRequire as o0} from"node:module";var l0=Object.create;var{defineProperty:cq,getPrototypeOf:p0,getOwnPropertyNames:c0}=Object;var f0=Object.prototype.hasOwnProperty;var d0=(q,J,O)=>{O=q!=null?l0(p0(q)):{};const y=J||!q||!q.__esModule?cq(O,"default",{value:q,enumerable:!0}):O;for(let z of c0(q))if(!f0.call(y,z))cq(y,z,{get:()=>q[z],enumerable:!0});return y};var _=(q,J)=>()=>(J||q((J={exports:{}}).exports,J),J.exports);var I=o0(import.meta.url);var M=_((a0)=>{a0.fromCallback=function(q){return Object.defineProperty(function(...J){if(typeof J[J.length-1]==="function")q.apply(this,J);else return new Promise((O,y)=>{J.push((z,K)=>z!=null?y(z):O(K)),q.apply(this,J)})},"name",{value:q.name})};a0.fromPromise=function(q){return Object.defineProperty(function(...J){const O=J[J.length-1];if(typeof O!=="function")return q.apply(this,J);else J.pop(),q.apply(this,J).then((y)=>O(null,y),O)},"name",{value:q.name})}});var dq=_((Cy,fq)=>{var q6=function(q){if(o.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./))J(q);if(!q.lutimes)O(q);if(q.chown=K(q.chown),q.fchown=K(q.fchown),q.lchown=K(q.lchown),q.chmod=y(q.chmod),q.fchmod=y(q.fchmod),q.lchmod=y(q.lchmod),q.chownSync=X(q.chownSync),q.fchownSync=X(q.fchownSync),q.lchownSync=X(q.lchownSync),q.chmodSync=z(q.chmodSync),q.fchmodSync=z(q.fchmodSync),q.lchmodSync=z(q.lchmodSync),q.stat=V(q.stat),q.fstat=V(q.fstat),q.lstat=V(q.lstat),q.statSync=B(q.statSync),q.fstatSync=B(q.fstatSync),q.lstatSync=B(q.lstatSync),q.chmod&&!q.lchmod)q.lchmod=function(Z,G,U){if(U)process.nextTick(U)},q.lchmodSync=function(){};if(q.chown&&!q.lchown)q.lchown=function(Z,G,U,H){if(H)process.nextTick(H)},q.lchownSync=function(){};if(s0==="win32")q.rename=typeof q.rename!=="function"?q.rename:function(Z){function G(U,H,Y){var L=Date.now(),j=0;Z(U,H,function Q(i){if(i&&(i.code==="EACCES"||i.code==="EPERM"||i.code==="EBUSY")&&Date.now()-L<60000){if(setTimeout(function(){q.stat(H,function(S,Zq){if(S&&S.code==="ENOENT")Z(U,H,Q);else Y(i)})},j),j<100)j+=10;return}if(Y)Y(i)})}if(Object.setPrototypeOf)Object.setPrototypeOf(G,Z);return G}(q.rename);q.read=typeof q.read!=="function"?q.read:function(Z){function G(U,H,Y,L,j,Q){var i;if(Q&&typeof Q==="function"){var S=0;i=function(Zq,lq,pq){if(Zq&&Zq.code==="EAGAIN"&&S<10)return S++,Z.call(q,U,H,Y,L,j,i);Q.apply(this,arguments)}}return Z.call(q,U,H,Y,L,j,i)}if(Object.setPrototypeOf)Object.setPrototypeOf(G,Z);return G}(q.read),q.readSync=typeof q.readSync!=="function"?q.readSync:function(Z){return function(G,U,H,Y,L){var j=0;while(!0)try{return Z.call(q,G,U,H,Y,L)}catch(Q){if(Q.code==="EAGAIN"&&j<10){j++;continue}throw Q}}}(q.readSync);function J(Z){Z.lchmod=function(G,U,H){Z.open(G,o.O_WRONLY|o.O_SYMLINK,U,function(Y,L){if(Y){if(H)H(Y);return}Z.fchmod(L,U,function(j){Z.close(L,function(Q){if(H)H(j||Q)})})})},Z.lchmodSync=function(G,U){var H=Z.openSync(G,o.O_WRONLY|o.O_SYMLINK,U),Y=!0,L;try{L=Z.fchmodSync(H,U),Y=!1}finally{if(Y)try{Z.closeSync(H)}catch(j){}else Z.closeSync(H)}return L}}function O(Z){if(o.hasOwnProperty("O_SYMLINK")&&Z.futimes)Z.lutimes=function(G,U,H,Y){Z.open(G,o.O_SYMLINK,function(L,j){if(L){if(Y)Y(L);return}Z.futimes(j,U,H,function(Q){Z.close(j,function(i){if(Y)Y(Q||i)})})})},Z.lutimesSync=function(G,U,H){var Y=Z.openSync(G,o.O_SYMLINK),L,j=!0;try{L=Z.futimesSync(Y,U,H),j=!1}finally{if(j)try{Z.closeSync(Y)}catch(Q){}else Z.closeSync(Y)}return L};else if(Z.futimes)Z.lutimes=function(G,U,H,Y){if(Y)process.nextTick(Y)},Z.lutimesSync=function(){}}function y(Z){if(!Z)return Z;return function(G,U,H){return Z.call(q,G,U,function(Y){if(N(Y))Y=null;if(H)H.apply(this,arguments)})}}function z(Z){if(!Z)return Z;return function(G,U){try{return Z.call(q,G,U)}catch(H){if(!N(H))throw H}}}function K(Z){if(!Z)return Z;return function(G,U,H,Y){return Z.call(q,G,U,H,function(L){if(N(L))L=null;if(Y)Y.apply(this,arguments)})}}function X(Z){if(!Z)return Z;return function(G,U,H){try{return Z.call(q,G,U,H)}catch(Y){if(!N(Y))throw Y}}}function V(Z){if(!Z)return Z;return function(G,U,H){if(typeof U==="function")H=U,U=null;function Y(L,j){if(j){if(j.uid<0)j.uid+=4294967296;if(j.gid<0)j.gid+=4294967296}if(H)H.apply(this,arguments)}return U?Z.call(q,G,U,Y):Z.call(q,G,Y)}}function B(Z){if(!Z)return Z;return function(G,U){var H=U?Z.call(q,G,U):Z.call(q,G);if(H){if(H.uid<0)H.uid+=4294967296;if(H.gid<0)H.gid+=4294967296}return H}}function N(Z){if(!Z)return!0;if(Z.code==="ENOSYS")return!0;var G=!process.getuid||process.getuid()!==0;if(G){if(Z.code==="EINVAL"||Z.code==="EPERM")return!0}return!1}},o=import.meta.require("constants"),t0=process.cwd,Lq=null,s0=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){if(!Lq)Lq=t0.call(process);return Lq};try{process.cwd()}catch(q){}if(typeof process.chdir==="function"){if(Iq=process.chdir,process.chdir=function(q){Lq=null,Iq.call(process,q)},Object.setPrototypeOf)Object.setPrototypeOf(process.chdir,Iq)}var Iq;fq.exports=q6});var rq=_((Dy,aq)=>{var J6=function(q){return{ReadStream:J,WriteStream:O};function J(y,z){if(!(this instanceof J))return new J(y,z);oq.call(this);var K=this;this.path=y,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,z=z||{};var X=Object.keys(z);for(var V=0,B=X.length;V<B;V++){var N=X[V];this[N]=z[N]}if(this.encoding)this.setEncoding(this.encoding);if(this.start!==void 0){if(typeof this.start!=="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=Infinity;else if(typeof this.end!=="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){K._read()});return}q.open(this.path,this.flags,this.mode,function(Z,G){if(Z){K.emit("error",Z),K.readable=!1;return}K.fd=G,K.emit("open",G),K._read()})}function O(y,z){if(!(this instanceof O))return new O(y,z);oq.call(this),this.path=y,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,z=z||{};var K=Object.keys(z);for(var X=0,V=K.length;X<V;X++){var B=K[X];this[B]=z[B]}if(this.start!==void 0){if(typeof this.start!=="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}if(this.busy=!1,this._queue=[],this.fd===null)this._open=q.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush()}},oq=import.meta.require("stream").Stream;aq.exports=J6});var tq=_((Qy,eq)=>{var y6=function(q){if(q===null||typeof q!=="object")return q;if(q instanceof Object)var J={__proto__:O6(q)};else var J=Object.create(null);return Object.getOwnPropertyNames(q).forEach(function(O){Object.defineProperty(J,O,Object.getOwnPropertyDescriptor(q,O))}),J};eq.exports=y6;var O6=Object.getPrototypeOf||function(q){return q.__proto__}});var Jq=_((Py,kq)=>{var Z6=function(){},JJ=function(q,J){Object.defineProperty(q,u,{get:function(){return J}})},Mq=function(q){z6(q),q.gracefulify=Mq,q.createReadStream=lq,q.createWriteStream=pq;var J=q.readFile;q.readFile=O;function O(E,w,A){if(typeof w==="function")A=w,w=null;return k(E,w,A);function k(F,R,P,x){return J(F,R,function(C){if(C&&(C.code==="EMFILE"||C.code==="ENFILE"))qq([k,[F,R,P],C,x||Date.now(),Date.now()]);else if(typeof P==="function")P.apply(this,arguments)})}}var y=q.writeFile;q.writeFile=z;function z(E,w,A,k){if(typeof A==="function")k=A,A=null;return F(E,w,A,k);function F(R,P,x,C,$){return y(R,P,x,function(D){if(D&&(D.code==="EMFILE"||D.code==="ENFILE"))qq([F,[R,P,x,C],D,$||Date.now(),Date.now()]);else if(typeof C==="function")C.apply(this,arguments)})}}var K=q.appendFile;if(K)q.appendFile=X;function X(E,w,A,k){if(typeof A==="function")k=A,A=null;return F(E,w,A,k);function F(R,P,x,C,$){return K(R,P,x,function(D){if(D&&(D.code==="EMFILE"||D.code==="ENFILE"))qq([F,[R,P,x,C],D,$||Date.now(),Date.now()]);else if(typeof C==="function")C.apply(this,arguments)})}}var V=q.copyFile;if(V)q.copyFile=B;function B(E,w,A,k){if(typeof A==="function")k=A,A=0;return F(E,w,A,k);function F(R,P,x,C,$){return V(R,P,x,function(D){if(D&&(D.code==="EMFILE"||D.code==="ENFILE"))qq([F,[R,P,x,C],D,$||Date.now(),Date.now()]);else if(typeof C==="function")C.apply(this,arguments)})}}var N=q.readdir;q.readdir=G;var Z=/^v[0-5]\./;function G(E,w,A){if(typeof w==="function")A=w,w=null;var k=Z.test(process.version)?function R(P,x,C,$){return N(P,F(P,x,C,$))}:function R(P,x,C,$){return N(P,x,F(P,x,C,$))};return k(E,w,A);function F(R,P,x,C){return function($,D){if($&&($.code==="EMFILE"||$.code==="ENFILE"))qq([k,[R,P,x],$,C||Date.now(),Date.now()]);else{if(D&&D.sort)D.sort();if(typeof x==="function")x.call(this,$,D)}}}}if(process.version.substr(0,4)==="v0.8"){var U=K6(q);Q=U.ReadStream,S=U.WriteStream}var H=q.ReadStream;if(H)Q.prototype=Object.create(H.prototype),Q.prototype.open=i;var Y=q.WriteStream;if(Y)S.prototype=Object.create(Y.prototype),S.prototype.open=Zq;Object.defineProperty(q,"ReadStream",{get:function(){return Q},set:function(E){Q=E},enumerable:!0,configurable:!0}),Object.defineProperty(q,"WriteStream",{get:function(){return S},set:function(E){S=E},enumerable:!0,configurable:!0});var L=Q;Object.defineProperty(q,"FileReadStream",{get:function(){return L},set:function(E){L=E},enumerable:!0,configurable:!0});var j=S;Object.defineProperty(q,"FileWriteStream",{get:function(){return j},set:function(E){j=E},enumerable:!0,configurable:!0});function Q(E,w){if(this instanceof Q)return H.apply(this,arguments),this;else return Q.apply(Object.create(Q.prototype),arguments)}function i(){var E=this;Rq(E.path,E.flags,E.mode,function(w,A){if(w){if(E.autoClose)E.destroy();E.emit("error",w)}else E.fd=A,E.emit("open",A),E.read()})}function S(E,w){if(this instanceof S)return Y.apply(this,arguments),this;else return S.apply(Object.create(S.prototype),arguments)}function Zq(){var E=this;Rq(E.path,E.flags,E.mode,function(w,A){if(w)E.destroy(),E.emit("error",w);else E.fd=A,E.emit("open",A)})}function lq(E,w){return new q.ReadStream(E,w)}function pq(E,w){return new q.WriteStream(E,w)}var i0=q.open;q.open=Rq;function Rq(E,w,A,k){if(typeof A==="function")k=A,A=null;return F(E,w,A,k);function F(R,P,x,C,$){return i0(R,P,x,function(D,Ly){if(D&&(D.code==="EMFILE"||D.code==="ENFILE"))qq([F,[R,P,x,C],D,$||Date.now(),Date.now()]);else if(typeof C==="function")C.apply(this,arguments)})}}return q},qq=function(q){t("ENQUEUE",q[0].name,q[1]),W[u].push(q),Tq()},qJ=function(){var q=Date.now();for(var J=0;J<W[u].length;++J)if(W[u][J].length>2)W[u][J][3]=q,W[u][J][4]=q;Tq()},Tq=function(){if(clearTimeout(jq),jq=void 0,W[u].length===0)return;var q=W[u].shift(),J=q[0],O=q[1],y=q[2],z=q[3],K=q[4];if(z===void 0)t("RETRY",J.name,O),J.apply(null,O);else if(Date.now()-z>=60000){t("TIMEOUT",J.name,O);var X=O.pop();if(typeof X==="function")X.call(null,y)}else{var V=Date.now()-K,B=Math.max(K-z,1),N=Math.min(B*1.2,100);if(V>=N)t("RETRY",J.name,O),J.apply(null,O.concat([z]));else W[u].push(q)}if(jq===void 0)jq=setTimeout(Tq,0)},W=import.meta.require("fs"),z6=dq(),K6=rq(),X6=tq(),wq=import.meta.require("util"),u,Bq;if(typeof Symbol==="function"&&typeof Symbol.for==="function")u=Symbol.for("graceful-fs.queue"),Bq=Symbol.for("graceful-fs.previous");else u="___graceful-fs.queue",Bq="___graceful-fs.previous";var t=Z6;if(wq.debuglog)t=wq.debuglog("gfs4");else if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))t=function(){var q=wq.format.apply(wq,arguments);q="GFS4: "+q.split(/\n/).join("\nGFS4: "),console.error(q)};if(!W[u]){if(sq=global[u]||[],JJ(W,sq),W.close=function(q){function J(O,y){return q.call(W,O,function(z){if(!z)qJ();if(typeof y==="function")y.apply(this,arguments)})}return Object.defineProperty(J,Bq,{value:q}),J}(W.close),W.closeSync=function(q){function J(O){q.apply(W,arguments),qJ()}return Object.defineProperty(J,Bq,{value:q}),J}(W.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))process.on("exit",function(){t(W[u]),import.meta.require("assert").equal(W[u].length,0)})}var sq;if(!global[u])JJ(global,W[u]);kq.exports=Mq(X6(W));if(process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!W.__patched)kq.exports=Mq(W),W.__patched=!0;var jq});var m=_((Fq)=>{var OJ=M().fromCallback,n=Jq(),H6=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((q)=>{return typeof n[q]==="function"});Object.assign(Fq,n);H6.forEach((q)=>{Fq[q]=OJ(n[q])});Fq.exists=function(q,J){if(typeof J==="function")return n.exists(q,J);return new Promise((O)=>{return n.exists(q,O)})};Fq.read=function(q,J,O,y,z,K){if(typeof K==="function")return n.read(q,J,O,y,z,K);return new Promise((X,V)=>{n.read(q,J,O,y,z,(B,N,Z)=>{if(B)return V(B);X({bytesRead:N,buffer:Z})})})};Fq.write=function(q,J,...O){if(typeof O[O.length-1]==="function")return n.write(q,J,...O);return new Promise((y,z)=>{n.write(q,J,...O,(K,X,V)=>{if(K)return z(K);y({bytesWritten:X,buffer:V})})})};Fq.readv=function(q,J,...O){if(typeof O[O.length-1]==="function")return n.readv(q,J,...O);return new Promise((y,z)=>{n.readv(q,J,...O,(K,X,V)=>{if(K)return z(K);y({bytesRead:X,buffers:V})})})};Fq.writev=function(q,J,...O){if(typeof O[O.length-1]==="function")return n.writev(q,J,...O);return new Promise((y,z)=>{n.writev(q,J,...O,(K,X,V)=>{if(K)return z(K);y({bytesWritten:X,buffers:V})})})};if(typeof n.realpath.native==="function")Fq.realpath.native=OJ(n.realpath.native);else process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var zJ=_((A6,yJ)=>{var _6=import.meta.require("path");A6.checkPath=function q(J){if(process.platform==="win32"){if(/[<>:"|?*]/.test(J.replace(_6.parse(J).root,""))){const y=new Error(`Path contains invalid characters: ${J}`);throw y.code="EINVAL",y}}}});var HJ=_((w6,$q)=>{var KJ=m(),{checkPath:XJ}=zJ(),ZJ=(q)=>{const J={mode:511};if(typeof q==="number")return q;return{...J,...q}.mode};w6.makeDir=async(q,J)=>{return XJ(q),KJ.mkdir(q,{mode:ZJ(J),recursive:!0})};w6.makeDirSync=(q,J)=>{return XJ(q),KJ.mkdirSync(q,{mode:ZJ(J),recursive:!0})}});var p=_((Ny,VJ)=>{var C6=M().fromPromise,{makeDir:D6,makeDirSync:uq}=HJ(),vq=C6(D6);VJ.exports={mkdirs:vq,mkdirsSync:uq,mkdirp:vq,mkdirpSync:uq,ensureDir:vq,ensureDirSync:uq}});var a=_((Ry,YJ)=>{var P6=function(q){return UJ.access(q).then(()=>!0).catch(()=>!1)},Q6=M().fromPromise,UJ=m();YJ.exports={pathExists:Q6(P6),pathExistsSync:UJ.existsSync}});var Sq=_((Iy,GJ)=>{async function x6(q,J,O){const y=await Oq.open(q,"r+");let z=null;try{await Oq.futimes(y,J,O)}finally{try{await Oq.close(y)}catch(K){z=K}}if(z)throw z}var N6=function(q,J,O){const y=Oq.openSync(q,"r+");return Oq.futimesSync(y,J,O),Oq.closeSync(y)},Oq=m(),W6=M().fromPromise;GJ.exports={utimesMillis:W6(x6),utimesMillisSync:N6}});var s=_((My,LJ)=>{var R6=function(q,J,O){const y=O.dereference?(z)=>yq.stat(z,{bigint:!0}):(z)=>yq.lstat(z,{bigint:!0});return Promise.all([y(q),y(J).catch((z)=>{if(z.code==="ENOENT")return null;throw z})]).then(([z,K])=>({srcStat:z,destStat:K}))},I6=function(q,J,O){let y;const z=O.dereference?(X)=>yq.statSync(X,{bigint:!0}):(X)=>yq.lstatSync(X,{bigint:!0}),K=z(q);try{y=z(J)}catch(X){if(X.code==="ENOENT")return{srcStat:K,destStat:null};throw X}return{srcStat:K,destStat:y}};async function M6(q,J,O,y){const{srcStat:z,destStat:K}=await R6(q,J,y);if(K){if(Hq(z,K)){const X=T.basename(q),V=T.basename(J);if(O==="move"&&X!==V&&X.toLowerCase()===V.toLowerCase())return{srcStat:z,destStat:K,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(z.isDirectory()&&!K.isDirectory())throw new Error(`Cannot overwrite non-directory '${J}' with directory '${q}'.`);if(!z.isDirectory()&&K.isDirectory())throw new Error(`Cannot overwrite directory '${J}' with non-directory '${q}'.`)}if(z.isDirectory()&&nq(q,J))throw new Error(Cq(q,J,O));return{srcStat:z,destStat:K}}var T6=function(q,J,O,y){const{srcStat:z,destStat:K}=I6(q,J,y);if(K){if(Hq(z,K)){const X=T.basename(q),V=T.basename(J);if(O==="move"&&X!==V&&X.toLowerCase()===V.toLowerCase())return{srcStat:z,destStat:K,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(z.isDirectory()&&!K.isDirectory())throw new Error(`Cannot overwrite non-directory '${J}' with directory '${q}'.`);if(!z.isDirectory()&&K.isDirectory())throw new Error(`Cannot overwrite directory '${J}' with non-directory '${q}'.`)}if(z.isDirectory()&&nq(q,J))throw new Error(Cq(q,J,O));return{srcStat:z,destStat:K}};async function _J(q,J,O,y){const z=T.resolve(T.dirname(q)),K=T.resolve(T.dirname(O));if(K===z||K===T.parse(K).root)return;let X;try{X=await yq.stat(K,{bigint:!0})}catch(V){if(V.code==="ENOENT")return;throw V}if(Hq(J,X))throw new Error(Cq(q,O,y));return _J(q,J,K,y)}var AJ=function(q,J,O,y){const z=T.resolve(T.dirname(q)),K=T.resolve(T.dirname(O));if(K===z||K===T.parse(K).root)return;let X;try{X=yq.statSync(K,{bigint:!0})}catch(V){if(V.code==="ENOENT")return;throw V}if(Hq(J,X))throw new Error(Cq(q,O,y));return AJ(q,J,K,y)},Hq=function(q,J){return J.ino&&J.dev&&J.ino===q.ino&&J.dev===q.dev},nq=function(q,J){const O=T.resolve(q).split(T.sep).filter((z)=>z),y=T.resolve(J).split(T.sep).filter((z)=>z);return O.every((z,K)=>y[K]===z)},Cq=function(q,J,O){return`Cannot ${O} '${q}' to a subdirectory of itself, '${J}'.`},yq=m(),T=import.meta.require("path"),EJ=M().fromPromise;LJ.exports={checkPaths:EJ(M6),checkPathsSync:T6,checkParentPaths:EJ(_J),checkParentPathsSync:AJ,isSrcSubdir:nq,areIdentical:Hq}});var DJ=_((Ty,CJ)=>{async function u6(q,J,O={}){if(typeof O==="function")O={filter:O};if(O.clobber="clobber"in O?!!O.clobber:!0,O.overwrite="overwrite"in O?!!O.overwrite:O.clobber,O.preserveTimestamps&&process.arch==="ia32")process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:y,destStat:z}=await Uq.checkPaths(q,J,"copy",O);if(await Uq.checkParentPaths(q,y,J,"copy"),!await jJ(q,J,O))return;const X=Vq.dirname(J);if(!await F6(X))await k6(X);await BJ(z,q,J,O)}async function jJ(q,J,O){if(!O.filter)return!0;return O.filter(q,J)}async function BJ(q,J,O,y){const K=await(y.dereference?v.stat:v.lstat)(J);if(K.isDirectory())return m6(K,q,J,O,y);if(K.isFile()||K.isCharacterDevice()||K.isBlockDevice())return v6(K,q,J,O,y);if(K.isSymbolicLink())return b6(q,J,O,y);if(K.isSocket())throw new Error(`Cannot copy a socket file: ${J}`);if(K.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${J}`);throw new Error(`Unknown file: ${J}`)}async function v6(q,J,O,y,z){if(!J)return wJ(q,O,y,z);if(z.overwrite)return await v.unlink(y),wJ(q,O,y,z);if(z.errorOnExist)throw new Error(`'${y}' already exists`)}async function wJ(q,J,O,y){if(await v.copyFile(J,O),y.preserveTimestamps){if(S6(q.mode))await n6(O,q.mode);const z=await v.stat(J);await $6(O,z.atime,z.mtime)}return v.chmod(O,q.mode)}var S6=function(q){return(q&128)===0},n6=function(q,J){return v.chmod(q,J|128)};async function m6(q,J,O,y,z){if(!J)await v.mkdir(y);const K=await v.readdir(O);if(await Promise.all(K.map(async(X)=>{const V=Vq.join(O,X),B=Vq.join(y,X);if(!await jJ(V,B,z))return;const{destStat:Z}=await Uq.checkPaths(V,B,"copy",z);return BJ(Z,V,B,z)})),!J)await v.chmod(y,q.mode)}async function b6(q,J,O,y){let z=await v.readlink(J);if(y.dereference)z=Vq.resolve(process.cwd(),z);if(!q)return v.symlink(z,O);let K=null;try{K=await v.readlink(O)}catch(X){if(X.code==="EINVAL"||X.code==="UNKNOWN")return v.symlink(z,O);throw X}if(y.dereference)K=Vq.resolve(process.cwd(),K);if(Uq.isSrcSubdir(z,K))throw new Error(`Cannot copy '${z}' to a subdirectory of itself, '${K}'.`);if(Uq.isSrcSubdir(K,z))throw new Error(`Cannot overwrite '${K}' with '${z}'.`);return await v.unlink(O),v.symlink(z,O)}var v=m(),Vq=import.meta.require("path"),{mkdirs:k6}=p(),{pathExists:F6}=a(),{utimesMillis:$6}=Sq(),Uq=s();CJ.exports=u6});var NJ=_((ky,xJ)=>{var i6=function(q,J,O){if(typeof O==="function")O={filter:O};if(O=O||{},O.clobber="clobber"in O?!!O.clobber:!0,O.overwrite="overwrite"in O?!!O.overwrite:O.clobber,O.preserveTimestamps&&process.arch==="ia32")process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:y,destStat:z}=Gq.checkPathsSync(q,J,"copy",O);if(Gq.checkParentPathsSync(q,y,J,"copy"),O.filter&&!O.filter(q,J))return;const K=Yq.dirname(J);if(!b.existsSync(K))g6(K);return QJ(z,q,J,O)},QJ=function(q,J,O,y){const K=(y.dereference?b.statSync:b.lstatSync)(J);if(K.isDirectory())return a6(K,q,J,O,y);else if(K.isFile()||K.isCharacterDevice()||K.isBlockDevice())return l6(K,q,J,O,y);else if(K.isSymbolicLink())return t6(q,J,O,y);else if(K.isSocket())throw new Error(`Cannot copy a socket file: ${J}`);else if(K.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${J}`);throw new Error(`Unknown file: ${J}`)},l6=function(q,J,O,y,z){if(!J)return PJ(q,O,y,z);return p6(q,O,y,z)},p6=function(q,J,O,y){if(y.overwrite)return b.unlinkSync(O),PJ(q,J,O,y);else if(y.errorOnExist)throw new Error(`'${O}' already exists`)},PJ=function(q,J,O,y){if(b.copyFileSync(J,O),y.preserveTimestamps)c6(q.mode,J,O);return mq(O,q.mode)},c6=function(q,J,O){if(f6(q))d6(O,q);return o6(J,O)},f6=function(q){return(q&128)===0},d6=function(q,J){return mq(q,J|128)},mq=function(q,J){return b.chmodSync(q,J)},o6=function(q,J){const O=b.statSync(q);return h6(J,O.atime,O.mtime)},a6=function(q,J,O,y,z){if(!J)return r6(q.mode,O,y,z);return WJ(O,y,z)},r6=function(q,J,O,y){return b.mkdirSync(O),WJ(J,O,y),mq(O,q)},WJ=function(q,J,O){b.readdirSync(q).forEach((y)=>e6(y,q,J,O))},e6=function(q,J,O,y){const z=Yq.join(J,q),K=Yq.join(O,q);if(y.filter&&!y.filter(z,K))return;const{destStat:X}=Gq.checkPathsSync(z,K,"copy",y);return QJ(X,z,K,y)},t6=function(q,J,O,y){let z=b.readlinkSync(J);if(y.dereference)z=Yq.resolve(process.cwd(),z);if(!q)return b.symlinkSync(z,O);else{let K;try{K=b.readlinkSync(O)}catch(X){if(X.code==="EINVAL"||X.code==="UNKNOWN")return b.symlinkSync(z,O);throw X}if(y.dereference)K=Yq.resolve(process.cwd(),K);if(Gq.isSrcSubdir(z,K))throw new Error(`Cannot copy '${z}' to a subdirectory of itself, '${K}'.`);if(Gq.isSrcSubdir(K,z))throw new Error(`Cannot overwrite '${K}' with '${z}'.`);return s6(z,O)}},s6=function(q,J){return b.unlinkSync(J),b.symlinkSync(q,J)},b=Jq(),Yq=import.meta.require("path"),g6=p().mkdirsSync,h6=Sq().utimesMillisSync,Gq=s();xJ.exports=i6});var Dq=_((Fy,RJ)=>{var qO=M().fromPromise;RJ.exports={copy:qO(DJ()),copySync:NJ()}});var Eq=_(($y,MJ)=>{var OO=function(q,J){IJ.rm(q,{recursive:!0,force:!0},J)},yO=function(q){IJ.rmSync(q,{recursive:!0,force:!0})},IJ=Jq(),JO=M().fromCallback;MJ.exports={remove:JO(OO),removeSync:yO}});var nJ=_((uy,SJ)=>{var kJ=function(q){let J;try{J=FJ.readdirSync(q)}catch{return uJ.mkdirsSync(q)}J.forEach((O)=>{O=$J.join(q,O),vJ.removeSync(O)})},zO=M().fromPromise,FJ=m(),$J=import.meta.require("path"),uJ=p(),vJ=Eq(),TJ=zO(async function q(J){let O;try{O=await FJ.readdir(J)}catch{return uJ.mkdirs(J)}return Promise.all(O.map((y)=>vJ.remove($J.join(J,y))))});SJ.exports={emptyDirSync:kJ,emptydirSync:kJ,emptyDir:TJ,emptydir:TJ}});var hJ=_((vy,gJ)=>{async function XO(q){let J;try{J=await d.stat(q)}catch{}if(J&&J.isFile())return;const O=mJ.dirname(q);let y=null;try{y=await d.stat(O)}catch(z){if(z.code==="ENOENT"){await bJ.mkdirs(O),await d.writeFile(q,"");return}else throw z}if(y.isDirectory())await d.writeFile(q,"");else await d.readdir(O)}var ZO=function(q){let J;try{J=d.statSync(q)}catch{}if(J&&J.isFile())return;const O=mJ.dirname(q);try{if(!d.statSync(O).isDirectory())d.readdirSync(O)}catch(y){if(y&&y.code==="ENOENT")bJ.mkdirsSync(O);else throw y}d.writeFileSync(q,"")},KO=M().fromPromise,mJ=import.meta.require("path"),d=m(),bJ=p();gJ.exports={createFile:KO(XO),createFileSync:ZO}});var fJ=_((Sy,cJ)=>{async function UO(q,J){let O;try{O=await r.lstat(J)}catch{}let y;try{y=await r.lstat(q)}catch(X){throw X.message=X.message.replace("lstat","ensureLink"),X}if(O&&pJ(y,O))return;const z=iJ.dirname(J);if(!await VO(z))await lJ.mkdirs(z);await r.link(q,J)}var YO=function(q,J){let O;try{O=r.lstatSync(J)}catch{}try{const K=r.lstatSync(q);if(O&&pJ(K,O))return}catch(K){throw K.message=K.message.replace("lstat","ensureLink"),K}const y=iJ.dirname(J);if(r.existsSync(y))return r.linkSync(q,J);return lJ.mkdirsSync(y),r.linkSync(q,J)},HO=M().fromPromise,iJ=import.meta.require("path"),r=m(),lJ=p(),{pathExists:VO}=a(),{areIdentical:pJ}=s();cJ.exports={createLink:HO(UO),createLinkSync:YO}});var oJ=_((ny,dJ)=>{async function _O(q,J){if(e.isAbsolute(q)){try{await _q.lstat(q)}catch(K){throw K.message=K.message.replace("lstat","ensureSymlink"),K}return{toCwd:q,toDst:q}}const O=e.dirname(J),y=e.join(O,q);if(await GO(y))return{toCwd:y,toDst:q};try{await _q.lstat(q)}catch(K){throw K.message=K.message.replace("lstat","ensureSymlink"),K}return{toCwd:q,toDst:e.relative(O,q)}}var AO=function(q,J){if(e.isAbsolute(q)){if(!_q.existsSync(q))throw new Error("absolute srcpath does not exist");return{toCwd:q,toDst:q}}const O=e.dirname(J),y=e.join(O,q);if(_q.existsSync(y))return{toCwd:y,toDst:q};if(!_q.existsSync(q))throw new Error("relative srcpath does not exist");return{toCwd:q,toDst:e.relative(O,q)}},e=import.meta.require("path"),_q=m(),{pathExists:GO}=a(),EO=M().fromPromise;dJ.exports={symlinkPaths:EO(_O),symlinkPathsSync:AO}});var eJ=_((my,rJ)=>{async function wO(q,J){if(J)return J;let O;try{O=await aJ.lstat(q)}catch{return"file"}return O&&O.isDirectory()?"dir":"file"}var jO=function(q,J){if(J)return J;let O;try{O=aJ.lstatSync(q)}catch{return"file"}return O&&O.isDirectory()?"dir":"file"},aJ=m(),LO=M().fromPromise;rJ.exports={symlinkType:LO(wO),symlinkTypeSync:jO}});var J0=_((by,q0)=>{async function RO(q,J,O){let y;try{y=await f.lstat(J)}catch{}if(y&&y.isSymbolicLink()){const[V,B]=await Promise.all([f.stat(q),f.stat(J)]);if(sJ(V,B))return}const z=await QO(q,J);q=z.toDst;const K=await WO(z.toCwd,O),X=tJ.dirname(J);if(!await NO(X))await CO(X);return f.symlink(q,J,K)}var IO=function(q,J,O){let y;try{y=f.lstatSync(J)}catch{}if(y&&y.isSymbolicLink()){const V=f.statSync(q),B=f.statSync(J);if(sJ(V,B))return}const z=PO(q,J);q=z.toDst,O=xO(z.toCwd,O);const K=tJ.dirname(J);if(f.existsSync(K))return f.symlinkSync(q,J,O);return DO(K),f.symlinkSync(q,J,O)},BO=M().fromPromise,tJ=import.meta.require("path"),f=m(),{mkdirs:CO,mkdirsSync:DO}=p(),{symlinkPaths:QO,symlinkPathsSync:PO}=oJ(),{symlinkType:WO,symlinkTypeSync:xO}=eJ(),{pathExists:NO}=a(),{areIdentical:sJ}=s();q0.exports={createSymlink:BO(RO),createSymlinkSync:IO}});var V0=_((gy,H0)=>{var{createFile:O0,createFileSync:y0}=hJ(),{createLink:z0,createLinkSync:K0}=fJ(),{createSymlink:X0,createSymlinkSync:Z0}=J0();H0.exports={createFile:O0,createFileSync:y0,ensureFile:O0,ensureFileSync:y0,createLink:z0,createLinkSync:K0,ensureLink:z0,ensureLinkSync:K0,createSymlink:X0,createSymlinkSync:Z0,ensureSymlink:X0,ensureSymlinkSync:Z0}});var Qq=_((hy,U0)=>{var MO=function(q,{EOL:J="\n",finalEOL:O=!0,replacer:y=null,spaces:z}={}){const K=O?J:"";return JSON.stringify(q,y,z).replace(/\n/g,J)+K},TO=function(q){if(Buffer.isBuffer(q))q=q.toString("utf8");return q.replace(/^\uFEFF/,"")};U0.exports={stringify:MO,stripBom:TO}});var _0=_((iy,E0)=>{async function kO(q,J={}){if(typeof J==="string")J={encoding:J};const O=J.fs||zq,y="throws"in J?J.throws:!0;let z=await Pq.fromCallback(O.readFile)(q,J);z=G0(z);let K;try{K=JSON.parse(z,J?J.reviver:null)}catch(X){if(y)throw X.message=`${q}: ${X.message}`,X;else return null}return K}var $O=function(q,J={}){if(typeof J==="string")J={encoding:J};const O=J.fs||zq,y="throws"in J?J.throws:!0;try{let z=O.readFileSync(q,J);return z=G0(z),JSON.parse(z,J.reviver)}catch(z){if(y)throw z.message=`${q}: ${z.message}`,z;else return null}};async function uO(q,J,O={}){const y=O.fs||zq,z=Y0(J,O);await Pq.fromCallback(y.writeFile)(q,z,O)}var SO=function(q,J,O={}){const y=O.fs||zq,z=Y0(J,O);return y.writeFileSync(q,z,O)},zq;try{zq=Jq()}catch(q){zq=import.meta.require("fs")}var Pq=M(),{stringify:Y0,stripBom:G0}=Qq(),FO=Pq.fromPromise(kO),vO=Pq.fromPromise(uO),nO={readFile:FO,readFileSync:$O,writeFile:vO,writeFileSync:SO};E0.exports=nO});var L0=_((ly,A0)=>{var Wq=_0();A0.exports={readJson:Wq.readFile,readJsonSync:Wq.readFileSync,writeJson:Wq.writeFile,writeJsonSync:Wq.writeFileSync}});var xq=_((py,B0)=>{async function gO(q,J,O="utf-8"){const y=w0.dirname(q);if(!await bO(y))await j0.mkdirs(y);return bq.writeFile(q,J,O)}var hO=function(q,...J){const O=w0.dirname(q);if(!bq.existsSync(O))j0.mkdirsSync(O);bq.writeFileSync(q,...J)},mO=M().fromPromise,bq=m(),w0=import.meta.require("path"),j0=p(),bO=a().pathExists;B0.exports={outputFile:mO(gO),outputFileSync:hO}});var D0=_((cy,C0)=>{async function pO(q,J,O={}){const y=iO(J,O);await lO(q,y,O)}var{stringify:iO}=Qq(),{outputFile:lO}=xq();C0.exports=pO});var P0=_((fy,Q0)=>{var dO=function(q,J,O){const y=cO(J,O);fO(q,y,O)},{stringify:cO}=Qq(),{outputFileSync:fO}=xq();Q0.exports=dO});var x0=_((dy,W0)=>{var oO=M().fromPromise,g=L0();g.outputJson=oO(D0());g.outputJsonSync=P0();g.outputJSON=g.outputJson;g.outputJSONSync=g.outputJsonSync;g.writeJSON=g.writeJson;g.writeJSONSync=g.writeJsonSync;g.readJSON=g.readJson;g.readJSONSync=g.readJsonSync;W0.exports=g});var T0=_((oy,M0)=>{async function sO(q,J,O={}){const y=O.overwrite||O.clobber||!1,{srcStat:z,isChangingCase:K=!1}=await R0.checkPaths(q,J,"move",O);await R0.checkParentPaths(q,z,J,"move");const X=N0.dirname(J);if(N0.parse(X).root!==X)await eO(X);return qy(q,J,y,K)}async function qy(q,J,O,y){if(!y){if(O)await I0(J);else if(await tO(J))throw new Error("dest already exists.")}try{await aO.rename(q,J)}catch(z){if(z.code!=="EXDEV")throw z;await Jy(q,J,O)}}async function Jy(q,J,O){return await rO(q,J,{overwrite:O,errorOnExist:!0,preserveTimestamps:!0}),I0(q)}var aO=m(),N0=import.meta.require("path"),{copy:rO}=Dq(),{remove:I0}=Eq(),{mkdirp:eO}=p(),{pathExists:tO}=a(),R0=s();M0.exports=sO});var v0=_((ay,u0)=>{var zy=function(q,J,O){O=O||{};const y=O.overwrite||O.clobber||!1,{srcStat:z,isChangingCase:K=!1}=k0.checkPathsSync(q,J,"move",O);if(k0.checkParentPathsSync(q,z,J,"move"),!Ky(J))yy(hq.dirname(J));return Xy(q,J,y,K)},Ky=function(q){const J=hq.dirname(q);return hq.parse(J).root===J},Xy=function(q,J,O,y){if(y)return gq(q,J,O);if(O)return $0(J),gq(q,J,O);if(F0.existsSync(J))throw new Error("dest already exists.");return gq(q,J,O)},gq=function(q,J,O){try{F0.renameSync(q,J)}catch(y){if(y.code!=="EXDEV")throw y;return Zy(q,J,O)}},Zy=function(q,J,O){return Oy(q,J,{overwrite:O,errorOnExist:!0,preserveTimestamps:!0}),$0(q)},F0=Jq(),hq=import.meta.require("path"),Oy=Dq().copySync,$0=Eq().removeSync,yy=p().mkdirpSync,k0=s();u0.exports=zy});var n0=_((ry,S0)=>{var Hy=M().fromPromise;S0.exports={move:Hy(T0()),moveSync:v0()}});var b0=_((ey,m0)=>{m0.exports={...m(),...Dq(),...nJ(),...V0(),...x0(),...p(),...n0(),...xq(),...a(),...Eq()}});var l=d0(b0(),1);import c from"path";var Vy=function(q){return q&&typeof q.status==="number"};function Uy(q){return q!==void 0&&q!==null}async function Nq(q,J=[]){try{const O=Bun.spawnSync([q,...J.filter(Uy)],{stdio:["inherit","ignore","inherit"],env:process.env});if(O.exitCode!==0){if(!Nq.silent)console.error(`Error: ${q} ${J.join(" ")} failed with code: ${O.exitCode}`),console.error(new Error().stack);return!1}}catch(O){if(!Nq.silent){if(Vy(O))console.error(`Error: ${q} ${J.join(" ")} failed with code: ${O.status}`);else if(O instanceof Error)console.error(O.message);console.error(new Error().stack)}return!1}return!0}Nq.silent=!0;var Kq=Nq;import{URL as Ey,fileURLToPath as _y} from"url";var Yy=function(q){return q&&typeof q.status==="number"};function Gy(q){return q!==void 0&&q!==null}async function Aq(q,J=[]){try{Aq.lastError="";const O=Bun.spawnSync([q,...J.filter(Gy)],{stdio:["inherit","pipe","pipe"],env:process.env});if(O.exitCode!==0)return console.error(`Error: ${q} ${J.join(" ")} failed with code: ${O.exitCode}`),console.error("Error Buffer:\n",O.stderr.toString()),console.error(new Error().stack),Aq.lastError=O.stderr.toString(),null;return(O.stdout||"").toString()}catch(O){if(Yy(O))console.error(`Error: ${q} ${J.join(" ")} failed with code: ${O.status}`);else if(O instanceof Error)Aq.lastError=O.message,console.error(O.message);return console.error(new Error().stack),null}}Aq.lastError="";var Xq=Aq;var g0=function(q){return q?.charAt},h=function(...q){l.default.appendFileSync(iq,`\n${q.join(" ")}`,{encoding:"utf-8"}),console.warn(...q)};async function Ay(){if(!l.default.existsSync(iq))l.default.ensureFileSync(iq),await new Promise((X)=>setTimeout(X,100));const J=l.default.readJsonSync(c.resolve("package.json")).fallbackDependencies,O=await Kq("bun",["-v"]),y=!O?await Kq("yarn",["-v"]):!1,z=!O&&!y?await Kq("npm",["-v"]):!1;if(!O&&!z&&!y){h("No appropriate package manager detected for executing fallbackDependencies. Please ensure yarn, bun, or npm is available.");return}if(!l.default.existsSync(c.resolve("bunfig.toml")))l.default.copySync(c.join(h0,"bunfig.toml"),c.resolve("bunfig.toml"));const K=async(X)=>{if(g0(X))X=[X];if(O){let V=Boolean(await Xq("bun",["add","--no-save","--ignore-scripts",...X]));if(Xq.lastError.includes("no commit matching")&&Xq.lastError.includes("but repository exists"))await Xq("bun",["pm","cache","rm"]),V=Boolean(await Xq("bun",["add","--no-save","--ignore-scripts",...X]));if(!V)h(`Failed to install dependency with bun: ${X}`);return V}else if(y)return await Kq("yarn",["add","--no-save","--ignore-scripts",...X]);else if(z)return await Kq("npm",["install","--no-save","--ignore-scripts",...X])};h("POST INSTALL: fallback-dependencies"),h("Fallbacks:"),h(JSON.stringify(J,null,2));for(let[X,V]of Object.entries(J)){if(h("Installing dependencies with fallbacks for:",X),!Array.isArray(V)){h("Invalid fallbacks for:",X,"Expected an array but got:",JSON.stringify(V));continue}let B=!1;for(let U of V){if(!g0(U)){h("Invalid repo for:",X,"Expected a string but got:",U);continue}if(await K(U)){h("Installed:",U),B=!0;break}else h("Installation failed for:",U),h("Attempting fallback...")}if(!B){h("No fallback dependency worked for:",X);continue}const N=c.resolve("node_modules");if(!l.default.existsSync(c.join(N,X))){h(`A fallback dependency was installed, however, the key provided "${X}" in the fallback dependency configuration does NOT match the package identifier.\nError: node_modules/${X} was not found.`);continue}const Z=c.join(N,X,"package.json");if(!l.default.existsSync(Z)){h(`A fallback dependency was installed, however, the package.json for "${X}" was not found at: ${Z}.`);continue}const G=l.default.readJsonSync(Z);if(G.bin){const U=c.join(N,".bin");if(!l.default.existsSync(U))l.default.ensureDirSync(U);for(let H of Object.keys(G.bin)){const Y=c.join(U,H),L=c.join(N,X,G.bin[H]);if(!l.default.existsSync(L)){h(`A fallback dependency was installed, however, the bin "${H}" was not found at: ${L}.`);continue}l.default.copySync(L,Y)}}}}var h0=_y(new Ey(".",import.meta.url)),iq=c.join(h0,"post-install.log");Ay();

//# debugId=4B0469C7E23E4DAD64756e2164756e21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3VuaXZlcnNhbGlmeS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZ3JhY2VmdWwtZnMvcG9seWZpbGxzLmpzIiwgIm5vZGVfbW9kdWxlcy9ncmFjZWZ1bC1mcy9sZWdhY3ktc3RyZWFtcy5qcyIsICJub2RlX21vZHVsZXMvZ3JhY2VmdWwtZnMvY2xvbmUuanMiLCAibm9kZV9tb2R1bGVzL2dyYWNlZnVsLWZzL2dyYWNlZnVsLWZzLmpzIiwgIm5vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvZnMvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9ta2RpcnMvdXRpbHMuanMiLCAibm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9ta2RpcnMvbWFrZS1kaXIuanMiLCAibm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9ta2RpcnMvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9wYXRoLWV4aXN0cy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL3V0aWwvdXRpbWVzLmpzIiwgIm5vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvdXRpbC9zdGF0LmpzIiwgIm5vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvY29weS9jb3B5LmpzIiwgIm5vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvY29weS9jb3B5LXN5bmMuanMiLCAibm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9jb3B5L2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvcmVtb3ZlL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvZW1wdHkvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9lbnN1cmUvZmlsZS5qcyIsICJub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL2Vuc3VyZS9saW5rLmpzIiwgIm5vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvZW5zdXJlL3N5bWxpbmstcGF0aHMuanMiLCAibm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9lbnN1cmUvc3ltbGluay10eXBlLmpzIiwgIm5vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvZW5zdXJlL3N5bWxpbmsuanMiLCAibm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9lbnN1cmUvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2pzb25maWxlL3V0aWxzLmpzIiwgIm5vZGVfbW9kdWxlcy9qc29uZmlsZS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL2pzb24vanNvbmZpbGUuanMiLCAibm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9vdXRwdXQtZmlsZS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZnMtZXh0cmEvbGliL2pzb24vb3V0cHV0LWpzb24uanMiLCAibm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9qc29uL291dHB1dC1qc29uLXN5bmMuanMiLCAibm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9qc29uL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvbW92ZS9tb3ZlLmpzIiwgIm5vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvbW92ZS9tb3ZlLXN5bmMuanMiLCAibm9kZV9tb2R1bGVzL2ZzLWV4dHJhL2xpYi9tb3ZlL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9mcy1leHRyYS9saWIvaW5kZXguanMiLCAiaW5kZXgudHMiLCAiZXhlYy1zeW5jLnRzIiwgImluZGV4LnRzIiwgImV4ZWMtc3luYy1yZXN1bHQudHMiLCAiaW5kZXgudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbCiAgICAiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuZnJvbUNhbGxiYWNrID0gZnVuY3Rpb24gKGZuKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykgZm4uYXBwbHkodGhpcywgYXJncylcbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGFyZ3MucHVzaCgoZXJyLCByZXMpID0+IChlcnIgIT0gbnVsbCkgPyByZWplY3QoZXJyKSA6IHJlc29sdmUocmVzKSlcbiAgICAgICAgZm4uYXBwbHkodGhpcywgYXJncylcbiAgICAgIH0pXG4gICAgfVxuICB9LCAnbmFtZScsIHsgdmFsdWU6IGZuLm5hbWUgfSlcbn1cblxuZXhwb3J0cy5mcm9tUHJvbWlzZSA9IGZ1bmN0aW9uIChmbikge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgY29uc3QgY2IgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV1cbiAgICBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJncylcbiAgICBlbHNlIHtcbiAgICAgIGFyZ3MucG9wKClcbiAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3MpLnRoZW4ociA9PiBjYihudWxsLCByKSwgY2IpXG4gICAgfVxuICB9LCAnbmFtZScsIHsgdmFsdWU6IGZuLm5hbWUgfSlcbn1cbiIsCiAgInZhciBjb25zdGFudHMgPSByZXF1aXJlKCdjb25zdGFudHMnKVxuXG52YXIgb3JpZ0N3ZCA9IHByb2Nlc3MuY3dkXG52YXIgY3dkID0gbnVsbFxuXG52YXIgcGxhdGZvcm0gPSBwcm9jZXNzLmVudi5HUkFDRUZVTF9GU19QTEFURk9STSB8fCBwcm9jZXNzLnBsYXRmb3JtXG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24oKSB7XG4gIGlmICghY3dkKVxuICAgIGN3ZCA9IG9yaWdDd2QuY2FsbChwcm9jZXNzKVxuICByZXR1cm4gY3dkXG59XG50cnkge1xuICBwcm9jZXNzLmN3ZCgpXG59IGNhdGNoIChlcikge31cblxuLy8gVGhpcyBjaGVjayBpcyBuZWVkZWQgdW50aWwgbm9kZS5qcyAxMiBpcyByZXF1aXJlZFxuaWYgKHR5cGVvZiBwcm9jZXNzLmNoZGlyID09PSAnZnVuY3Rpb24nKSB7XG4gIHZhciBjaGRpciA9IHByb2Nlc3MuY2hkaXJcbiAgcHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkKSB7XG4gICAgY3dkID0gbnVsbFxuICAgIGNoZGlyLmNhbGwocHJvY2VzcywgZClcbiAgfVxuICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSBPYmplY3Quc2V0UHJvdG90eXBlT2YocHJvY2Vzcy5jaGRpciwgY2hkaXIpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0Y2hcblxuZnVuY3Rpb24gcGF0Y2ggKGZzKSB7XG4gIC8vIChyZS0paW1wbGVtZW50IHNvbWUgdGhpbmdzIHRoYXQgYXJlIGtub3duIGJ1c3RlZCBvciBtaXNzaW5nLlxuXG4gIC8vIGxjaG1vZCwgYnJva2VuIHByaW9yIHRvIDAuNi4yXG4gIC8vIGJhY2stcG9ydCB0aGUgZml4IGhlcmUuXG4gIGlmIChjb25zdGFudHMuaGFzT3duUHJvcGVydHkoJ09fU1lNTElOSycpICYmXG4gICAgICBwcm9jZXNzLnZlcnNpb24ubWF0Y2goL152MFxcLjZcXC5bMC0yXXxedjBcXC41XFwuLykpIHtcbiAgICBwYXRjaExjaG1vZChmcylcbiAgfVxuXG4gIC8vIGx1dGltZXMgaW1wbGVtZW50YXRpb24sIG9yIG5vLW9wXG4gIGlmICghZnMubHV0aW1lcykge1xuICAgIHBhdGNoTHV0aW1lcyhmcylcbiAgfVxuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9pc2FhY3Mvbm9kZS1ncmFjZWZ1bC1mcy9pc3N1ZXMvNFxuICAvLyBDaG93biBzaG91bGQgbm90IGZhaWwgb24gZWludmFsIG9yIGVwZXJtIGlmIG5vbi1yb290LlxuICAvLyBJdCBzaG91bGQgbm90IGZhaWwgb24gZW5vc3lzIGV2ZXIsIGFzIHRoaXMganVzdCBpbmRpY2F0ZXNcbiAgLy8gdGhhdCBhIGZzIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgaW50ZW5kZWQgb3BlcmF0aW9uLlxuXG4gIGZzLmNob3duID0gY2hvd25GaXgoZnMuY2hvd24pXG4gIGZzLmZjaG93biA9IGNob3duRml4KGZzLmZjaG93bilcbiAgZnMubGNob3duID0gY2hvd25GaXgoZnMubGNob3duKVxuXG4gIGZzLmNobW9kID0gY2htb2RGaXgoZnMuY2htb2QpXG4gIGZzLmZjaG1vZCA9IGNobW9kRml4KGZzLmZjaG1vZClcbiAgZnMubGNobW9kID0gY2htb2RGaXgoZnMubGNobW9kKVxuXG4gIGZzLmNob3duU3luYyA9IGNob3duRml4U3luYyhmcy5jaG93blN5bmMpXG4gIGZzLmZjaG93blN5bmMgPSBjaG93bkZpeFN5bmMoZnMuZmNob3duU3luYylcbiAgZnMubGNob3duU3luYyA9IGNob3duRml4U3luYyhmcy5sY2hvd25TeW5jKVxuXG4gIGZzLmNobW9kU3luYyA9IGNobW9kRml4U3luYyhmcy5jaG1vZFN5bmMpXG4gIGZzLmZjaG1vZFN5bmMgPSBjaG1vZEZpeFN5bmMoZnMuZmNobW9kU3luYylcbiAgZnMubGNobW9kU3luYyA9IGNobW9kRml4U3luYyhmcy5sY2htb2RTeW5jKVxuXG4gIGZzLnN0YXQgPSBzdGF0Rml4KGZzLnN0YXQpXG4gIGZzLmZzdGF0ID0gc3RhdEZpeChmcy5mc3RhdClcbiAgZnMubHN0YXQgPSBzdGF0Rml4KGZzLmxzdGF0KVxuXG4gIGZzLnN0YXRTeW5jID0gc3RhdEZpeFN5bmMoZnMuc3RhdFN5bmMpXG4gIGZzLmZzdGF0U3luYyA9IHN0YXRGaXhTeW5jKGZzLmZzdGF0U3luYylcbiAgZnMubHN0YXRTeW5jID0gc3RhdEZpeFN5bmMoZnMubHN0YXRTeW5jKVxuXG4gIC8vIGlmIGxjaG1vZC9sY2hvd24gZG8gbm90IGV4aXN0LCB0aGVuIG1ha2UgdGhlbSBuby1vcHNcbiAgaWYgKGZzLmNobW9kICYmICFmcy5sY2htb2QpIHtcbiAgICBmcy5sY2htb2QgPSBmdW5jdGlvbiAocGF0aCwgbW9kZSwgY2IpIHtcbiAgICAgIGlmIChjYikgcHJvY2Vzcy5uZXh0VGljayhjYilcbiAgICB9XG4gICAgZnMubGNobW9kU3luYyA9IGZ1bmN0aW9uICgpIHt9XG4gIH1cbiAgaWYgKGZzLmNob3duICYmICFmcy5sY2hvd24pIHtcbiAgICBmcy5sY2hvd24gPSBmdW5jdGlvbiAocGF0aCwgdWlkLCBnaWQsIGNiKSB7XG4gICAgICBpZiAoY2IpIHByb2Nlc3MubmV4dFRpY2soY2IpXG4gICAgfVxuICAgIGZzLmxjaG93blN5bmMgPSBmdW5jdGlvbiAoKSB7fVxuICB9XG5cbiAgLy8gb24gV2luZG93cywgQS9WIHNvZnR3YXJlIGNhbiBsb2NrIHRoZSBkaXJlY3RvcnksIGNhdXNpbmcgdGhpc1xuICAvLyB0byBmYWlsIHdpdGggYW4gRUFDQ0VTIG9yIEVQRVJNIGlmIHRoZSBkaXJlY3RvcnkgY29udGFpbnMgbmV3bHlcbiAgLy8gY3JlYXRlZCBmaWxlcy4gIFRyeSBhZ2FpbiBvbiBmYWlsdXJlLCBmb3IgdXAgdG8gNjAgc2Vjb25kcy5cblxuICAvLyBTZXQgdGhlIHRpbWVvdXQgdGhpcyBsb25nIGJlY2F1c2Ugc29tZSBXaW5kb3dzIEFudGktVmlydXMsIHN1Y2ggYXMgUGFyaXR5XG4gIC8vIGJpdDksIG1heSBsb2NrIGZpbGVzIGZvciB1cCB0byBhIG1pbnV0ZSwgY2F1c2luZyBucG0gcGFja2FnZSBpbnN0YWxsXG4gIC8vIGZhaWx1cmVzLiBBbHNvLCB0YWtlIGNhcmUgdG8geWllbGQgdGhlIHNjaGVkdWxlci4gV2luZG93cyBzY2hlZHVsaW5nIGdpdmVzXG4gIC8vIENQVSB0byBhIGJ1c3kgbG9vcGluZyBwcm9jZXNzLCB3aGljaCBjYW4gY2F1c2UgdGhlIHByb2dyYW0gY2F1c2luZyB0aGUgbG9ja1xuICAvLyBjb250ZW50aW9uIHRvIGJlIHN0YXJ2ZWQgb2YgQ1BVIGJ5IG5vZGUsIHNvIHRoZSBjb250ZW50aW9uIGRvZXNuJ3QgcmVzb2x2ZS5cbiAgaWYgKHBsYXRmb3JtID09PSBcIndpbjMyXCIpIHtcbiAgICBmcy5yZW5hbWUgPSB0eXBlb2YgZnMucmVuYW1lICE9PSAnZnVuY3Rpb24nID8gZnMucmVuYW1lXG4gICAgOiAoZnVuY3Rpb24gKGZzJHJlbmFtZSkge1xuICAgICAgZnVuY3Rpb24gcmVuYW1lIChmcm9tLCB0bywgY2IpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gRGF0ZS5ub3coKVxuICAgICAgICB2YXIgYmFja29mZiA9IDA7XG4gICAgICAgIGZzJHJlbmFtZShmcm9tLCB0bywgZnVuY3Rpb24gQ0IgKGVyKSB7XG4gICAgICAgICAgaWYgKGVyXG4gICAgICAgICAgICAgICYmIChlci5jb2RlID09PSBcIkVBQ0NFU1wiIHx8IGVyLmNvZGUgPT09IFwiRVBFUk1cIiB8fCBlci5jb2RlID09PSBcIkVCVVNZXCIpXG4gICAgICAgICAgICAgICYmIERhdGUubm93KCkgLSBzdGFydCA8IDYwMDAwKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBmcy5zdGF0KHRvLCBmdW5jdGlvbiAoc3RhdGVyLCBzdCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZXIgJiYgc3RhdGVyLmNvZGUgPT09IFwiRU5PRU5UXCIpXG4gICAgICAgICAgICAgICAgICBmcyRyZW5hbWUoZnJvbSwgdG8sIENCKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICBjYihlcilcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sIGJhY2tvZmYpXG4gICAgICAgICAgICBpZiAoYmFja29mZiA8IDEwMClcbiAgICAgICAgICAgICAgYmFja29mZiArPSAxMDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNiKSBjYihlcilcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIE9iamVjdC5zZXRQcm90b3R5cGVPZihyZW5hbWUsIGZzJHJlbmFtZSlcbiAgICAgIHJldHVybiByZW5hbWVcbiAgICB9KShmcy5yZW5hbWUpXG4gIH1cblxuICAvLyBpZiByZWFkKCkgcmV0dXJucyBFQUdBSU4sIHRoZW4ganVzdCB0cnkgaXQgYWdhaW4uXG4gIGZzLnJlYWQgPSB0eXBlb2YgZnMucmVhZCAhPT0gJ2Z1bmN0aW9uJyA/IGZzLnJlYWRcbiAgOiAoZnVuY3Rpb24gKGZzJHJlYWQpIHtcbiAgICBmdW5jdGlvbiByZWFkIChmZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24sIGNhbGxiYWNrXykge1xuICAgICAgdmFyIGNhbGxiYWNrXG4gICAgICBpZiAoY2FsbGJhY2tfICYmIHR5cGVvZiBjYWxsYmFja18gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGVhZ0NvdW50ZXIgPSAwXG4gICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKGVyLCBfLCBfXykge1xuICAgICAgICAgIGlmIChlciAmJiBlci5jb2RlID09PSAnRUFHQUlOJyAmJiBlYWdDb3VudGVyIDwgMTApIHtcbiAgICAgICAgICAgIGVhZ0NvdW50ZXIgKytcbiAgICAgICAgICAgIHJldHVybiBmcyRyZWFkLmNhbGwoZnMsIGZkLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbiwgY2FsbGJhY2spXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbGxiYWNrXy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmcyRyZWFkLmNhbGwoZnMsIGZkLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbiwgY2FsbGJhY2spXG4gICAgfVxuXG4gICAgLy8gVGhpcyBlbnN1cmVzIGB1dGlsLnByb21pc2lmeWAgd29ya3MgYXMgaXQgZG9lcyBmb3IgbmF0aXZlIGBmcy5yZWFkYC5cbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSBPYmplY3Quc2V0UHJvdG90eXBlT2YocmVhZCwgZnMkcmVhZClcbiAgICByZXR1cm4gcmVhZFxuICB9KShmcy5yZWFkKVxuXG4gIGZzLnJlYWRTeW5jID0gdHlwZW9mIGZzLnJlYWRTeW5jICE9PSAnZnVuY3Rpb24nID8gZnMucmVhZFN5bmNcbiAgOiAoZnVuY3Rpb24gKGZzJHJlYWRTeW5jKSB7IHJldHVybiBmdW5jdGlvbiAoZmQsIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKSB7XG4gICAgdmFyIGVhZ0NvdW50ZXIgPSAwXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmcyRyZWFkU3luYy5jYWxsKGZzLCBmZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pXG4gICAgICB9IGNhdGNoIChlcikge1xuICAgICAgICBpZiAoZXIuY29kZSA9PT0gJ0VBR0FJTicgJiYgZWFnQ291bnRlciA8IDEwKSB7XG4gICAgICAgICAgZWFnQ291bnRlciArK1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJcbiAgICAgIH1cbiAgICB9XG4gIH19KShmcy5yZWFkU3luYylcblxuICBmdW5jdGlvbiBwYXRjaExjaG1vZCAoZnMpIHtcbiAgICBmcy5sY2htb2QgPSBmdW5jdGlvbiAocGF0aCwgbW9kZSwgY2FsbGJhY2spIHtcbiAgICAgIGZzLm9wZW4oIHBhdGhcbiAgICAgICAgICAgICAsIGNvbnN0YW50cy5PX1dST05MWSB8IGNvbnN0YW50cy5PX1NZTUxJTktcbiAgICAgICAgICAgICAsIG1vZGVcbiAgICAgICAgICAgICAsIGZ1bmN0aW9uIChlcnIsIGZkKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVycilcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICAvLyBwcmVmZXIgdG8gcmV0dXJuIHRoZSBjaG1vZCBlcnJvciwgaWYgb25lIG9jY3VycyxcbiAgICAgICAgLy8gYnV0IHN0aWxsIHRyeSB0byBjbG9zZSwgYW5kIHJlcG9ydCBjbG9zaW5nIGVycm9ycyBpZiB0aGV5IG9jY3VyLlxuICAgICAgICBmcy5mY2htb2QoZmQsIG1vZGUsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBmcy5jbG9zZShmZCwgZnVuY3Rpb24oZXJyMikge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIgfHwgZXJyMilcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBmcy5sY2htb2RTeW5jID0gZnVuY3Rpb24gKHBhdGgsIG1vZGUpIHtcbiAgICAgIHZhciBmZCA9IGZzLm9wZW5TeW5jKHBhdGgsIGNvbnN0YW50cy5PX1dST05MWSB8IGNvbnN0YW50cy5PX1NZTUxJTkssIG1vZGUpXG5cbiAgICAgIC8vIHByZWZlciB0byByZXR1cm4gdGhlIGNobW9kIGVycm9yLCBpZiBvbmUgb2NjdXJzLFxuICAgICAgLy8gYnV0IHN0aWxsIHRyeSB0byBjbG9zZSwgYW5kIHJlcG9ydCBjbG9zaW5nIGVycm9ycyBpZiB0aGV5IG9jY3VyLlxuICAgICAgdmFyIHRocmV3ID0gdHJ1ZVxuICAgICAgdmFyIHJldFxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0ID0gZnMuZmNobW9kU3luYyhmZCwgbW9kZSlcbiAgICAgICAgdGhyZXcgPSBmYWxzZVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKHRocmV3KSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZzLmNsb3NlU3luYyhmZClcbiAgICAgICAgICB9IGNhdGNoIChlcikge31cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmcy5jbG9zZVN5bmMoZmQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXRcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXRjaEx1dGltZXMgKGZzKSB7XG4gICAgaWYgKGNvbnN0YW50cy5oYXNPd25Qcm9wZXJ0eShcIk9fU1lNTElOS1wiKSAmJiBmcy5mdXRpbWVzKSB7XG4gICAgICBmcy5sdXRpbWVzID0gZnVuY3Rpb24gKHBhdGgsIGF0LCBtdCwgY2IpIHtcbiAgICAgICAgZnMub3BlbihwYXRoLCBjb25zdGFudHMuT19TWU1MSU5LLCBmdW5jdGlvbiAoZXIsIGZkKSB7XG4gICAgICAgICAgaWYgKGVyKSB7XG4gICAgICAgICAgICBpZiAoY2IpIGNiKGVyKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGZzLmZ1dGltZXMoZmQsIGF0LCBtdCwgZnVuY3Rpb24gKGVyKSB7XG4gICAgICAgICAgICBmcy5jbG9zZShmZCwgZnVuY3Rpb24gKGVyMikge1xuICAgICAgICAgICAgICBpZiAoY2IpIGNiKGVyIHx8IGVyMilcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgZnMubHV0aW1lc1N5bmMgPSBmdW5jdGlvbiAocGF0aCwgYXQsIG10KSB7XG4gICAgICAgIHZhciBmZCA9IGZzLm9wZW5TeW5jKHBhdGgsIGNvbnN0YW50cy5PX1NZTUxJTkspXG4gICAgICAgIHZhciByZXRcbiAgICAgICAgdmFyIHRocmV3ID0gdHJ1ZVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldCA9IGZzLmZ1dGltZXNTeW5jKGZkLCBhdCwgbXQpXG4gICAgICAgICAgdGhyZXcgPSBmYWxzZVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmICh0aHJldykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZnMuY2xvc2VTeW5jKGZkKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXIpIHt9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZzLmNsb3NlU3luYyhmZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldFxuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChmcy5mdXRpbWVzKSB7XG4gICAgICBmcy5sdXRpbWVzID0gZnVuY3Rpb24gKF9hLCBfYiwgX2MsIGNiKSB7IGlmIChjYikgcHJvY2Vzcy5uZXh0VGljayhjYikgfVxuICAgICAgZnMubHV0aW1lc1N5bmMgPSBmdW5jdGlvbiAoKSB7fVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNobW9kRml4IChvcmlnKSB7XG4gICAgaWYgKCFvcmlnKSByZXR1cm4gb3JpZ1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBtb2RlLCBjYikge1xuICAgICAgcmV0dXJuIG9yaWcuY2FsbChmcywgdGFyZ2V0LCBtb2RlLCBmdW5jdGlvbiAoZXIpIHtcbiAgICAgICAgaWYgKGNob3duRXJPayhlcikpIGVyID0gbnVsbFxuICAgICAgICBpZiAoY2IpIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2htb2RGaXhTeW5jIChvcmlnKSB7XG4gICAgaWYgKCFvcmlnKSByZXR1cm4gb3JpZ1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBtb2RlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gb3JpZy5jYWxsKGZzLCB0YXJnZXQsIG1vZGUpXG4gICAgICB9IGNhdGNoIChlcikge1xuICAgICAgICBpZiAoIWNob3duRXJPayhlcikpIHRocm93IGVyXG4gICAgICB9XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBjaG93bkZpeCAob3JpZykge1xuICAgIGlmICghb3JpZykgcmV0dXJuIG9yaWdcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgdWlkLCBnaWQsIGNiKSB7XG4gICAgICByZXR1cm4gb3JpZy5jYWxsKGZzLCB0YXJnZXQsIHVpZCwgZ2lkLCBmdW5jdGlvbiAoZXIpIHtcbiAgICAgICAgaWYgKGNob3duRXJPayhlcikpIGVyID0gbnVsbFxuICAgICAgICBpZiAoY2IpIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hvd25GaXhTeW5jIChvcmlnKSB7XG4gICAgaWYgKCFvcmlnKSByZXR1cm4gb3JpZ1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCB1aWQsIGdpZCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG9yaWcuY2FsbChmcywgdGFyZ2V0LCB1aWQsIGdpZClcbiAgICAgIH0gY2F0Y2ggKGVyKSB7XG4gICAgICAgIGlmICghY2hvd25Fck9rKGVyKSkgdGhyb3cgZXJcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdGF0Rml4IChvcmlnKSB7XG4gICAgaWYgKCFvcmlnKSByZXR1cm4gb3JpZ1xuICAgIC8vIE9sZGVyIHZlcnNpb25zIG9mIE5vZGUgZXJyb25lb3VzbHkgcmV0dXJuZWQgc2lnbmVkIGludGVnZXJzIGZvclxuICAgIC8vIHVpZCArIGdpZC5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwgb3B0aW9ucywgY2IpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYiA9IG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucyA9IG51bGxcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrIChlciwgc3RhdHMpIHtcbiAgICAgICAgaWYgKHN0YXRzKSB7XG4gICAgICAgICAgaWYgKHN0YXRzLnVpZCA8IDApIHN0YXRzLnVpZCArPSAweDEwMDAwMDAwMFxuICAgICAgICAgIGlmIChzdGF0cy5naWQgPCAwKSBzdGF0cy5naWQgKz0gMHgxMDAwMDAwMDBcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2IpIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcHRpb25zID8gb3JpZy5jYWxsKGZzLCB0YXJnZXQsIG9wdGlvbnMsIGNhbGxiYWNrKVxuICAgICAgICA6IG9yaWcuY2FsbChmcywgdGFyZ2V0LCBjYWxsYmFjaylcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdGF0Rml4U3luYyAob3JpZykge1xuICAgIGlmICghb3JpZykgcmV0dXJuIG9yaWdcbiAgICAvLyBPbGRlciB2ZXJzaW9ucyBvZiBOb2RlIGVycm9uZW91c2x5IHJldHVybmVkIHNpZ25lZCBpbnRlZ2VycyBmb3JcbiAgICAvLyB1aWQgKyBnaWQuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBzdGF0cyA9IG9wdGlvbnMgPyBvcmlnLmNhbGwoZnMsIHRhcmdldCwgb3B0aW9ucylcbiAgICAgICAgOiBvcmlnLmNhbGwoZnMsIHRhcmdldClcbiAgICAgIGlmIChzdGF0cykge1xuICAgICAgICBpZiAoc3RhdHMudWlkIDwgMCkgc3RhdHMudWlkICs9IDB4MTAwMDAwMDAwXG4gICAgICAgIGlmIChzdGF0cy5naWQgPCAwKSBzdGF0cy5naWQgKz0gMHgxMDAwMDAwMDBcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0cztcbiAgICB9XG4gIH1cblxuICAvLyBFTk9TWVMgbWVhbnMgdGhhdCB0aGUgZnMgZG9lc24ndCBzdXBwb3J0IHRoZSBvcC4gSnVzdCBpZ25vcmVcbiAgLy8gdGhhdCwgYmVjYXVzZSBpdCBkb2Vzbid0IG1hdHRlci5cbiAgLy9cbiAgLy8gaWYgdGhlcmUncyBubyBnZXR1aWQsIG9yIGlmIGdldHVpZCgpIGlzIHNvbWV0aGluZyBvdGhlclxuICAvLyB0aGFuIDAsIGFuZCB0aGUgZXJyb3IgaXMgRUlOVkFMIG9yIEVQRVJNLCB0aGVuIGp1c3QgaWdub3JlXG4gIC8vIGl0LlxuICAvL1xuICAvLyBUaGlzIHNwZWNpZmljIGNhc2UgaXMgYSBzaWxlbnQgZmFpbHVyZSBpbiBjcCwgaW5zdGFsbCwgdGFyLFxuICAvLyBhbmQgbW9zdCBvdGhlciB1bml4IHRvb2xzIHRoYXQgbWFuYWdlIHBlcm1pc3Npb25zLlxuICAvL1xuICAvLyBXaGVuIHJ1bm5pbmcgYXMgcm9vdCwgb3IgaWYgb3RoZXIgdHlwZXMgb2YgZXJyb3JzIGFyZVxuICAvLyBlbmNvdW50ZXJlZCwgdGhlbiBpdCdzIHN0cmljdC5cbiAgZnVuY3Rpb24gY2hvd25Fck9rIChlcikge1xuICAgIGlmICghZXIpXG4gICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgaWYgKGVyLmNvZGUgPT09IFwiRU5PU1lTXCIpXG4gICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgdmFyIG5vbnJvb3QgPSAhcHJvY2Vzcy5nZXR1aWQgfHwgcHJvY2Vzcy5nZXR1aWQoKSAhPT0gMFxuICAgIGlmIChub25yb290KSB7XG4gICAgICBpZiAoZXIuY29kZSA9PT0gXCJFSU5WQUxcIiB8fCBlci5jb2RlID09PSBcIkVQRVJNXCIpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cbiIsCiAgInZhciBTdHJlYW0gPSByZXF1aXJlKCdzdHJlYW0nKS5TdHJlYW1cblxubW9kdWxlLmV4cG9ydHMgPSBsZWdhY3lcblxuZnVuY3Rpb24gbGVnYWN5IChmcykge1xuICByZXR1cm4ge1xuICAgIFJlYWRTdHJlYW06IFJlYWRTdHJlYW0sXG4gICAgV3JpdGVTdHJlYW06IFdyaXRlU3RyZWFtXG4gIH1cblxuICBmdW5jdGlvbiBSZWFkU3RyZWFtIChwYXRoLCBvcHRpb25zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlYWRTdHJlYW0pKSByZXR1cm4gbmV3IFJlYWRTdHJlYW0ocGF0aCwgb3B0aW9ucyk7XG5cbiAgICBTdHJlYW0uY2FsbCh0aGlzKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgdGhpcy5mZCA9IG51bGw7XG4gICAgdGhpcy5yZWFkYWJsZSA9IHRydWU7XG4gICAgdGhpcy5wYXVzZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuZmxhZ3MgPSAncic7XG4gICAgdGhpcy5tb2RlID0gNDM4OyAvKj0wNjY2Ki9cbiAgICB0aGlzLmJ1ZmZlclNpemUgPSA2NCAqIDEwMjQ7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8vIE1peGluIG9wdGlvbnMgaW50byB0aGlzXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgdGhpc1trZXldID0gb3B0aW9uc1trZXldO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmVuY29kaW5nKSB0aGlzLnNldEVuY29kaW5nKHRoaXMuZW5jb2RpbmcpO1xuXG4gICAgaWYgKHRoaXMuc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKCdudW1iZXInICE9PSB0eXBlb2YgdGhpcy5zdGFydCkge1xuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ3N0YXJ0IG11c3QgYmUgYSBOdW1iZXInKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuZW5kID0gSW5maW5pdHk7XG4gICAgICB9IGVsc2UgaWYgKCdudW1iZXInICE9PSB0eXBlb2YgdGhpcy5lbmQpIHtcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdlbmQgbXVzdCBiZSBhIE51bWJlcicpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zdGFydCA+IHRoaXMuZW5kKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc3RhcnQgbXVzdCBiZSA8PSBlbmQnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wb3MgPSB0aGlzLnN0YXJ0O1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZkICE9PSBudWxsKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLl9yZWFkKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmcy5vcGVuKHRoaXMucGF0aCwgdGhpcy5mbGFncywgdGhpcy5tb2RlLCBmdW5jdGlvbiAoZXJyLCBmZCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgc2VsZi5yZWFkYWJsZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGYuZmQgPSBmZDtcbiAgICAgIHNlbGYuZW1pdCgnb3BlbicsIGZkKTtcbiAgICAgIHNlbGYuX3JlYWQoKTtcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gV3JpdGVTdHJlYW0gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgV3JpdGVTdHJlYW0pKSByZXR1cm4gbmV3IFdyaXRlU3RyZWFtKHBhdGgsIG9wdGlvbnMpO1xuXG4gICAgU3RyZWFtLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgIHRoaXMuZmQgPSBudWxsO1xuICAgIHRoaXMud3JpdGFibGUgPSB0cnVlO1xuXG4gICAgdGhpcy5mbGFncyA9ICd3JztcbiAgICB0aGlzLmVuY29kaW5nID0gJ2JpbmFyeSc7XG4gICAgdGhpcy5tb2RlID0gNDM4OyAvKj0wNjY2Ki9cbiAgICB0aGlzLmJ5dGVzV3JpdHRlbiA9IDA7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8vIE1peGluIG9wdGlvbnMgaW50byB0aGlzXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgdGhpc1trZXldID0gb3B0aW9uc1trZXldO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICgnbnVtYmVyJyAhPT0gdHlwZW9mIHRoaXMuc3RhcnQpIHtcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdzdGFydCBtdXN0IGJlIGEgTnVtYmVyJyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zdGFydCA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdGFydCBtdXN0IGJlID49IHplcm8nKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wb3MgPSB0aGlzLnN0YXJ0O1xuICAgIH1cblxuICAgIHRoaXMuYnVzeSA9IGZhbHNlO1xuICAgIHRoaXMuX3F1ZXVlID0gW107XG5cbiAgICBpZiAodGhpcy5mZCA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5fb3BlbiA9IGZzLm9wZW47XG4gICAgICB0aGlzLl9xdWV1ZS5wdXNoKFt0aGlzLl9vcGVuLCB0aGlzLnBhdGgsIHRoaXMuZmxhZ3MsIHRoaXMubW9kZSwgdW5kZWZpbmVkXSk7XG4gICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfVxuICB9XG59XG4iLAogICIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBjbG9uZVxuXG52YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqLl9fcHJvdG9fX1xufVxuXG5mdW5jdGlvbiBjbG9uZSAob2JqKSB7XG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpXG4gICAgcmV0dXJuIG9ialxuXG4gIGlmIChvYmogaW5zdGFuY2VvZiBPYmplY3QpXG4gICAgdmFyIGNvcHkgPSB7IF9fcHJvdG9fXzogZ2V0UHJvdG90eXBlT2Yob2JqKSB9XG4gIGVsc2VcbiAgICB2YXIgY29weSA9IE9iamVjdC5jcmVhdGUobnVsbClcblxuICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb3B5LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpKVxuICB9KVxuXG4gIHJldHVybiBjb3B5XG59XG4iLAogICJ2YXIgZnMgPSByZXF1aXJlKCdmcycpXG52YXIgcG9seWZpbGxzID0gcmVxdWlyZSgnLi9wb2x5ZmlsbHMuanMnKVxudmFyIGxlZ2FjeSA9IHJlcXVpcmUoJy4vbGVnYWN5LXN0cmVhbXMuanMnKVxudmFyIGNsb25lID0gcmVxdWlyZSgnLi9jbG9uZS5qcycpXG5cbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0gbm9kZSAwLnggcG9seWZpbGwgKi9cbnZhciBncmFjZWZ1bFF1ZXVlXG52YXIgcHJldmlvdXNTeW1ib2xcblxuLyogaXN0YW5idWwgaWdub3JlIGVsc2UgLSBub2RlIDAueCBwb2x5ZmlsbCAqL1xuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC5mb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgZ3JhY2VmdWxRdWV1ZSA9IFN5bWJvbC5mb3IoJ2dyYWNlZnVsLWZzLnF1ZXVlJylcbiAgLy8gVGhpcyBpcyB1c2VkIGluIHRlc3RpbmcgYnkgZnV0dXJlIHZlcnNpb25zXG4gIHByZXZpb3VzU3ltYm9sID0gU3ltYm9sLmZvcignZ3JhY2VmdWwtZnMucHJldmlvdXMnKVxufSBlbHNlIHtcbiAgZ3JhY2VmdWxRdWV1ZSA9ICdfX19ncmFjZWZ1bC1mcy5xdWV1ZSdcbiAgcHJldmlvdXNTeW1ib2wgPSAnX19fZ3JhY2VmdWwtZnMucHJldmlvdXMnXG59XG5cbmZ1bmN0aW9uIG5vb3AgKCkge31cblxuZnVuY3Rpb24gcHVibGlzaFF1ZXVlKGNvbnRleHQsIHF1ZXVlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb250ZXh0LCBncmFjZWZ1bFF1ZXVlLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBxdWV1ZVxuICAgIH1cbiAgfSlcbn1cblxudmFyIGRlYnVnID0gbm9vcFxuaWYgKHV0aWwuZGVidWdsb2cpXG4gIGRlYnVnID0gdXRpbC5kZWJ1Z2xvZygnZ2ZzNCcpXG5lbHNlIGlmICgvXFxiZ2ZzNFxcYi9pLnRlc3QocHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJykpXG4gIGRlYnVnID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG0gPSB1dGlsLmZvcm1hdC5hcHBseSh1dGlsLCBhcmd1bWVudHMpXG4gICAgbSA9ICdHRlM0OiAnICsgbS5zcGxpdCgvXFxuLykuam9pbignXFxuR0ZTNDogJylcbiAgICBjb25zb2xlLmVycm9yKG0pXG4gIH1cblxuLy8gT25jZSB0aW1lIGluaXRpYWxpemF0aW9uXG5pZiAoIWZzW2dyYWNlZnVsUXVldWVdKSB7XG4gIC8vIFRoaXMgcXVldWUgY2FuIGJlIHNoYXJlZCBieSBtdWx0aXBsZSBsb2FkZWQgaW5zdGFuY2VzXG4gIHZhciBxdWV1ZSA9IGdsb2JhbFtncmFjZWZ1bFF1ZXVlXSB8fCBbXVxuICBwdWJsaXNoUXVldWUoZnMsIHF1ZXVlKVxuXG4gIC8vIFBhdGNoIGZzLmNsb3NlL2Nsb3NlU3luYyB0byBzaGFyZWQgcXVldWUgdmVyc2lvbiwgYmVjYXVzZSB3ZSBuZWVkXG4gIC8vIHRvIHJldHJ5KCkgd2hlbmV2ZXIgYSBjbG9zZSBoYXBwZW5zICphbnl3aGVyZSogaW4gdGhlIHByb2dyYW0uXG4gIC8vIFRoaXMgaXMgZXNzZW50aWFsIHdoZW4gbXVsdGlwbGUgZ3JhY2VmdWwtZnMgaW5zdGFuY2VzIGFyZVxuICAvLyBpbiBwbGF5IGF0IHRoZSBzYW1lIHRpbWUuXG4gIGZzLmNsb3NlID0gKGZ1bmN0aW9uIChmcyRjbG9zZSkge1xuICAgIGZ1bmN0aW9uIGNsb3NlIChmZCwgY2IpIHtcbiAgICAgIHJldHVybiBmcyRjbG9zZS5jYWxsKGZzLCBmZCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHVzZXMgdGhlIGdyYWNlZnVsLWZzIHNoYXJlZCBxdWV1ZVxuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgIHJlc2V0UXVldWUoKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICBjYi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICB9KVxuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjbG9zZSwgcHJldmlvdXNTeW1ib2wsIHtcbiAgICAgIHZhbHVlOiBmcyRjbG9zZVxuICAgIH0pXG4gICAgcmV0dXJuIGNsb3NlXG4gIH0pKGZzLmNsb3NlKVxuXG4gIGZzLmNsb3NlU3luYyA9IChmdW5jdGlvbiAoZnMkY2xvc2VTeW5jKSB7XG4gICAgZnVuY3Rpb24gY2xvc2VTeW5jIChmZCkge1xuICAgICAgLy8gVGhpcyBmdW5jdGlvbiB1c2VzIHRoZSBncmFjZWZ1bC1mcyBzaGFyZWQgcXVldWVcbiAgICAgIGZzJGNsb3NlU3luYy5hcHBseShmcywgYXJndW1lbnRzKVxuICAgICAgcmVzZXRRdWV1ZSgpXG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNsb3NlU3luYywgcHJldmlvdXNTeW1ib2wsIHtcbiAgICAgIHZhbHVlOiBmcyRjbG9zZVN5bmNcbiAgICB9KVxuICAgIHJldHVybiBjbG9zZVN5bmNcbiAgfSkoZnMuY2xvc2VTeW5jKVxuXG4gIGlmICgvXFxiZ2ZzNFxcYi9pLnRlc3QocHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJykpIHtcbiAgICBwcm9jZXNzLm9uKCdleGl0JywgZnVuY3Rpb24oKSB7XG4gICAgICBkZWJ1Zyhmc1tncmFjZWZ1bFF1ZXVlXSlcbiAgICAgIHJlcXVpcmUoJ2Fzc2VydCcpLmVxdWFsKGZzW2dyYWNlZnVsUXVldWVdLmxlbmd0aCwgMClcbiAgICB9KVxuICB9XG59XG5cbmlmICghZ2xvYmFsW2dyYWNlZnVsUXVldWVdKSB7XG4gIHB1Ymxpc2hRdWV1ZShnbG9iYWwsIGZzW2dyYWNlZnVsUXVldWVdKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXRjaChjbG9uZShmcykpXG5pZiAocHJvY2Vzcy5lbnYuVEVTVF9HUkFDRUZVTF9GU19HTE9CQUxfUEFUQ0ggJiYgIWZzLl9fcGF0Y2hlZCkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gcGF0Y2goZnMpXG4gICAgZnMuX19wYXRjaGVkID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcGF0Y2ggKGZzKSB7XG4gIC8vIEV2ZXJ5dGhpbmcgdGhhdCByZWZlcmVuY2VzIHRoZSBvcGVuKCkgZnVuY3Rpb24gbmVlZHMgdG8gYmUgaW4gaGVyZVxuICBwb2x5ZmlsbHMoZnMpXG4gIGZzLmdyYWNlZnVsaWZ5ID0gcGF0Y2hcblxuICBmcy5jcmVhdGVSZWFkU3RyZWFtID0gY3JlYXRlUmVhZFN0cmVhbVxuICBmcy5jcmVhdGVXcml0ZVN0cmVhbSA9IGNyZWF0ZVdyaXRlU3RyZWFtXG4gIHZhciBmcyRyZWFkRmlsZSA9IGZzLnJlYWRGaWxlXG4gIGZzLnJlYWRGaWxlID0gcmVhZEZpbGVcbiAgZnVuY3Rpb24gcmVhZEZpbGUgKHBhdGgsIG9wdGlvbnMsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKVxuICAgICAgY2IgPSBvcHRpb25zLCBvcHRpb25zID0gbnVsbFxuXG4gICAgcmV0dXJuIGdvJHJlYWRGaWxlKHBhdGgsIG9wdGlvbnMsIGNiKVxuXG4gICAgZnVuY3Rpb24gZ28kcmVhZEZpbGUgKHBhdGgsIG9wdGlvbnMsIGNiLCBzdGFydFRpbWUpIHtcbiAgICAgIHJldHVybiBmcyRyZWFkRmlsZShwYXRoLCBvcHRpb25zLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgJiYgKGVyci5jb2RlID09PSAnRU1GSUxFJyB8fCBlcnIuY29kZSA9PT0gJ0VORklMRScpKVxuICAgICAgICAgIGVucXVldWUoW2dvJHJlYWRGaWxlLCBbcGF0aCwgb3B0aW9ucywgY2JdLCBlcnIsIHN0YXJ0VGltZSB8fCBEYXRlLm5vdygpLCBEYXRlLm5vdygpXSlcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICB2YXIgZnMkd3JpdGVGaWxlID0gZnMud3JpdGVGaWxlXG4gIGZzLndyaXRlRmlsZSA9IHdyaXRlRmlsZVxuICBmdW5jdGlvbiB3cml0ZUZpbGUgKHBhdGgsIGRhdGEsIG9wdGlvbnMsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKVxuICAgICAgY2IgPSBvcHRpb25zLCBvcHRpb25zID0gbnVsbFxuXG4gICAgcmV0dXJuIGdvJHdyaXRlRmlsZShwYXRoLCBkYXRhLCBvcHRpb25zLCBjYilcblxuICAgIGZ1bmN0aW9uIGdvJHdyaXRlRmlsZSAocGF0aCwgZGF0YSwgb3B0aW9ucywgY2IsIHN0YXJ0VGltZSkge1xuICAgICAgcmV0dXJuIGZzJHdyaXRlRmlsZShwYXRoLCBkYXRhLCBvcHRpb25zLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgJiYgKGVyci5jb2RlID09PSAnRU1GSUxFJyB8fCBlcnIuY29kZSA9PT0gJ0VORklMRScpKVxuICAgICAgICAgIGVucXVldWUoW2dvJHdyaXRlRmlsZSwgW3BhdGgsIGRhdGEsIG9wdGlvbnMsIGNiXSwgZXJyLCBzdGFydFRpbWUgfHwgRGF0ZS5ub3coKSwgRGF0ZS5ub3coKV0pXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICBjYi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgdmFyIGZzJGFwcGVuZEZpbGUgPSBmcy5hcHBlbmRGaWxlXG4gIGlmIChmcyRhcHBlbmRGaWxlKVxuICAgIGZzLmFwcGVuZEZpbGUgPSBhcHBlbmRGaWxlXG4gIGZ1bmN0aW9uIGFwcGVuZEZpbGUgKHBhdGgsIGRhdGEsIG9wdGlvbnMsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKVxuICAgICAgY2IgPSBvcHRpb25zLCBvcHRpb25zID0gbnVsbFxuXG4gICAgcmV0dXJuIGdvJGFwcGVuZEZpbGUocGF0aCwgZGF0YSwgb3B0aW9ucywgY2IpXG5cbiAgICBmdW5jdGlvbiBnbyRhcHBlbmRGaWxlIChwYXRoLCBkYXRhLCBvcHRpb25zLCBjYiwgc3RhcnRUaW1lKSB7XG4gICAgICByZXR1cm4gZnMkYXBwZW5kRmlsZShwYXRoLCBkYXRhLCBvcHRpb25zLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgJiYgKGVyci5jb2RlID09PSAnRU1GSUxFJyB8fCBlcnIuY29kZSA9PT0gJ0VORklMRScpKVxuICAgICAgICAgIGVucXVldWUoW2dvJGFwcGVuZEZpbGUsIFtwYXRoLCBkYXRhLCBvcHRpb25zLCBjYl0sIGVyciwgc3RhcnRUaW1lIHx8IERhdGUubm93KCksIERhdGUubm93KCldKVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgY2IuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHZhciBmcyRjb3B5RmlsZSA9IGZzLmNvcHlGaWxlXG4gIGlmIChmcyRjb3B5RmlsZSlcbiAgICBmcy5jb3B5RmlsZSA9IGNvcHlGaWxlXG4gIGZ1bmN0aW9uIGNvcHlGaWxlIChzcmMsIGRlc3QsIGZsYWdzLCBjYikge1xuICAgIGlmICh0eXBlb2YgZmxhZ3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gZmxhZ3NcbiAgICAgIGZsYWdzID0gMFxuICAgIH1cbiAgICByZXR1cm4gZ28kY29weUZpbGUoc3JjLCBkZXN0LCBmbGFncywgY2IpXG5cbiAgICBmdW5jdGlvbiBnbyRjb3B5RmlsZSAoc3JjLCBkZXN0LCBmbGFncywgY2IsIHN0YXJ0VGltZSkge1xuICAgICAgcmV0dXJuIGZzJGNvcHlGaWxlKHNyYywgZGVzdCwgZmxhZ3MsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciAmJiAoZXJyLmNvZGUgPT09ICdFTUZJTEUnIHx8IGVyci5jb2RlID09PSAnRU5GSUxFJykpXG4gICAgICAgICAgZW5xdWV1ZShbZ28kY29weUZpbGUsIFtzcmMsIGRlc3QsIGZsYWdzLCBjYl0sIGVyciwgc3RhcnRUaW1lIHx8IERhdGUubm93KCksIERhdGUubm93KCldKVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgY2IuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHZhciBmcyRyZWFkZGlyID0gZnMucmVhZGRpclxuICBmcy5yZWFkZGlyID0gcmVhZGRpclxuICB2YXIgbm9SZWFkZGlyT3B0aW9uVmVyc2lvbnMgPSAvXnZbMC01XVxcLi9cbiAgZnVuY3Rpb24gcmVhZGRpciAocGF0aCwgb3B0aW9ucywgY2IpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpXG4gICAgICBjYiA9IG9wdGlvbnMsIG9wdGlvbnMgPSBudWxsXG5cbiAgICB2YXIgZ28kcmVhZGRpciA9IG5vUmVhZGRpck9wdGlvblZlcnNpb25zLnRlc3QocHJvY2Vzcy52ZXJzaW9uKVxuICAgICAgPyBmdW5jdGlvbiBnbyRyZWFkZGlyIChwYXRoLCBvcHRpb25zLCBjYiwgc3RhcnRUaW1lKSB7XG4gICAgICAgIHJldHVybiBmcyRyZWFkZGlyKHBhdGgsIGZzJHJlYWRkaXJDYWxsYmFjayhcbiAgICAgICAgICBwYXRoLCBvcHRpb25zLCBjYiwgc3RhcnRUaW1lXG4gICAgICAgICkpXG4gICAgICB9XG4gICAgICA6IGZ1bmN0aW9uIGdvJHJlYWRkaXIgKHBhdGgsIG9wdGlvbnMsIGNiLCBzdGFydFRpbWUpIHtcbiAgICAgICAgcmV0dXJuIGZzJHJlYWRkaXIocGF0aCwgb3B0aW9ucywgZnMkcmVhZGRpckNhbGxiYWNrKFxuICAgICAgICAgIHBhdGgsIG9wdGlvbnMsIGNiLCBzdGFydFRpbWVcbiAgICAgICAgKSlcbiAgICAgIH1cblxuICAgIHJldHVybiBnbyRyZWFkZGlyKHBhdGgsIG9wdGlvbnMsIGNiKVxuXG4gICAgZnVuY3Rpb24gZnMkcmVhZGRpckNhbGxiYWNrIChwYXRoLCBvcHRpb25zLCBjYiwgc3RhcnRUaW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGVyciwgZmlsZXMpIHtcbiAgICAgICAgaWYgKGVyciAmJiAoZXJyLmNvZGUgPT09ICdFTUZJTEUnIHx8IGVyci5jb2RlID09PSAnRU5GSUxFJykpXG4gICAgICAgICAgZW5xdWV1ZShbXG4gICAgICAgICAgICBnbyRyZWFkZGlyLFxuICAgICAgICAgICAgW3BhdGgsIG9wdGlvbnMsIGNiXSxcbiAgICAgICAgICAgIGVycixcbiAgICAgICAgICAgIHN0YXJ0VGltZSB8fCBEYXRlLm5vdygpLFxuICAgICAgICAgICAgRGF0ZS5ub3coKVxuICAgICAgICAgIF0pXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmIChmaWxlcyAmJiBmaWxlcy5zb3J0KVxuICAgICAgICAgICAgZmlsZXMuc29ydCgpXG5cbiAgICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgY2IuY2FsbCh0aGlzLCBlcnIsIGZpbGVzKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHByb2Nlc3MudmVyc2lvbi5zdWJzdHIoMCwgNCkgPT09ICd2MC44Jykge1xuICAgIHZhciBsZWdTdHJlYW1zID0gbGVnYWN5KGZzKVxuICAgIFJlYWRTdHJlYW0gPSBsZWdTdHJlYW1zLlJlYWRTdHJlYW1cbiAgICBXcml0ZVN0cmVhbSA9IGxlZ1N0cmVhbXMuV3JpdGVTdHJlYW1cbiAgfVxuXG4gIHZhciBmcyRSZWFkU3RyZWFtID0gZnMuUmVhZFN0cmVhbVxuICBpZiAoZnMkUmVhZFN0cmVhbSkge1xuICAgIFJlYWRTdHJlYW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShmcyRSZWFkU3RyZWFtLnByb3RvdHlwZSlcbiAgICBSZWFkU3RyZWFtLnByb3RvdHlwZS5vcGVuID0gUmVhZFN0cmVhbSRvcGVuXG4gIH1cblxuICB2YXIgZnMkV3JpdGVTdHJlYW0gPSBmcy5Xcml0ZVN0cmVhbVxuICBpZiAoZnMkV3JpdGVTdHJlYW0pIHtcbiAgICBXcml0ZVN0cmVhbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGZzJFdyaXRlU3RyZWFtLnByb3RvdHlwZSlcbiAgICBXcml0ZVN0cmVhbS5wcm90b3R5cGUub3BlbiA9IFdyaXRlU3RyZWFtJG9wZW5cbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmcywgJ1JlYWRTdHJlYW0nLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gUmVhZFN0cmVhbVxuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBSZWFkU3RyZWFtID0gdmFsXG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZnMsICdXcml0ZVN0cmVhbScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBXcml0ZVN0cmVhbVxuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBXcml0ZVN0cmVhbSA9IHZhbFxuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSlcblxuICAvLyBsZWdhY3kgbmFtZXNcbiAgdmFyIEZpbGVSZWFkU3RyZWFtID0gUmVhZFN0cmVhbVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZnMsICdGaWxlUmVhZFN0cmVhbScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBGaWxlUmVhZFN0cmVhbVxuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBGaWxlUmVhZFN0cmVhbSA9IHZhbFxuICAgIH0sXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSlcbiAgdmFyIEZpbGVXcml0ZVN0cmVhbSA9IFdyaXRlU3RyZWFtXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmcywgJ0ZpbGVXcml0ZVN0cmVhbScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBGaWxlV3JpdGVTdHJlYW1cbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgRmlsZVdyaXRlU3RyZWFtID0gdmFsXG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KVxuXG4gIGZ1bmN0aW9uIFJlYWRTdHJlYW0gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFJlYWRTdHJlYW0pXG4gICAgICByZXR1cm4gZnMkUmVhZFN0cmVhbS5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCB0aGlzXG4gICAgZWxzZVxuICAgICAgcmV0dXJuIFJlYWRTdHJlYW0uYXBwbHkoT2JqZWN0LmNyZWF0ZShSZWFkU3RyZWFtLnByb3RvdHlwZSksIGFyZ3VtZW50cylcbiAgfVxuXG4gIGZ1bmN0aW9uIFJlYWRTdHJlYW0kb3BlbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgb3Blbih0aGF0LnBhdGgsIHRoYXQuZmxhZ3MsIHRoYXQubW9kZSwgZnVuY3Rpb24gKGVyciwgZmQpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgaWYgKHRoYXQuYXV0b0Nsb3NlKVxuICAgICAgICAgIHRoYXQuZGVzdHJveSgpXG5cbiAgICAgICAgdGhhdC5lbWl0KCdlcnJvcicsIGVycilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoYXQuZmQgPSBmZFxuICAgICAgICB0aGF0LmVtaXQoJ29wZW4nLCBmZClcbiAgICAgICAgdGhhdC5yZWFkKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gV3JpdGVTdHJlYW0gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFdyaXRlU3RyZWFtKVxuICAgICAgcmV0dXJuIGZzJFdyaXRlU3RyZWFtLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRoaXNcbiAgICBlbHNlXG4gICAgICByZXR1cm4gV3JpdGVTdHJlYW0uYXBwbHkoT2JqZWN0LmNyZWF0ZShXcml0ZVN0cmVhbS5wcm90b3R5cGUpLCBhcmd1bWVudHMpXG4gIH1cblxuICBmdW5jdGlvbiBXcml0ZVN0cmVhbSRvcGVuICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICBvcGVuKHRoYXQucGF0aCwgdGhhdC5mbGFncywgdGhhdC5tb2RlLCBmdW5jdGlvbiAoZXJyLCBmZCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0aGF0LmRlc3Ryb3koKVxuICAgICAgICB0aGF0LmVtaXQoJ2Vycm9yJywgZXJyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhhdC5mZCA9IGZkXG4gICAgICAgIHRoYXQuZW1pdCgnb3BlbicsIGZkKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVSZWFkU3RyZWFtIChwYXRoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBmcy5SZWFkU3RyZWFtKHBhdGgsIG9wdGlvbnMpXG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVXcml0ZVN0cmVhbSAocGF0aCwgb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgZnMuV3JpdGVTdHJlYW0ocGF0aCwgb3B0aW9ucylcbiAgfVxuXG4gIHZhciBmcyRvcGVuID0gZnMub3BlblxuICBmcy5vcGVuID0gb3BlblxuICBmdW5jdGlvbiBvcGVuIChwYXRoLCBmbGFncywgbW9kZSwgY2IpIHtcbiAgICBpZiAodHlwZW9mIG1vZGUgPT09ICdmdW5jdGlvbicpXG4gICAgICBjYiA9IG1vZGUsIG1vZGUgPSBudWxsXG5cbiAgICByZXR1cm4gZ28kb3BlbihwYXRoLCBmbGFncywgbW9kZSwgY2IpXG5cbiAgICBmdW5jdGlvbiBnbyRvcGVuIChwYXRoLCBmbGFncywgbW9kZSwgY2IsIHN0YXJ0VGltZSkge1xuICAgICAgcmV0dXJuIGZzJG9wZW4ocGF0aCwgZmxhZ3MsIG1vZGUsIGZ1bmN0aW9uIChlcnIsIGZkKSB7XG4gICAgICAgIGlmIChlcnIgJiYgKGVyci5jb2RlID09PSAnRU1GSUxFJyB8fCBlcnIuY29kZSA9PT0gJ0VORklMRScpKVxuICAgICAgICAgIGVucXVldWUoW2dvJG9wZW4sIFtwYXRoLCBmbGFncywgbW9kZSwgY2JdLCBlcnIsIHN0YXJ0VGltZSB8fCBEYXRlLm5vdygpLCBEYXRlLm5vdygpXSlcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGNiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnNcbn1cblxuZnVuY3Rpb24gZW5xdWV1ZSAoZWxlbSkge1xuICBkZWJ1ZygnRU5RVUVVRScsIGVsZW1bMF0ubmFtZSwgZWxlbVsxXSlcbiAgZnNbZ3JhY2VmdWxRdWV1ZV0ucHVzaChlbGVtKVxuICByZXRyeSgpXG59XG5cbi8vIGtlZXAgdHJhY2sgb2YgdGhlIHRpbWVvdXQgYmV0d2VlbiByZXRyeSgpIGNhbGxzXG52YXIgcmV0cnlUaW1lclxuXG4vLyByZXNldCB0aGUgc3RhcnRUaW1lIGFuZCBsYXN0VGltZSB0byBub3dcbi8vIHRoaXMgcmVzZXRzIHRoZSBzdGFydCBvZiB0aGUgNjAgc2Vjb25kIG92ZXJhbGwgdGltZW91dCBhcyB3ZWxsIGFzIHRoZVxuLy8gZGVsYXkgYmV0d2VlbiBhdHRlbXB0cyBzbyB0aGF0IHdlJ2xsIHJldHJ5IHRoZXNlIGpvYnMgc29vbmVyXG5mdW5jdGlvbiByZXNldFF1ZXVlICgpIHtcbiAgdmFyIG5vdyA9IERhdGUubm93KClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmc1tncmFjZWZ1bFF1ZXVlXS5sZW5ndGg7ICsraSkge1xuICAgIC8vIGVudHJpZXMgdGhhdCBhcmUgb25seSBhIGxlbmd0aCBvZiAyIGFyZSBmcm9tIGFuIG9sZGVyIHZlcnNpb24sIGRvbid0XG4gICAgLy8gYm90aGVyIG1vZGlmeWluZyB0aG9zZSBzaW5jZSB0aGV5J2xsIGJlIHJldHJpZWQgYW55d2F5LlxuICAgIGlmIChmc1tncmFjZWZ1bFF1ZXVlXVtpXS5sZW5ndGggPiAyKSB7XG4gICAgICBmc1tncmFjZWZ1bFF1ZXVlXVtpXVszXSA9IG5vdyAvLyBzdGFydFRpbWVcbiAgICAgIGZzW2dyYWNlZnVsUXVldWVdW2ldWzRdID0gbm93IC8vIGxhc3RUaW1lXG4gICAgfVxuICB9XG4gIC8vIGNhbGwgcmV0cnkgdG8gbWFrZSBzdXJlIHdlJ3JlIGFjdGl2ZWx5IHByb2Nlc3NpbmcgdGhlIHF1ZXVlXG4gIHJldHJ5KClcbn1cblxuZnVuY3Rpb24gcmV0cnkgKCkge1xuICAvLyBjbGVhciB0aGUgdGltZXIgYW5kIHJlbW92ZSBpdCB0byBoZWxwIHByZXZlbnQgdW5pbnRlbmRlZCBjb25jdXJyZW5jeVxuICBjbGVhclRpbWVvdXQocmV0cnlUaW1lcilcbiAgcmV0cnlUaW1lciA9IHVuZGVmaW5lZFxuXG4gIGlmIChmc1tncmFjZWZ1bFF1ZXVlXS5sZW5ndGggPT09IDApXG4gICAgcmV0dXJuXG5cbiAgdmFyIGVsZW0gPSBmc1tncmFjZWZ1bFF1ZXVlXS5zaGlmdCgpXG4gIHZhciBmbiA9IGVsZW1bMF1cbiAgdmFyIGFyZ3MgPSBlbGVtWzFdXG4gIC8vIHRoZXNlIGl0ZW1zIG1heSBiZSB1bnNldCBpZiB0aGV5IHdlcmUgYWRkZWQgYnkgYW4gb2xkZXIgZ3JhY2VmdWwtZnNcbiAgdmFyIGVyciA9IGVsZW1bMl1cbiAgdmFyIHN0YXJ0VGltZSA9IGVsZW1bM11cbiAgdmFyIGxhc3RUaW1lID0gZWxlbVs0XVxuXG4gIC8vIGlmIHdlIGRvbid0IGhhdmUgYSBzdGFydFRpbWUgd2UgaGF2ZSBubyB3YXkgb2Yga25vd2luZyBpZiB3ZSd2ZSB3YWl0ZWRcbiAgLy8gbG9uZyBlbm91Z2gsIHNvIGdvIGFoZWFkIGFuZCByZXRyeSB0aGlzIGl0ZW0gbm93XG4gIGlmIChzdGFydFRpbWUgPT09IHVuZGVmaW5lZCkge1xuICAgIGRlYnVnKCdSRVRSWScsIGZuLm5hbWUsIGFyZ3MpXG4gICAgZm4uYXBwbHkobnVsbCwgYXJncylcbiAgfSBlbHNlIGlmIChEYXRlLm5vdygpIC0gc3RhcnRUaW1lID49IDYwMDAwKSB7XG4gICAgLy8gaXQncyBiZWVuIG1vcmUgdGhhbiA2MCBzZWNvbmRzIHRvdGFsLCBiYWlsIG5vd1xuICAgIGRlYnVnKCdUSU1FT1VUJywgZm4ubmFtZSwgYXJncylcbiAgICB2YXIgY2IgPSBhcmdzLnBvcCgpXG4gICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIGNiLmNhbGwobnVsbCwgZXJyKVxuICB9IGVsc2Uge1xuICAgIC8vIHRoZSBhbW91bnQgb2YgdGltZSBiZXR3ZWVuIHRoZSBsYXN0IGF0dGVtcHQgYW5kIHJpZ2h0IG5vd1xuICAgIHZhciBzaW5jZUF0dGVtcHQgPSBEYXRlLm5vdygpIC0gbGFzdFRpbWVcbiAgICAvLyB0aGUgYW1vdW50IG9mIHRpbWUgYmV0d2VlbiB3aGVuIHdlIGZpcnN0IHRyaWVkLCBhbmQgd2hlbiB3ZSBsYXN0IHRyaWVkXG4gICAgLy8gcm91bmRlZCB1cCB0byBhdCBsZWFzdCAxXG4gICAgdmFyIHNpbmNlU3RhcnQgPSBNYXRoLm1heChsYXN0VGltZSAtIHN0YXJ0VGltZSwgMSlcbiAgICAvLyBiYWNrb2ZmLiB3YWl0IGxvbmdlciB0aGFuIHRoZSB0b3RhbCB0aW1lIHdlJ3ZlIGJlZW4gcmV0cnlpbmcsIGJ1dCBvbmx5XG4gICAgLy8gdXAgdG8gYSBtYXhpbXVtIG9mIDEwMG1zXG4gICAgdmFyIGRlc2lyZWREZWxheSA9IE1hdGgubWluKHNpbmNlU3RhcnQgKiAxLjIsIDEwMClcbiAgICAvLyBpdCdzIGJlZW4gbG9uZyBlbm91Z2ggc2luY2UgdGhlIGxhc3QgcmV0cnksIGRvIGl0IGFnYWluXG4gICAgaWYgKHNpbmNlQXR0ZW1wdCA+PSBkZXNpcmVkRGVsYXkpIHtcbiAgICAgIGRlYnVnKCdSRVRSWScsIGZuLm5hbWUsIGFyZ3MpXG4gICAgICBmbi5hcHBseShudWxsLCBhcmdzLmNvbmNhdChbc3RhcnRUaW1lXSkpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIHdlIGNhbid0IGRvIHRoaXMgam9iIHlldCwgcHVzaCBpdCB0byB0aGUgZW5kIG9mIHRoZSBxdWV1ZVxuICAgICAgLy8gYW5kIGxldCB0aGUgbmV4dCBpdGVyYXRpb24gY2hlY2sgYWdhaW5cbiAgICAgIGZzW2dyYWNlZnVsUXVldWVdLnB1c2goZWxlbSlcbiAgICB9XG4gIH1cblxuICAvLyBzY2hlZHVsZSBvdXIgbmV4dCBydW4gaWYgb25lIGlzbid0IGFscmVhZHkgc2NoZWR1bGVkXG4gIGlmIChyZXRyeVRpbWVyID09PSB1bmRlZmluZWQpIHtcbiAgICByZXRyeVRpbWVyID0gc2V0VGltZW91dChyZXRyeSwgMClcbiAgfVxufVxuIiwKICAiJ3VzZSBzdHJpY3QnXG4vLyBUaGlzIGlzIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbm9ybWFsaXplL216XG4vLyBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNiBKb25hdGhhbiBPbmcgbWVAam9uZ2xlYmVycnkuY29tIGFuZCBDb250cmlidXRvcnNcbmNvbnN0IHUgPSByZXF1aXJlKCd1bml2ZXJzYWxpZnknKS5mcm9tQ2FsbGJhY2tcbmNvbnN0IGZzID0gcmVxdWlyZSgnZ3JhY2VmdWwtZnMnKVxuXG5jb25zdCBhcGkgPSBbXG4gICdhY2Nlc3MnLFxuICAnYXBwZW5kRmlsZScsXG4gICdjaG1vZCcsXG4gICdjaG93bicsXG4gICdjbG9zZScsXG4gICdjb3B5RmlsZScsXG4gICdmY2htb2QnLFxuICAnZmNob3duJyxcbiAgJ2ZkYXRhc3luYycsXG4gICdmc3RhdCcsXG4gICdmc3luYycsXG4gICdmdHJ1bmNhdGUnLFxuICAnZnV0aW1lcycsXG4gICdsY2htb2QnLFxuICAnbGNob3duJyxcbiAgJ2xpbmsnLFxuICAnbHN0YXQnLFxuICAnbWtkaXInLFxuICAnbWtkdGVtcCcsXG4gICdvcGVuJyxcbiAgJ29wZW5kaXInLFxuICAncmVhZGRpcicsXG4gICdyZWFkRmlsZScsXG4gICdyZWFkbGluaycsXG4gICdyZWFscGF0aCcsXG4gICdyZW5hbWUnLFxuICAncm0nLFxuICAncm1kaXInLFxuICAnc3RhdCcsXG4gICdzeW1saW5rJyxcbiAgJ3RydW5jYXRlJyxcbiAgJ3VubGluaycsXG4gICd1dGltZXMnLFxuICAnd3JpdGVGaWxlJ1xuXS5maWx0ZXIoa2V5ID0+IHtcbiAgLy8gU29tZSBjb21tYW5kcyBhcmUgbm90IGF2YWlsYWJsZSBvbiBzb21lIHN5c3RlbXMuIEV4OlxuICAvLyBmcy5jcCB3YXMgYWRkZWQgaW4gTm9kZS5qcyB2MTYuNy4wXG4gIC8vIGZzLmxjaG93biBpcyBub3QgYXZhaWxhYmxlIG9uIGF0IGxlYXN0IHNvbWUgTGludXhcbiAgcmV0dXJuIHR5cGVvZiBmc1trZXldID09PSAnZnVuY3Rpb24nXG59KVxuXG4vLyBFeHBvcnQgY2xvbmVkIGZzOlxuT2JqZWN0LmFzc2lnbihleHBvcnRzLCBmcylcblxuLy8gVW5pdmVyc2FsaWZ5IGFzeW5jIG1ldGhvZHM6XG5hcGkuZm9yRWFjaChtZXRob2QgPT4ge1xuICBleHBvcnRzW21ldGhvZF0gPSB1KGZzW21ldGhvZF0pXG59KVxuXG4vLyBXZSBkaWZmZXIgZnJvbSBtei9mcyBpbiB0aGF0IHdlIHN0aWxsIHNoaXAgdGhlIG9sZCwgYnJva2VuLCBmcy5leGlzdHMoKVxuLy8gc2luY2Ugd2UgYXJlIGEgZHJvcC1pbiByZXBsYWNlbWVudCBmb3IgdGhlIG5hdGl2ZSBtb2R1bGVcbmV4cG9ydHMuZXhpc3RzID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZzLmV4aXN0cyhmaWxlbmFtZSwgY2FsbGJhY2spXG4gIH1cbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHJldHVybiBmcy5leGlzdHMoZmlsZW5hbWUsIHJlc29sdmUpXG4gIH0pXG59XG5cbi8vIGZzLnJlYWQoKSwgZnMud3JpdGUoKSwgZnMucmVhZHYoKSwgJiBmcy53cml0ZXYoKSBuZWVkIHNwZWNpYWwgdHJlYXRtZW50IGR1ZSB0byBtdWx0aXBsZSBjYWxsYmFjayBhcmdzXG5cbmV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChmZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24sIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZnMucmVhZChmZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24sIGNhbGxiYWNrKVxuICB9XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgZnMucmVhZChmZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24sIChlcnIsIGJ5dGVzUmVhZCwgYnVmZmVyKSA9PiB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gcmVqZWN0KGVycilcbiAgICAgIHJlc29sdmUoeyBieXRlc1JlYWQsIGJ1ZmZlciB9KVxuICAgIH0pXG4gIH0pXG59XG5cbi8vIEZ1bmN0aW9uIHNpZ25hdHVyZSBjYW4gYmVcbi8vIGZzLndyaXRlKGZkLCBidWZmZXJbLCBvZmZzZXRbLCBsZW5ndGhbLCBwb3NpdGlvbl1dXSwgY2FsbGJhY2spXG4vLyBPUlxuLy8gZnMud3JpdGUoZmQsIHN0cmluZ1ssIHBvc2l0aW9uWywgZW5jb2RpbmddXSwgY2FsbGJhY2spXG4vLyBXZSBuZWVkIHRvIGhhbmRsZSBib3RoIGNhc2VzLCBzbyB3ZSB1c2UgLi4uYXJnc1xuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChmZCwgYnVmZmVyLCAuLi5hcmdzKSB7XG4gIGlmICh0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZzLndyaXRlKGZkLCBidWZmZXIsIC4uLmFyZ3MpXG4gIH1cblxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGZzLndyaXRlKGZkLCBidWZmZXIsIC4uLmFyZ3MsIChlcnIsIGJ5dGVzV3JpdHRlbiwgYnVmZmVyKSA9PiB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gcmVqZWN0KGVycilcbiAgICAgIHJlc29sdmUoeyBieXRlc1dyaXR0ZW4sIGJ1ZmZlciB9KVxuICAgIH0pXG4gIH0pXG59XG5cbi8vIEZ1bmN0aW9uIHNpZ25hdHVyZSBpc1xuLy8gcy5yZWFkdihmZCwgYnVmZmVyc1ssIHBvc2l0aW9uXSwgY2FsbGJhY2spXG4vLyBXZSBuZWVkIHRvIGhhbmRsZSB0aGUgb3B0aW9uYWwgYXJnLCBzbyB3ZSB1c2UgLi4uYXJnc1xuZXhwb3J0cy5yZWFkdiA9IGZ1bmN0aW9uIChmZCwgYnVmZmVycywgLi4uYXJncykge1xuICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmcy5yZWFkdihmZCwgYnVmZmVycywgLi4uYXJncylcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgZnMucmVhZHYoZmQsIGJ1ZmZlcnMsIC4uLmFyZ3MsIChlcnIsIGJ5dGVzUmVhZCwgYnVmZmVycykgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpXG4gICAgICByZXNvbHZlKHsgYnl0ZXNSZWFkLCBidWZmZXJzIH0pXG4gICAgfSlcbiAgfSlcbn1cblxuLy8gRnVuY3Rpb24gc2lnbmF0dXJlIGlzXG4vLyBzLndyaXRldihmZCwgYnVmZmVyc1ssIHBvc2l0aW9uXSwgY2FsbGJhY2spXG4vLyBXZSBuZWVkIHRvIGhhbmRsZSB0aGUgb3B0aW9uYWwgYXJnLCBzbyB3ZSB1c2UgLi4uYXJnc1xuZXhwb3J0cy53cml0ZXYgPSBmdW5jdGlvbiAoZmQsIGJ1ZmZlcnMsIC4uLmFyZ3MpIHtcbiAgaWYgKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZnMud3JpdGV2KGZkLCBidWZmZXJzLCAuLi5hcmdzKVxuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBmcy53cml0ZXYoZmQsIGJ1ZmZlcnMsIC4uLmFyZ3MsIChlcnIsIGJ5dGVzV3JpdHRlbiwgYnVmZmVycykgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpXG4gICAgICByZXNvbHZlKHsgYnl0ZXNXcml0dGVuLCBidWZmZXJzIH0pXG4gICAgfSlcbiAgfSlcbn1cblxuLy8gZnMucmVhbHBhdGgubmF0aXZlIHNvbWV0aW1lcyBub3QgYXZhaWxhYmxlIGlmIGZzIGlzIG1vbmtleS1wYXRjaGVkXG5pZiAodHlwZW9mIGZzLnJlYWxwYXRoLm5hdGl2ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICBleHBvcnRzLnJlYWxwYXRoLm5hdGl2ZSA9IHUoZnMucmVhbHBhdGgubmF0aXZlKVxufSBlbHNlIHtcbiAgcHJvY2Vzcy5lbWl0V2FybmluZyhcbiAgICAnZnMucmVhbHBhdGgubmF0aXZlIGlzIG5vdCBhIGZ1bmN0aW9uLiBJcyBmcyBiZWluZyBtb25rZXktcGF0Y2hlZD8nLFxuICAgICdXYXJuaW5nJywgJ2ZzLWV4dHJhLVdBUk4wMDAzJ1xuICApXG59XG4iLAogICIvLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9tYWtlLWRpclxuLy8gQ29weXJpZ2h0IChjKSBTaW5kcmUgU29yaHVzIDxzaW5kcmVzb3JodXNAZ21haWwuY29tPiAoc2luZHJlc29yaHVzLmNvbSlcbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuJ3VzZSBzdHJpY3QnXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9pc3N1ZXMvODk4N1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2xpYnV2L2xpYnV2L3B1bGwvMTA4OFxubW9kdWxlLmV4cG9ydHMuY2hlY2tQYXRoID0gZnVuY3Rpb24gY2hlY2tQYXRoIChwdGgpIHtcbiAgaWYgKHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicpIHtcbiAgICBjb25zdCBwYXRoSGFzSW52YWxpZFdpbkNoYXJhY3RlcnMgPSAvWzw+OlwifD8qXS8udGVzdChwdGgucmVwbGFjZShwYXRoLnBhcnNlKHB0aCkucm9vdCwgJycpKVxuXG4gICAgaWYgKHBhdGhIYXNJbnZhbGlkV2luQ2hhcmFjdGVycykge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYFBhdGggY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzOiAke3B0aH1gKVxuICAgICAgZXJyb3IuY29kZSA9ICdFSU5WQUwnXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxufVxuIiwKICAiJ3VzZSBzdHJpY3QnXG5jb25zdCBmcyA9IHJlcXVpcmUoJy4uL2ZzJylcbmNvbnN0IHsgY2hlY2tQYXRoIH0gPSByZXF1aXJlKCcuL3V0aWxzJylcblxuY29uc3QgZ2V0TW9kZSA9IG9wdGlvbnMgPT4ge1xuICBjb25zdCBkZWZhdWx0cyA9IHsgbW9kZTogMG83NzcgfVxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSByZXR1cm4gb3B0aW9uc1xuICByZXR1cm4gKHsgLi4uZGVmYXVsdHMsIC4uLm9wdGlvbnMgfSkubW9kZVxufVxuXG5tb2R1bGUuZXhwb3J0cy5tYWtlRGlyID0gYXN5bmMgKGRpciwgb3B0aW9ucykgPT4ge1xuICBjaGVja1BhdGgoZGlyKVxuXG4gIHJldHVybiBmcy5ta2RpcihkaXIsIHtcbiAgICBtb2RlOiBnZXRNb2RlKG9wdGlvbnMpLFxuICAgIHJlY3Vyc2l2ZTogdHJ1ZVxuICB9KVxufVxuXG5tb2R1bGUuZXhwb3J0cy5tYWtlRGlyU3luYyA9IChkaXIsIG9wdGlvbnMpID0+IHtcbiAgY2hlY2tQYXRoKGRpcilcblxuICByZXR1cm4gZnMubWtkaXJTeW5jKGRpciwge1xuICAgIG1vZGU6IGdldE1vZGUob3B0aW9ucyksXG4gICAgcmVjdXJzaXZlOiB0cnVlXG4gIH0pXG59XG4iLAogICIndXNlIHN0cmljdCdcbmNvbnN0IHUgPSByZXF1aXJlKCd1bml2ZXJzYWxpZnknKS5mcm9tUHJvbWlzZVxuY29uc3QgeyBtYWtlRGlyOiBfbWFrZURpciwgbWFrZURpclN5bmMgfSA9IHJlcXVpcmUoJy4vbWFrZS1kaXInKVxuY29uc3QgbWFrZURpciA9IHUoX21ha2VEaXIpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBta2RpcnM6IG1ha2VEaXIsXG4gIG1rZGlyc1N5bmM6IG1ha2VEaXJTeW5jLFxuICAvLyBhbGlhc1xuICBta2RpcnA6IG1ha2VEaXIsXG4gIG1rZGlycFN5bmM6IG1ha2VEaXJTeW5jLFxuICBlbnN1cmVEaXI6IG1ha2VEaXIsXG4gIGVuc3VyZURpclN5bmM6IG1ha2VEaXJTeW5jXG59XG4iLAogICIndXNlIHN0cmljdCdcbmNvbnN0IHUgPSByZXF1aXJlKCd1bml2ZXJzYWxpZnknKS5mcm9tUHJvbWlzZVxuY29uc3QgZnMgPSByZXF1aXJlKCcuLi9mcycpXG5cbmZ1bmN0aW9uIHBhdGhFeGlzdHMgKHBhdGgpIHtcbiAgcmV0dXJuIGZzLmFjY2VzcyhwYXRoKS50aGVuKCgpID0+IHRydWUpLmNhdGNoKCgpID0+IGZhbHNlKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcGF0aEV4aXN0czogdShwYXRoRXhpc3RzKSxcbiAgcGF0aEV4aXN0c1N5bmM6IGZzLmV4aXN0c1N5bmNcbn1cbiIsCiAgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBmcyA9IHJlcXVpcmUoJy4uL2ZzJylcbmNvbnN0IHUgPSByZXF1aXJlKCd1bml2ZXJzYWxpZnknKS5mcm9tUHJvbWlzZVxuXG5hc3luYyBmdW5jdGlvbiB1dGltZXNNaWxsaXMgKHBhdGgsIGF0aW1lLCBtdGltZSkge1xuICAvLyBpZiAoIUhBU19NSUxMSVNfUkVTKSByZXR1cm4gZnMudXRpbWVzKHBhdGgsIGF0aW1lLCBtdGltZSwgY2FsbGJhY2spXG4gIGNvbnN0IGZkID0gYXdhaXQgZnMub3BlbihwYXRoLCAncisnKVxuXG4gIGxldCBjbG9zZUVyciA9IG51bGxcblxuICB0cnkge1xuICAgIGF3YWl0IGZzLmZ1dGltZXMoZmQsIGF0aW1lLCBtdGltZSlcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZnMuY2xvc2UoZmQpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY2xvc2VFcnIgPSBlXG4gICAgfVxuICB9XG5cbiAgaWYgKGNsb3NlRXJyKSB7XG4gICAgdGhyb3cgY2xvc2VFcnJcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGltZXNNaWxsaXNTeW5jIChwYXRoLCBhdGltZSwgbXRpbWUpIHtcbiAgY29uc3QgZmQgPSBmcy5vcGVuU3luYyhwYXRoLCAncisnKVxuICBmcy5mdXRpbWVzU3luYyhmZCwgYXRpbWUsIG10aW1lKVxuICByZXR1cm4gZnMuY2xvc2VTeW5jKGZkKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdXRpbWVzTWlsbGlzOiB1KHV0aW1lc01pbGxpcyksXG4gIHV0aW1lc01pbGxpc1N5bmNcbn1cbiIsCiAgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBmcyA9IHJlcXVpcmUoJy4uL2ZzJylcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IHUgPSByZXF1aXJlKCd1bml2ZXJzYWxpZnknKS5mcm9tUHJvbWlzZVxuXG5mdW5jdGlvbiBnZXRTdGF0cyAoc3JjLCBkZXN0LCBvcHRzKSB7XG4gIGNvbnN0IHN0YXRGdW5jID0gb3B0cy5kZXJlZmVyZW5jZVxuICAgID8gKGZpbGUpID0+IGZzLnN0YXQoZmlsZSwgeyBiaWdpbnQ6IHRydWUgfSlcbiAgICA6IChmaWxlKSA9PiBmcy5sc3RhdChmaWxlLCB7IGJpZ2ludDogdHJ1ZSB9KVxuICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgIHN0YXRGdW5jKHNyYyksXG4gICAgc3RhdEZ1bmMoZGVzdCkuY2F0Y2goZXJyID0+IHtcbiAgICAgIGlmIChlcnIuY29kZSA9PT0gJ0VOT0VOVCcpIHJldHVybiBudWxsXG4gICAgICB0aHJvdyBlcnJcbiAgICB9KVxuICBdKS50aGVuKChbc3JjU3RhdCwgZGVzdFN0YXRdKSA9PiAoeyBzcmNTdGF0LCBkZXN0U3RhdCB9KSlcbn1cblxuZnVuY3Rpb24gZ2V0U3RhdHNTeW5jIChzcmMsIGRlc3QsIG9wdHMpIHtcbiAgbGV0IGRlc3RTdGF0XG4gIGNvbnN0IHN0YXRGdW5jID0gb3B0cy5kZXJlZmVyZW5jZVxuICAgID8gKGZpbGUpID0+IGZzLnN0YXRTeW5jKGZpbGUsIHsgYmlnaW50OiB0cnVlIH0pXG4gICAgOiAoZmlsZSkgPT4gZnMubHN0YXRTeW5jKGZpbGUsIHsgYmlnaW50OiB0cnVlIH0pXG4gIGNvbnN0IHNyY1N0YXQgPSBzdGF0RnVuYyhzcmMpXG4gIHRyeSB7XG4gICAgZGVzdFN0YXQgPSBzdGF0RnVuYyhkZXN0KVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAoZXJyLmNvZGUgPT09ICdFTk9FTlQnKSByZXR1cm4geyBzcmNTdGF0LCBkZXN0U3RhdDogbnVsbCB9XG4gICAgdGhyb3cgZXJyXG4gIH1cbiAgcmV0dXJuIHsgc3JjU3RhdCwgZGVzdFN0YXQgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBjaGVja1BhdGhzIChzcmMsIGRlc3QsIGZ1bmNOYW1lLCBvcHRzKSB7XG4gIGNvbnN0IHsgc3JjU3RhdCwgZGVzdFN0YXQgfSA9IGF3YWl0IGdldFN0YXRzKHNyYywgZGVzdCwgb3B0cylcbiAgaWYgKGRlc3RTdGF0KSB7XG4gICAgaWYgKGFyZUlkZW50aWNhbChzcmNTdGF0LCBkZXN0U3RhdCkpIHtcbiAgICAgIGNvbnN0IHNyY0Jhc2VOYW1lID0gcGF0aC5iYXNlbmFtZShzcmMpXG4gICAgICBjb25zdCBkZXN0QmFzZU5hbWUgPSBwYXRoLmJhc2VuYW1lKGRlc3QpXG4gICAgICBpZiAoZnVuY05hbWUgPT09ICdtb3ZlJyAmJlxuICAgICAgICBzcmNCYXNlTmFtZSAhPT0gZGVzdEJhc2VOYW1lICYmXG4gICAgICAgIHNyY0Jhc2VOYW1lLnRvTG93ZXJDYXNlKCkgPT09IGRlc3RCYXNlTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIHJldHVybiB7IHNyY1N0YXQsIGRlc3RTdGF0LCBpc0NoYW5naW5nQ2FzZTogdHJ1ZSB9XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvdXJjZSBhbmQgZGVzdGluYXRpb24gbXVzdCBub3QgYmUgdGhlIHNhbWUuJylcbiAgICB9XG4gICAgaWYgKHNyY1N0YXQuaXNEaXJlY3RvcnkoKSAmJiAhZGVzdFN0YXQuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3Qgb3ZlcndyaXRlIG5vbi1kaXJlY3RvcnkgJyR7ZGVzdH0nIHdpdGggZGlyZWN0b3J5ICcke3NyY30nLmApXG4gICAgfVxuICAgIGlmICghc3JjU3RhdC5pc0RpcmVjdG9yeSgpICYmIGRlc3RTdGF0LmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IG92ZXJ3cml0ZSBkaXJlY3RvcnkgJyR7ZGVzdH0nIHdpdGggbm9uLWRpcmVjdG9yeSAnJHtzcmN9Jy5gKVxuICAgIH1cbiAgfVxuXG4gIGlmIChzcmNTdGF0LmlzRGlyZWN0b3J5KCkgJiYgaXNTcmNTdWJkaXIoc3JjLCBkZXN0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2coc3JjLCBkZXN0LCBmdW5jTmFtZSkpXG4gIH1cblxuICByZXR1cm4geyBzcmNTdGF0LCBkZXN0U3RhdCB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrUGF0aHNTeW5jIChzcmMsIGRlc3QsIGZ1bmNOYW1lLCBvcHRzKSB7XG4gIGNvbnN0IHsgc3JjU3RhdCwgZGVzdFN0YXQgfSA9IGdldFN0YXRzU3luYyhzcmMsIGRlc3QsIG9wdHMpXG5cbiAgaWYgKGRlc3RTdGF0KSB7XG4gICAgaWYgKGFyZUlkZW50aWNhbChzcmNTdGF0LCBkZXN0U3RhdCkpIHtcbiAgICAgIGNvbnN0IHNyY0Jhc2VOYW1lID0gcGF0aC5iYXNlbmFtZShzcmMpXG4gICAgICBjb25zdCBkZXN0QmFzZU5hbWUgPSBwYXRoLmJhc2VuYW1lKGRlc3QpXG4gICAgICBpZiAoZnVuY05hbWUgPT09ICdtb3ZlJyAmJlxuICAgICAgICBzcmNCYXNlTmFtZSAhPT0gZGVzdEJhc2VOYW1lICYmXG4gICAgICAgIHNyY0Jhc2VOYW1lLnRvTG93ZXJDYXNlKCkgPT09IGRlc3RCYXNlTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIHJldHVybiB7IHNyY1N0YXQsIGRlc3RTdGF0LCBpc0NoYW5naW5nQ2FzZTogdHJ1ZSB9XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvdXJjZSBhbmQgZGVzdGluYXRpb24gbXVzdCBub3QgYmUgdGhlIHNhbWUuJylcbiAgICB9XG4gICAgaWYgKHNyY1N0YXQuaXNEaXJlY3RvcnkoKSAmJiAhZGVzdFN0YXQuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3Qgb3ZlcndyaXRlIG5vbi1kaXJlY3RvcnkgJyR7ZGVzdH0nIHdpdGggZGlyZWN0b3J5ICcke3NyY30nLmApXG4gICAgfVxuICAgIGlmICghc3JjU3RhdC5pc0RpcmVjdG9yeSgpICYmIGRlc3RTdGF0LmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IG92ZXJ3cml0ZSBkaXJlY3RvcnkgJyR7ZGVzdH0nIHdpdGggbm9uLWRpcmVjdG9yeSAnJHtzcmN9Jy5gKVxuICAgIH1cbiAgfVxuXG4gIGlmIChzcmNTdGF0LmlzRGlyZWN0b3J5KCkgJiYgaXNTcmNTdWJkaXIoc3JjLCBkZXN0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2coc3JjLCBkZXN0LCBmdW5jTmFtZSkpXG4gIH1cbiAgcmV0dXJuIHsgc3JjU3RhdCwgZGVzdFN0YXQgfVxufVxuXG4vLyByZWN1cnNpdmVseSBjaGVjayBpZiBkZXN0IHBhcmVudCBpcyBhIHN1YmRpcmVjdG9yeSBvZiBzcmMuXG4vLyBJdCB3b3JrcyBmb3IgYWxsIGZpbGUgdHlwZXMgaW5jbHVkaW5nIHN5bWxpbmtzIHNpbmNlIGl0XG4vLyBjaGVja3MgdGhlIHNyYyBhbmQgZGVzdCBpbm9kZXMuIEl0IHN0YXJ0cyBmcm9tIHRoZSBkZWVwZXN0XG4vLyBwYXJlbnQgYW5kIHN0b3BzIG9uY2UgaXQgcmVhY2hlcyB0aGUgc3JjIHBhcmVudCBvciB0aGUgcm9vdCBwYXRoLlxuYXN5bmMgZnVuY3Rpb24gY2hlY2tQYXJlbnRQYXRocyAoc3JjLCBzcmNTdGF0LCBkZXN0LCBmdW5jTmFtZSkge1xuICBjb25zdCBzcmNQYXJlbnQgPSBwYXRoLnJlc29sdmUocGF0aC5kaXJuYW1lKHNyYykpXG4gIGNvbnN0IGRlc3RQYXJlbnQgPSBwYXRoLnJlc29sdmUocGF0aC5kaXJuYW1lKGRlc3QpKVxuICBpZiAoZGVzdFBhcmVudCA9PT0gc3JjUGFyZW50IHx8IGRlc3RQYXJlbnQgPT09IHBhdGgucGFyc2UoZGVzdFBhcmVudCkucm9vdCkgcmV0dXJuXG5cbiAgbGV0IGRlc3RTdGF0XG4gIHRyeSB7XG4gICAgZGVzdFN0YXQgPSBhd2FpdCBmcy5zdGF0KGRlc3RQYXJlbnQsIHsgYmlnaW50OiB0cnVlIH0pXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGlmIChlcnIuY29kZSA9PT0gJ0VOT0VOVCcpIHJldHVyblxuICAgIHRocm93IGVyclxuICB9XG5cbiAgaWYgKGFyZUlkZW50aWNhbChzcmNTdGF0LCBkZXN0U3RhdCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKHNyYywgZGVzdCwgZnVuY05hbWUpKVxuICB9XG5cbiAgcmV0dXJuIGNoZWNrUGFyZW50UGF0aHMoc3JjLCBzcmNTdGF0LCBkZXN0UGFyZW50LCBmdW5jTmFtZSlcbn1cblxuZnVuY3Rpb24gY2hlY2tQYXJlbnRQYXRoc1N5bmMgKHNyYywgc3JjU3RhdCwgZGVzdCwgZnVuY05hbWUpIHtcbiAgY29uc3Qgc3JjUGFyZW50ID0gcGF0aC5yZXNvbHZlKHBhdGguZGlybmFtZShzcmMpKVxuICBjb25zdCBkZXN0UGFyZW50ID0gcGF0aC5yZXNvbHZlKHBhdGguZGlybmFtZShkZXN0KSlcbiAgaWYgKGRlc3RQYXJlbnQgPT09IHNyY1BhcmVudCB8fCBkZXN0UGFyZW50ID09PSBwYXRoLnBhcnNlKGRlc3RQYXJlbnQpLnJvb3QpIHJldHVyblxuICBsZXQgZGVzdFN0YXRcbiAgdHJ5IHtcbiAgICBkZXN0U3RhdCA9IGZzLnN0YXRTeW5jKGRlc3RQYXJlbnQsIHsgYmlnaW50OiB0cnVlIH0pXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGlmIChlcnIuY29kZSA9PT0gJ0VOT0VOVCcpIHJldHVyblxuICAgIHRocm93IGVyclxuICB9XG4gIGlmIChhcmVJZGVudGljYWwoc3JjU3RhdCwgZGVzdFN0YXQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyhzcmMsIGRlc3QsIGZ1bmNOYW1lKSlcbiAgfVxuICByZXR1cm4gY2hlY2tQYXJlbnRQYXRoc1N5bmMoc3JjLCBzcmNTdGF0LCBkZXN0UGFyZW50LCBmdW5jTmFtZSlcbn1cblxuZnVuY3Rpb24gYXJlSWRlbnRpY2FsIChzcmNTdGF0LCBkZXN0U3RhdCkge1xuICByZXR1cm4gZGVzdFN0YXQuaW5vICYmIGRlc3RTdGF0LmRldiAmJiBkZXN0U3RhdC5pbm8gPT09IHNyY1N0YXQuaW5vICYmIGRlc3RTdGF0LmRldiA9PT0gc3JjU3RhdC5kZXZcbn1cblxuLy8gcmV0dXJuIHRydWUgaWYgZGVzdCBpcyBhIHN1YmRpciBvZiBzcmMsIG90aGVyd2lzZSBmYWxzZS5cbi8vIEl0IG9ubHkgY2hlY2tzIHRoZSBwYXRoIHN0cmluZ3MuXG5mdW5jdGlvbiBpc1NyY1N1YmRpciAoc3JjLCBkZXN0KSB7XG4gIGNvbnN0IHNyY0FyciA9IHBhdGgucmVzb2x2ZShzcmMpLnNwbGl0KHBhdGguc2VwKS5maWx0ZXIoaSA9PiBpKVxuICBjb25zdCBkZXN0QXJyID0gcGF0aC5yZXNvbHZlKGRlc3QpLnNwbGl0KHBhdGguc2VwKS5maWx0ZXIoaSA9PiBpKVxuICByZXR1cm4gc3JjQXJyLmV2ZXJ5KChjdXIsIGkpID0+IGRlc3RBcnJbaV0gPT09IGN1cilcbn1cblxuZnVuY3Rpb24gZXJyTXNnIChzcmMsIGRlc3QsIGZ1bmNOYW1lKSB7XG4gIHJldHVybiBgQ2Fubm90ICR7ZnVuY05hbWV9ICcke3NyY30nIHRvIGEgc3ViZGlyZWN0b3J5IG9mIGl0c2VsZiwgJyR7ZGVzdH0nLmBcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGNoZWNrUGF0aHNcbiAgY2hlY2tQYXRoczogdShjaGVja1BhdGhzKSxcbiAgY2hlY2tQYXRoc1N5bmMsXG4gIC8vIGNoZWNrUGFyZW50XG4gIGNoZWNrUGFyZW50UGF0aHM6IHUoY2hlY2tQYXJlbnRQYXRocyksXG4gIGNoZWNrUGFyZW50UGF0aHNTeW5jLFxuICAvLyBNaXNjXG4gIGlzU3JjU3ViZGlyLFxuICBhcmVJZGVudGljYWxcbn1cbiIsCiAgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBmcyA9IHJlcXVpcmUoJy4uL2ZzJylcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IHsgbWtkaXJzIH0gPSByZXF1aXJlKCcuLi9ta2RpcnMnKVxuY29uc3QgeyBwYXRoRXhpc3RzIH0gPSByZXF1aXJlKCcuLi9wYXRoLWV4aXN0cycpXG5jb25zdCB7IHV0aW1lc01pbGxpcyB9ID0gcmVxdWlyZSgnLi4vdXRpbC91dGltZXMnKVxuY29uc3Qgc3RhdCA9IHJlcXVpcmUoJy4uL3V0aWwvc3RhdCcpXG5cbmFzeW5jIGZ1bmN0aW9uIGNvcHkgKHNyYywgZGVzdCwgb3B0cyA9IHt9KSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdHMgPSB7IGZpbHRlcjogb3B0cyB9XG4gIH1cblxuICBvcHRzLmNsb2JiZXIgPSAnY2xvYmJlcicgaW4gb3B0cyA/ICEhb3B0cy5jbG9iYmVyIDogdHJ1ZSAvLyBkZWZhdWx0IHRvIHRydWUgZm9yIG5vd1xuICBvcHRzLm92ZXJ3cml0ZSA9ICdvdmVyd3JpdGUnIGluIG9wdHMgPyAhIW9wdHMub3ZlcndyaXRlIDogb3B0cy5jbG9iYmVyIC8vIG92ZXJ3cml0ZSBmYWxscyBiYWNrIHRvIGNsb2JiZXJcblxuICAvLyBXYXJuIGFib3V0IHVzaW5nIHByZXNlcnZlVGltZXN0YW1wcyBvbiAzMi1iaXQgbm9kZVxuICBpZiAob3B0cy5wcmVzZXJ2ZVRpbWVzdGFtcHMgJiYgcHJvY2Vzcy5hcmNoID09PSAnaWEzMicpIHtcbiAgICBwcm9jZXNzLmVtaXRXYXJuaW5nKFxuICAgICAgJ1VzaW5nIHRoZSBwcmVzZXJ2ZVRpbWVzdGFtcHMgb3B0aW9uIGluIDMyLWJpdCBub2RlIGlzIG5vdCByZWNvbW1lbmRlZDtcXG5cXG4nICtcbiAgICAgICdcXHRzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pwcmljaGFyZHNvbi9ub2RlLWZzLWV4dHJhL2lzc3Vlcy8yNjknLFxuICAgICAgJ1dhcm5pbmcnLCAnZnMtZXh0cmEtV0FSTjAwMDEnXG4gICAgKVxuICB9XG5cbiAgY29uc3QgeyBzcmNTdGF0LCBkZXN0U3RhdCB9ID0gYXdhaXQgc3RhdC5jaGVja1BhdGhzKHNyYywgZGVzdCwgJ2NvcHknLCBvcHRzKVxuXG4gIGF3YWl0IHN0YXQuY2hlY2tQYXJlbnRQYXRocyhzcmMsIHNyY1N0YXQsIGRlc3QsICdjb3B5JylcblxuICBjb25zdCBpbmNsdWRlID0gYXdhaXQgcnVuRmlsdGVyKHNyYywgZGVzdCwgb3B0cylcblxuICBpZiAoIWluY2x1ZGUpIHJldHVyblxuXG4gIC8vIGNoZWNrIGlmIHRoZSBwYXJlbnQgb2YgZGVzdCBleGlzdHMsIGFuZCBjcmVhdGUgaXQgaWYgaXQgZG9lc24ndCBleGlzdFxuICBjb25zdCBkZXN0UGFyZW50ID0gcGF0aC5kaXJuYW1lKGRlc3QpXG4gIGNvbnN0IGRpckV4aXN0cyA9IGF3YWl0IHBhdGhFeGlzdHMoZGVzdFBhcmVudClcbiAgaWYgKCFkaXJFeGlzdHMpIHtcbiAgICBhd2FpdCBta2RpcnMoZGVzdFBhcmVudClcbiAgfVxuXG4gIGF3YWl0IGdldFN0YXRzQW5kUGVyZm9ybUNvcHkoZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cylcbn1cblxuYXN5bmMgZnVuY3Rpb24gcnVuRmlsdGVyIChzcmMsIGRlc3QsIG9wdHMpIHtcbiAgaWYgKCFvcHRzLmZpbHRlcikgcmV0dXJuIHRydWVcbiAgcmV0dXJuIG9wdHMuZmlsdGVyKHNyYywgZGVzdClcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0U3RhdHNBbmRQZXJmb3JtQ29weSAoZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cykge1xuICBjb25zdCBzdGF0Rm4gPSBvcHRzLmRlcmVmZXJlbmNlID8gZnMuc3RhdCA6IGZzLmxzdGF0XG4gIGNvbnN0IHNyY1N0YXQgPSBhd2FpdCBzdGF0Rm4oc3JjKVxuXG4gIGlmIChzcmNTdGF0LmlzRGlyZWN0b3J5KCkpIHJldHVybiBvbkRpcihzcmNTdGF0LCBkZXN0U3RhdCwgc3JjLCBkZXN0LCBvcHRzKVxuXG4gIGlmIChcbiAgICBzcmNTdGF0LmlzRmlsZSgpIHx8XG4gICAgc3JjU3RhdC5pc0NoYXJhY3RlckRldmljZSgpIHx8XG4gICAgc3JjU3RhdC5pc0Jsb2NrRGV2aWNlKClcbiAgKSByZXR1cm4gb25GaWxlKHNyY1N0YXQsIGRlc3RTdGF0LCBzcmMsIGRlc3QsIG9wdHMpXG5cbiAgaWYgKHNyY1N0YXQuaXNTeW1ib2xpY0xpbmsoKSkgcmV0dXJuIG9uTGluayhkZXN0U3RhdCwgc3JjLCBkZXN0LCBvcHRzKVxuICBpZiAoc3JjU3RhdC5pc1NvY2tldCgpKSB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb3B5IGEgc29ja2V0IGZpbGU6ICR7c3JjfWApXG4gIGlmIChzcmNTdGF0LmlzRklGTygpKSB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb3B5IGEgRklGTyBwaXBlOiAke3NyY31gKVxuICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZmlsZTogJHtzcmN9YClcbn1cblxuYXN5bmMgZnVuY3Rpb24gb25GaWxlIChzcmNTdGF0LCBkZXN0U3RhdCwgc3JjLCBkZXN0LCBvcHRzKSB7XG4gIGlmICghZGVzdFN0YXQpIHJldHVybiBjb3B5RmlsZShzcmNTdGF0LCBzcmMsIGRlc3QsIG9wdHMpXG5cbiAgaWYgKG9wdHMub3ZlcndyaXRlKSB7XG4gICAgYXdhaXQgZnMudW5saW5rKGRlc3QpXG4gICAgcmV0dXJuIGNvcHlGaWxlKHNyY1N0YXQsIHNyYywgZGVzdCwgb3B0cylcbiAgfVxuICBpZiAob3B0cy5lcnJvck9uRXhpc3QpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCcke2Rlc3R9JyBhbHJlYWR5IGV4aXN0c2ApXG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gY29weUZpbGUgKHNyY1N0YXQsIHNyYywgZGVzdCwgb3B0cykge1xuICBhd2FpdCBmcy5jb3B5RmlsZShzcmMsIGRlc3QpXG4gIGlmIChvcHRzLnByZXNlcnZlVGltZXN0YW1wcykge1xuICAgIC8vIE1ha2Ugc3VyZSB0aGUgZmlsZSBpcyB3cml0YWJsZSBiZWZvcmUgc2V0dGluZyB0aGUgdGltZXN0YW1wXG4gICAgLy8gb3RoZXJ3aXNlIG9wZW4gZmFpbHMgd2l0aCBFUEVSTSB3aGVuIGludm9rZWQgd2l0aCAncisnXG4gICAgLy8gKHRocm91Z2ggdXRpbWVzIGNhbGwpXG4gICAgaWYgKGZpbGVJc05vdFdyaXRhYmxlKHNyY1N0YXQubW9kZSkpIHtcbiAgICAgIGF3YWl0IG1ha2VGaWxlV3JpdGFibGUoZGVzdCwgc3JjU3RhdC5tb2RlKVxuICAgIH1cblxuICAgIC8vIFNldCB0aW1lc3RhbXBzIGFuZCBtb2RlIGNvcnJlc3BvbmRpbmdseVxuXG4gICAgLy8gTm90ZSB0aGF0IFRoZSBpbml0aWFsIHNyY1N0YXQuYXRpbWUgY2Fubm90IGJlIHRydXN0ZWRcbiAgICAvLyBiZWNhdXNlIGl0IGlzIG1vZGlmaWVkIGJ5IHRoZSByZWFkKDIpIHN5c3RlbSBjYWxsXG4gICAgLy8gKFNlZSBodHRwczovL25vZGVqcy5vcmcvYXBpL2ZzLmh0bWwjZnNfc3RhdF90aW1lX3ZhbHVlcylcbiAgICBjb25zdCB1cGRhdGVkU3JjU3RhdCA9IGF3YWl0IGZzLnN0YXQoc3JjKVxuICAgIGF3YWl0IHV0aW1lc01pbGxpcyhkZXN0LCB1cGRhdGVkU3JjU3RhdC5hdGltZSwgdXBkYXRlZFNyY1N0YXQubXRpbWUpXG4gIH1cblxuICByZXR1cm4gZnMuY2htb2QoZGVzdCwgc3JjU3RhdC5tb2RlKVxufVxuXG5mdW5jdGlvbiBmaWxlSXNOb3RXcml0YWJsZSAoc3JjTW9kZSkge1xuICByZXR1cm4gKHNyY01vZGUgJiAwbzIwMCkgPT09IDBcbn1cblxuZnVuY3Rpb24gbWFrZUZpbGVXcml0YWJsZSAoZGVzdCwgc3JjTW9kZSkge1xuICByZXR1cm4gZnMuY2htb2QoZGVzdCwgc3JjTW9kZSB8IDBvMjAwKVxufVxuXG5hc3luYyBmdW5jdGlvbiBvbkRpciAoc3JjU3RhdCwgZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cykge1xuICAvLyB0aGUgZGVzdCBkaXJlY3RvcnkgbWlnaHQgbm90IGV4aXN0LCBjcmVhdGUgaXRcbiAgaWYgKCFkZXN0U3RhdCkge1xuICAgIGF3YWl0IGZzLm1rZGlyKGRlc3QpXG4gIH1cblxuICBjb25zdCBpdGVtcyA9IGF3YWl0IGZzLnJlYWRkaXIoc3JjKVxuXG4gIC8vIGxvb3AgdGhyb3VnaCB0aGUgZmlsZXMgaW4gdGhlIGN1cnJlbnQgZGlyZWN0b3J5IHRvIGNvcHkgZXZlcnl0aGluZ1xuICBhd2FpdCBQcm9taXNlLmFsbChpdGVtcy5tYXAoYXN5bmMgaXRlbSA9PiB7XG4gICAgY29uc3Qgc3JjSXRlbSA9IHBhdGguam9pbihzcmMsIGl0ZW0pXG4gICAgY29uc3QgZGVzdEl0ZW0gPSBwYXRoLmpvaW4oZGVzdCwgaXRlbSlcblxuICAgIC8vIHNraXAgdGhlIGl0ZW0gaWYgaXQgaXMgbWF0Y2hlcyBieSB0aGUgZmlsdGVyIGZ1bmN0aW9uXG4gICAgY29uc3QgaW5jbHVkZSA9IGF3YWl0IHJ1bkZpbHRlcihzcmNJdGVtLCBkZXN0SXRlbSwgb3B0cylcbiAgICBpZiAoIWluY2x1ZGUpIHJldHVyblxuXG4gICAgY29uc3QgeyBkZXN0U3RhdCB9ID0gYXdhaXQgc3RhdC5jaGVja1BhdGhzKHNyY0l0ZW0sIGRlc3RJdGVtLCAnY29weScsIG9wdHMpXG5cbiAgICAvLyBJZiB0aGUgaXRlbSBpcyBhIGNvcHlhYmxlIGZpbGUsIGBnZXRTdGF0c0FuZFBlcmZvcm1Db3B5YCB3aWxsIGNvcHkgaXRcbiAgICAvLyBJZiB0aGUgaXRlbSBpcyBhIGRpcmVjdG9yeSwgYGdldFN0YXRzQW5kUGVyZm9ybUNvcHlgIHdpbGwgY2FsbCBgb25EaXJgIHJlY3Vyc2l2ZWx5XG4gICAgcmV0dXJuIGdldFN0YXRzQW5kUGVyZm9ybUNvcHkoZGVzdFN0YXQsIHNyY0l0ZW0sIGRlc3RJdGVtLCBvcHRzKVxuICB9KSlcblxuICBpZiAoIWRlc3RTdGF0KSB7XG4gICAgYXdhaXQgZnMuY2htb2QoZGVzdCwgc3JjU3RhdC5tb2RlKVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG9uTGluayAoZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cykge1xuICBsZXQgcmVzb2x2ZWRTcmMgPSBhd2FpdCBmcy5yZWFkbGluayhzcmMpXG4gIGlmIChvcHRzLmRlcmVmZXJlbmNlKSB7XG4gICAgcmVzb2x2ZWRTcmMgPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgcmVzb2x2ZWRTcmMpXG4gIH1cbiAgaWYgKCFkZXN0U3RhdCkge1xuICAgIHJldHVybiBmcy5zeW1saW5rKHJlc29sdmVkU3JjLCBkZXN0KVxuICB9XG5cbiAgbGV0IHJlc29sdmVkRGVzdCA9IG51bGxcbiAgdHJ5IHtcbiAgICByZXNvbHZlZERlc3QgPSBhd2FpdCBmcy5yZWFkbGluayhkZXN0KVxuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gZGVzdCBleGlzdHMgYW5kIGlzIGEgcmVndWxhciBmaWxlIG9yIGRpcmVjdG9yeSxcbiAgICAvLyBXaW5kb3dzIG1heSB0aHJvdyBVTktOT1dOIGVycm9yLiBJZiBkZXN0IGFscmVhZHkgZXhpc3RzLFxuICAgIC8vIGZzIHRocm93cyBlcnJvciBhbnl3YXksIHNvIG5vIG5lZWQgdG8gZ3VhcmQgYWdhaW5zdCBpdCBoZXJlLlxuICAgIGlmIChlLmNvZGUgPT09ICdFSU5WQUwnIHx8IGUuY29kZSA9PT0gJ1VOS05PV04nKSByZXR1cm4gZnMuc3ltbGluayhyZXNvbHZlZFNyYywgZGVzdClcbiAgICB0aHJvdyBlXG4gIH1cbiAgaWYgKG9wdHMuZGVyZWZlcmVuY2UpIHtcbiAgICByZXNvbHZlZERlc3QgPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgcmVzb2x2ZWREZXN0KVxuICB9XG4gIGlmIChzdGF0LmlzU3JjU3ViZGlyKHJlc29sdmVkU3JjLCByZXNvbHZlZERlc3QpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY29weSAnJHtyZXNvbHZlZFNyY30nIHRvIGEgc3ViZGlyZWN0b3J5IG9mIGl0c2VsZiwgJyR7cmVzb2x2ZWREZXN0fScuYClcbiAgfVxuXG4gIC8vIGRvIG5vdCBjb3B5IGlmIHNyYyBpcyBhIHN1YmRpciBvZiBkZXN0IHNpbmNlIHVubGlua2luZ1xuICAvLyBkZXN0IGluIHRoaXMgY2FzZSB3b3VsZCByZXN1bHQgaW4gcmVtb3Zpbmcgc3JjIGNvbnRlbnRzXG4gIC8vIGFuZCB0aGVyZWZvcmUgYSBicm9rZW4gc3ltbGluayB3b3VsZCBiZSBjcmVhdGVkLlxuICBpZiAoc3RhdC5pc1NyY1N1YmRpcihyZXNvbHZlZERlc3QsIHJlc29sdmVkU3JjKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IG92ZXJ3cml0ZSAnJHtyZXNvbHZlZERlc3R9JyB3aXRoICcke3Jlc29sdmVkU3JjfScuYClcbiAgfVxuXG4gIC8vIGNvcHkgdGhlIGxpbmtcbiAgYXdhaXQgZnMudW5saW5rKGRlc3QpXG4gIHJldHVybiBmcy5zeW1saW5rKHJlc29sdmVkU3JjLCBkZXN0KVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvcHlcbiIsCiAgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2dyYWNlZnVsLWZzJylcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IG1rZGlyc1N5bmMgPSByZXF1aXJlKCcuLi9ta2RpcnMnKS5ta2RpcnNTeW5jXG5jb25zdCB1dGltZXNNaWxsaXNTeW5jID0gcmVxdWlyZSgnLi4vdXRpbC91dGltZXMnKS51dGltZXNNaWxsaXNTeW5jXG5jb25zdCBzdGF0ID0gcmVxdWlyZSgnLi4vdXRpbC9zdGF0JylcblxuZnVuY3Rpb24gY29weVN5bmMgKHNyYywgZGVzdCwgb3B0cykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRzID0geyBmaWx0ZXI6IG9wdHMgfVxuICB9XG5cbiAgb3B0cyA9IG9wdHMgfHwge31cbiAgb3B0cy5jbG9iYmVyID0gJ2Nsb2JiZXInIGluIG9wdHMgPyAhIW9wdHMuY2xvYmJlciA6IHRydWUgLy8gZGVmYXVsdCB0byB0cnVlIGZvciBub3dcbiAgb3B0cy5vdmVyd3JpdGUgPSAnb3ZlcndyaXRlJyBpbiBvcHRzID8gISFvcHRzLm92ZXJ3cml0ZSA6IG9wdHMuY2xvYmJlciAvLyBvdmVyd3JpdGUgZmFsbHMgYmFjayB0byBjbG9iYmVyXG5cbiAgLy8gV2FybiBhYm91dCB1c2luZyBwcmVzZXJ2ZVRpbWVzdGFtcHMgb24gMzItYml0IG5vZGVcbiAgaWYgKG9wdHMucHJlc2VydmVUaW1lc3RhbXBzICYmIHByb2Nlc3MuYXJjaCA9PT0gJ2lhMzInKSB7XG4gICAgcHJvY2Vzcy5lbWl0V2FybmluZyhcbiAgICAgICdVc2luZyB0aGUgcHJlc2VydmVUaW1lc3RhbXBzIG9wdGlvbiBpbiAzMi1iaXQgbm9kZSBpcyBub3QgcmVjb21tZW5kZWQ7XFxuXFxuJyArXG4gICAgICAnXFx0c2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcHJpY2hhcmRzb24vbm9kZS1mcy1leHRyYS9pc3N1ZXMvMjY5JyxcbiAgICAgICdXYXJuaW5nJywgJ2ZzLWV4dHJhLVdBUk4wMDAyJ1xuICAgIClcbiAgfVxuXG4gIGNvbnN0IHsgc3JjU3RhdCwgZGVzdFN0YXQgfSA9IHN0YXQuY2hlY2tQYXRoc1N5bmMoc3JjLCBkZXN0LCAnY29weScsIG9wdHMpXG4gIHN0YXQuY2hlY2tQYXJlbnRQYXRoc1N5bmMoc3JjLCBzcmNTdGF0LCBkZXN0LCAnY29weScpXG4gIGlmIChvcHRzLmZpbHRlciAmJiAhb3B0cy5maWx0ZXIoc3JjLCBkZXN0KSkgcmV0dXJuXG4gIGNvbnN0IGRlc3RQYXJlbnQgPSBwYXRoLmRpcm5hbWUoZGVzdClcbiAgaWYgKCFmcy5leGlzdHNTeW5jKGRlc3RQYXJlbnQpKSBta2RpcnNTeW5jKGRlc3RQYXJlbnQpXG4gIHJldHVybiBnZXRTdGF0cyhkZXN0U3RhdCwgc3JjLCBkZXN0LCBvcHRzKVxufVxuXG5mdW5jdGlvbiBnZXRTdGF0cyAoZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cykge1xuICBjb25zdCBzdGF0U3luYyA9IG9wdHMuZGVyZWZlcmVuY2UgPyBmcy5zdGF0U3luYyA6IGZzLmxzdGF0U3luY1xuICBjb25zdCBzcmNTdGF0ID0gc3RhdFN5bmMoc3JjKVxuXG4gIGlmIChzcmNTdGF0LmlzRGlyZWN0b3J5KCkpIHJldHVybiBvbkRpcihzcmNTdGF0LCBkZXN0U3RhdCwgc3JjLCBkZXN0LCBvcHRzKVxuICBlbHNlIGlmIChzcmNTdGF0LmlzRmlsZSgpIHx8XG4gICAgICAgICAgIHNyY1N0YXQuaXNDaGFyYWN0ZXJEZXZpY2UoKSB8fFxuICAgICAgICAgICBzcmNTdGF0LmlzQmxvY2tEZXZpY2UoKSkgcmV0dXJuIG9uRmlsZShzcmNTdGF0LCBkZXN0U3RhdCwgc3JjLCBkZXN0LCBvcHRzKVxuICBlbHNlIGlmIChzcmNTdGF0LmlzU3ltYm9saWNMaW5rKCkpIHJldHVybiBvbkxpbmsoZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cylcbiAgZWxzZSBpZiAoc3JjU3RhdC5pc1NvY2tldCgpKSB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb3B5IGEgc29ja2V0IGZpbGU6ICR7c3JjfWApXG4gIGVsc2UgaWYgKHNyY1N0YXQuaXNGSUZPKCkpIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNvcHkgYSBGSUZPIHBpcGU6ICR7c3JjfWApXG4gIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBmaWxlOiAke3NyY31gKVxufVxuXG5mdW5jdGlvbiBvbkZpbGUgKHNyY1N0YXQsIGRlc3RTdGF0LCBzcmMsIGRlc3QsIG9wdHMpIHtcbiAgaWYgKCFkZXN0U3RhdCkgcmV0dXJuIGNvcHlGaWxlKHNyY1N0YXQsIHNyYywgZGVzdCwgb3B0cylcbiAgcmV0dXJuIG1heUNvcHlGaWxlKHNyY1N0YXQsIHNyYywgZGVzdCwgb3B0cylcbn1cblxuZnVuY3Rpb24gbWF5Q29weUZpbGUgKHNyY1N0YXQsIHNyYywgZGVzdCwgb3B0cykge1xuICBpZiAob3B0cy5vdmVyd3JpdGUpIHtcbiAgICBmcy51bmxpbmtTeW5jKGRlc3QpXG4gICAgcmV0dXJuIGNvcHlGaWxlKHNyY1N0YXQsIHNyYywgZGVzdCwgb3B0cylcbiAgfSBlbHNlIGlmIChvcHRzLmVycm9yT25FeGlzdCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgJyR7ZGVzdH0nIGFscmVhZHkgZXhpc3RzYClcbiAgfVxufVxuXG5mdW5jdGlvbiBjb3B5RmlsZSAoc3JjU3RhdCwgc3JjLCBkZXN0LCBvcHRzKSB7XG4gIGZzLmNvcHlGaWxlU3luYyhzcmMsIGRlc3QpXG4gIGlmIChvcHRzLnByZXNlcnZlVGltZXN0YW1wcykgaGFuZGxlVGltZXN0YW1wcyhzcmNTdGF0Lm1vZGUsIHNyYywgZGVzdClcbiAgcmV0dXJuIHNldERlc3RNb2RlKGRlc3QsIHNyY1N0YXQubW9kZSlcbn1cblxuZnVuY3Rpb24gaGFuZGxlVGltZXN0YW1wcyAoc3JjTW9kZSwgc3JjLCBkZXN0KSB7XG4gIC8vIE1ha2Ugc3VyZSB0aGUgZmlsZSBpcyB3cml0YWJsZSBiZWZvcmUgc2V0dGluZyB0aGUgdGltZXN0YW1wXG4gIC8vIG90aGVyd2lzZSBvcGVuIGZhaWxzIHdpdGggRVBFUk0gd2hlbiBpbnZva2VkIHdpdGggJ3IrJ1xuICAvLyAodGhyb3VnaCB1dGltZXMgY2FsbClcbiAgaWYgKGZpbGVJc05vdFdyaXRhYmxlKHNyY01vZGUpKSBtYWtlRmlsZVdyaXRhYmxlKGRlc3QsIHNyY01vZGUpXG4gIHJldHVybiBzZXREZXN0VGltZXN0YW1wcyhzcmMsIGRlc3QpXG59XG5cbmZ1bmN0aW9uIGZpbGVJc05vdFdyaXRhYmxlIChzcmNNb2RlKSB7XG4gIHJldHVybiAoc3JjTW9kZSAmIDBvMjAwKSA9PT0gMFxufVxuXG5mdW5jdGlvbiBtYWtlRmlsZVdyaXRhYmxlIChkZXN0LCBzcmNNb2RlKSB7XG4gIHJldHVybiBzZXREZXN0TW9kZShkZXN0LCBzcmNNb2RlIHwgMG8yMDApXG59XG5cbmZ1bmN0aW9uIHNldERlc3RNb2RlIChkZXN0LCBzcmNNb2RlKSB7XG4gIHJldHVybiBmcy5jaG1vZFN5bmMoZGVzdCwgc3JjTW9kZSlcbn1cblxuZnVuY3Rpb24gc2V0RGVzdFRpbWVzdGFtcHMgKHNyYywgZGVzdCkge1xuICAvLyBUaGUgaW5pdGlhbCBzcmNTdGF0LmF0aW1lIGNhbm5vdCBiZSB0cnVzdGVkXG4gIC8vIGJlY2F1c2UgaXQgaXMgbW9kaWZpZWQgYnkgdGhlIHJlYWQoMikgc3lzdGVtIGNhbGxcbiAgLy8gKFNlZSBodHRwczovL25vZGVqcy5vcmcvYXBpL2ZzLmh0bWwjZnNfc3RhdF90aW1lX3ZhbHVlcylcbiAgY29uc3QgdXBkYXRlZFNyY1N0YXQgPSBmcy5zdGF0U3luYyhzcmMpXG4gIHJldHVybiB1dGltZXNNaWxsaXNTeW5jKGRlc3QsIHVwZGF0ZWRTcmNTdGF0LmF0aW1lLCB1cGRhdGVkU3JjU3RhdC5tdGltZSlcbn1cblxuZnVuY3Rpb24gb25EaXIgKHNyY1N0YXQsIGRlc3RTdGF0LCBzcmMsIGRlc3QsIG9wdHMpIHtcbiAgaWYgKCFkZXN0U3RhdCkgcmV0dXJuIG1rRGlyQW5kQ29weShzcmNTdGF0Lm1vZGUsIHNyYywgZGVzdCwgb3B0cylcbiAgcmV0dXJuIGNvcHlEaXIoc3JjLCBkZXN0LCBvcHRzKVxufVxuXG5mdW5jdGlvbiBta0RpckFuZENvcHkgKHNyY01vZGUsIHNyYywgZGVzdCwgb3B0cykge1xuICBmcy5ta2RpclN5bmMoZGVzdClcbiAgY29weURpcihzcmMsIGRlc3QsIG9wdHMpXG4gIHJldHVybiBzZXREZXN0TW9kZShkZXN0LCBzcmNNb2RlKVxufVxuXG5mdW5jdGlvbiBjb3B5RGlyIChzcmMsIGRlc3QsIG9wdHMpIHtcbiAgZnMucmVhZGRpclN5bmMoc3JjKS5mb3JFYWNoKGl0ZW0gPT4gY29weURpckl0ZW0oaXRlbSwgc3JjLCBkZXN0LCBvcHRzKSlcbn1cblxuZnVuY3Rpb24gY29weURpckl0ZW0gKGl0ZW0sIHNyYywgZGVzdCwgb3B0cykge1xuICBjb25zdCBzcmNJdGVtID0gcGF0aC5qb2luKHNyYywgaXRlbSlcbiAgY29uc3QgZGVzdEl0ZW0gPSBwYXRoLmpvaW4oZGVzdCwgaXRlbSlcbiAgaWYgKG9wdHMuZmlsdGVyICYmICFvcHRzLmZpbHRlcihzcmNJdGVtLCBkZXN0SXRlbSkpIHJldHVyblxuICBjb25zdCB7IGRlc3RTdGF0IH0gPSBzdGF0LmNoZWNrUGF0aHNTeW5jKHNyY0l0ZW0sIGRlc3RJdGVtLCAnY29weScsIG9wdHMpXG4gIHJldHVybiBnZXRTdGF0cyhkZXN0U3RhdCwgc3JjSXRlbSwgZGVzdEl0ZW0sIG9wdHMpXG59XG5cbmZ1bmN0aW9uIG9uTGluayAoZGVzdFN0YXQsIHNyYywgZGVzdCwgb3B0cykge1xuICBsZXQgcmVzb2x2ZWRTcmMgPSBmcy5yZWFkbGlua1N5bmMoc3JjKVxuICBpZiAob3B0cy5kZXJlZmVyZW5jZSkge1xuICAgIHJlc29sdmVkU3JjID0gcGF0aC5yZXNvbHZlKHByb2Nlc3MuY3dkKCksIHJlc29sdmVkU3JjKVxuICB9XG5cbiAgaWYgKCFkZXN0U3RhdCkge1xuICAgIHJldHVybiBmcy5zeW1saW5rU3luYyhyZXNvbHZlZFNyYywgZGVzdClcbiAgfSBlbHNlIHtcbiAgICBsZXQgcmVzb2x2ZWREZXN0XG4gICAgdHJ5IHtcbiAgICAgIHJlc29sdmVkRGVzdCA9IGZzLnJlYWRsaW5rU3luYyhkZXN0KVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gZGVzdCBleGlzdHMgYW5kIGlzIGEgcmVndWxhciBmaWxlIG9yIGRpcmVjdG9yeSxcbiAgICAgIC8vIFdpbmRvd3MgbWF5IHRocm93IFVOS05PV04gZXJyb3IuIElmIGRlc3QgYWxyZWFkeSBleGlzdHMsXG4gICAgICAvLyBmcyB0aHJvd3MgZXJyb3IgYW55d2F5LCBzbyBubyBuZWVkIHRvIGd1YXJkIGFnYWluc3QgaXQgaGVyZS5cbiAgICAgIGlmIChlcnIuY29kZSA9PT0gJ0VJTlZBTCcgfHwgZXJyLmNvZGUgPT09ICdVTktOT1dOJykgcmV0dXJuIGZzLnN5bWxpbmtTeW5jKHJlc29sdmVkU3JjLCBkZXN0KVxuICAgICAgdGhyb3cgZXJyXG4gICAgfVxuICAgIGlmIChvcHRzLmRlcmVmZXJlbmNlKSB7XG4gICAgICByZXNvbHZlZERlc3QgPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgcmVzb2x2ZWREZXN0KVxuICAgIH1cbiAgICBpZiAoc3RhdC5pc1NyY1N1YmRpcihyZXNvbHZlZFNyYywgcmVzb2x2ZWREZXN0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY29weSAnJHtyZXNvbHZlZFNyY30nIHRvIGEgc3ViZGlyZWN0b3J5IG9mIGl0c2VsZiwgJyR7cmVzb2x2ZWREZXN0fScuYClcbiAgICB9XG5cbiAgICAvLyBwcmV2ZW50IGNvcHkgaWYgc3JjIGlzIGEgc3ViZGlyIG9mIGRlc3Qgc2luY2UgdW5saW5raW5nXG4gICAgLy8gZGVzdCBpbiB0aGlzIGNhc2Ugd291bGQgcmVzdWx0IGluIHJlbW92aW5nIHNyYyBjb250ZW50c1xuICAgIC8vIGFuZCB0aGVyZWZvcmUgYSBicm9rZW4gc3ltbGluayB3b3VsZCBiZSBjcmVhdGVkLlxuICAgIGlmIChzdGF0LmlzU3JjU3ViZGlyKHJlc29sdmVkRGVzdCwgcmVzb2x2ZWRTcmMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBvdmVyd3JpdGUgJyR7cmVzb2x2ZWREZXN0fScgd2l0aCAnJHtyZXNvbHZlZFNyY30nLmApXG4gICAgfVxuICAgIHJldHVybiBjb3B5TGluayhyZXNvbHZlZFNyYywgZGVzdClcbiAgfVxufVxuXG5mdW5jdGlvbiBjb3B5TGluayAocmVzb2x2ZWRTcmMsIGRlc3QpIHtcbiAgZnMudW5saW5rU3luYyhkZXN0KVxuICByZXR1cm4gZnMuc3ltbGlua1N5bmMocmVzb2x2ZWRTcmMsIGRlc3QpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29weVN5bmNcbiIsCiAgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB1ID0gcmVxdWlyZSgndW5pdmVyc2FsaWZ5JykuZnJvbVByb21pc2Vcbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb3B5OiB1KHJlcXVpcmUoJy4vY29weScpKSxcbiAgY29weVN5bmM6IHJlcXVpcmUoJy4vY29weS1zeW5jJylcbn1cbiIsCiAgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2dyYWNlZnVsLWZzJylcbmNvbnN0IHUgPSByZXF1aXJlKCd1bml2ZXJzYWxpZnknKS5mcm9tQ2FsbGJhY2tcblxuZnVuY3Rpb24gcmVtb3ZlIChwYXRoLCBjYWxsYmFjaykge1xuICBmcy5ybShwYXRoLCB7IHJlY3Vyc2l2ZTogdHJ1ZSwgZm9yY2U6IHRydWUgfSwgY2FsbGJhY2spXG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN5bmMgKHBhdGgpIHtcbiAgZnMucm1TeW5jKHBhdGgsIHsgcmVjdXJzaXZlOiB0cnVlLCBmb3JjZTogdHJ1ZSB9KVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcmVtb3ZlOiB1KHJlbW92ZSksXG4gIHJlbW92ZVN5bmNcbn1cbiIsCiAgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB1ID0gcmVxdWlyZSgndW5pdmVyc2FsaWZ5JykuZnJvbVByb21pc2VcbmNvbnN0IGZzID0gcmVxdWlyZSgnLi4vZnMnKVxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuY29uc3QgbWtkaXIgPSByZXF1aXJlKCcuLi9ta2RpcnMnKVxuY29uc3QgcmVtb3ZlID0gcmVxdWlyZSgnLi4vcmVtb3ZlJylcblxuY29uc3QgZW1wdHlEaXIgPSB1KGFzeW5jIGZ1bmN0aW9uIGVtcHR5RGlyIChkaXIpIHtcbiAgbGV0IGl0ZW1zXG4gIHRyeSB7XG4gICAgaXRlbXMgPSBhd2FpdCBmcy5yZWFkZGlyKGRpcilcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIG1rZGlyLm1rZGlycyhkaXIpXG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoaXRlbXMubWFwKGl0ZW0gPT4gcmVtb3ZlLnJlbW92ZShwYXRoLmpvaW4oZGlyLCBpdGVtKSkpKVxufSlcblxuZnVuY3Rpb24gZW1wdHlEaXJTeW5jIChkaXIpIHtcbiAgbGV0IGl0ZW1zXG4gIHRyeSB7XG4gICAgaXRlbXMgPSBmcy5yZWFkZGlyU3luYyhkaXIpXG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBta2Rpci5ta2RpcnNTeW5jKGRpcilcbiAgfVxuXG4gIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgaXRlbSA9IHBhdGguam9pbihkaXIsIGl0ZW0pXG4gICAgcmVtb3ZlLnJlbW92ZVN5bmMoaXRlbSlcbiAgfSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGVtcHR5RGlyU3luYyxcbiAgZW1wdHlkaXJTeW5jOiBlbXB0eURpclN5bmMsXG4gIGVtcHR5RGlyLFxuICBlbXB0eWRpcjogZW1wdHlEaXJcbn1cbiIsCiAgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB1ID0gcmVxdWlyZSgndW5pdmVyc2FsaWZ5JykuZnJvbVByb21pc2VcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IGZzID0gcmVxdWlyZSgnLi4vZnMnKVxuY29uc3QgbWtkaXIgPSByZXF1aXJlKCcuLi9ta2RpcnMnKVxuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVGaWxlIChmaWxlKSB7XG4gIGxldCBzdGF0c1xuICB0cnkge1xuICAgIHN0YXRzID0gYXdhaXQgZnMuc3RhdChmaWxlKVxuICB9IGNhdGNoIHsgfVxuICBpZiAoc3RhdHMgJiYgc3RhdHMuaXNGaWxlKCkpIHJldHVyblxuXG4gIGNvbnN0IGRpciA9IHBhdGguZGlybmFtZShmaWxlKVxuXG4gIGxldCBkaXJTdGF0cyA9IG51bGxcbiAgdHJ5IHtcbiAgICBkaXJTdGF0cyA9IGF3YWl0IGZzLnN0YXQoZGlyKVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBpZiB0aGUgZGlyZWN0b3J5IGRvZXNuJ3QgZXhpc3QsIG1ha2UgaXRcbiAgICBpZiAoZXJyLmNvZGUgPT09ICdFTk9FTlQnKSB7XG4gICAgICBhd2FpdCBta2Rpci5ta2RpcnMoZGlyKVxuICAgICAgYXdhaXQgZnMud3JpdGVGaWxlKGZpbGUsICcnKVxuICAgICAgcmV0dXJuXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGVyclxuICAgIH1cbiAgfVxuXG4gIGlmIChkaXJTdGF0cy5pc0RpcmVjdG9yeSgpKSB7XG4gICAgYXdhaXQgZnMud3JpdGVGaWxlKGZpbGUsICcnKVxuICB9IGVsc2Uge1xuICAgIC8vIHBhcmVudCBpcyBub3QgYSBkaXJlY3RvcnlcbiAgICAvLyBUaGlzIGlzIGp1c3QgdG8gY2F1c2UgYW4gaW50ZXJuYWwgRU5PVERJUiBlcnJvciB0byBiZSB0aHJvd25cbiAgICBhd2FpdCBmcy5yZWFkZGlyKGRpcilcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVGaWxlU3luYyAoZmlsZSkge1xuICBsZXQgc3RhdHNcbiAgdHJ5IHtcbiAgICBzdGF0cyA9IGZzLnN0YXRTeW5jKGZpbGUpXG4gIH0gY2F0Y2ggeyB9XG4gIGlmIChzdGF0cyAmJiBzdGF0cy5pc0ZpbGUoKSkgcmV0dXJuXG5cbiAgY29uc3QgZGlyID0gcGF0aC5kaXJuYW1lKGZpbGUpXG4gIHRyeSB7XG4gICAgaWYgKCFmcy5zdGF0U3luYyhkaXIpLmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgIC8vIHBhcmVudCBpcyBub3QgYSBkaXJlY3RvcnlcbiAgICAgIC8vIFRoaXMgaXMganVzdCB0byBjYXVzZSBhbiBpbnRlcm5hbCBFTk9URElSIGVycm9yIHRvIGJlIHRocm93blxuICAgICAgZnMucmVhZGRpclN5bmMoZGlyKVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gSWYgdGhlIHN0YXQgY2FsbCBhYm92ZSBmYWlsZWQgYmVjYXVzZSB0aGUgZGlyZWN0b3J5IGRvZXNuJ3QgZXhpc3QsIGNyZWF0ZSBpdFxuICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgPT09ICdFTk9FTlQnKSBta2Rpci5ta2RpcnNTeW5jKGRpcilcbiAgICBlbHNlIHRocm93IGVyclxuICB9XG5cbiAgZnMud3JpdGVGaWxlU3luYyhmaWxlLCAnJylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNyZWF0ZUZpbGU6IHUoY3JlYXRlRmlsZSksXG4gIGNyZWF0ZUZpbGVTeW5jXG59XG4iLAogICIndXNlIHN0cmljdCdcblxuY29uc3QgdSA9IHJlcXVpcmUoJ3VuaXZlcnNhbGlmeScpLmZyb21Qcm9taXNlXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5jb25zdCBmcyA9IHJlcXVpcmUoJy4uL2ZzJylcbmNvbnN0IG1rZGlyID0gcmVxdWlyZSgnLi4vbWtkaXJzJylcbmNvbnN0IHsgcGF0aEV4aXN0cyB9ID0gcmVxdWlyZSgnLi4vcGF0aC1leGlzdHMnKVxuY29uc3QgeyBhcmVJZGVudGljYWwgfSA9IHJlcXVpcmUoJy4uL3V0aWwvc3RhdCcpXG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUxpbmsgKHNyY3BhdGgsIGRzdHBhdGgpIHtcbiAgbGV0IGRzdFN0YXRcbiAgdHJ5IHtcbiAgICBkc3RTdGF0ID0gYXdhaXQgZnMubHN0YXQoZHN0cGF0aClcbiAgfSBjYXRjaCB7XG4gICAgLy8gaWdub3JlIGVycm9yXG4gIH1cblxuICBsZXQgc3JjU3RhdFxuICB0cnkge1xuICAgIHNyY1N0YXQgPSBhd2FpdCBmcy5sc3RhdChzcmNwYXRoKVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBlcnIubWVzc2FnZSA9IGVyci5tZXNzYWdlLnJlcGxhY2UoJ2xzdGF0JywgJ2Vuc3VyZUxpbmsnKVxuICAgIHRocm93IGVyclxuICB9XG5cbiAgaWYgKGRzdFN0YXQgJiYgYXJlSWRlbnRpY2FsKHNyY1N0YXQsIGRzdFN0YXQpKSByZXR1cm5cblxuICBjb25zdCBkaXIgPSBwYXRoLmRpcm5hbWUoZHN0cGF0aClcblxuICBjb25zdCBkaXJFeGlzdHMgPSBhd2FpdCBwYXRoRXhpc3RzKGRpcilcblxuICBpZiAoIWRpckV4aXN0cykge1xuICAgIGF3YWl0IG1rZGlyLm1rZGlycyhkaXIpXG4gIH1cblxuICBhd2FpdCBmcy5saW5rKHNyY3BhdGgsIGRzdHBhdGgpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtTeW5jIChzcmNwYXRoLCBkc3RwYXRoKSB7XG4gIGxldCBkc3RTdGF0XG4gIHRyeSB7XG4gICAgZHN0U3RhdCA9IGZzLmxzdGF0U3luYyhkc3RwYXRoKVxuICB9IGNhdGNoIHt9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBzcmNTdGF0ID0gZnMubHN0YXRTeW5jKHNyY3BhdGgpXG4gICAgaWYgKGRzdFN0YXQgJiYgYXJlSWRlbnRpY2FsKHNyY1N0YXQsIGRzdFN0YXQpKSByZXR1cm5cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZXJyLm1lc3NhZ2UgPSBlcnIubWVzc2FnZS5yZXBsYWNlKCdsc3RhdCcsICdlbnN1cmVMaW5rJylcbiAgICB0aHJvdyBlcnJcbiAgfVxuXG4gIGNvbnN0IGRpciA9IHBhdGguZGlybmFtZShkc3RwYXRoKVxuICBjb25zdCBkaXJFeGlzdHMgPSBmcy5leGlzdHNTeW5jKGRpcilcbiAgaWYgKGRpckV4aXN0cykgcmV0dXJuIGZzLmxpbmtTeW5jKHNyY3BhdGgsIGRzdHBhdGgpXG4gIG1rZGlyLm1rZGlyc1N5bmMoZGlyKVxuXG4gIHJldHVybiBmcy5saW5rU3luYyhzcmNwYXRoLCBkc3RwYXRoKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlTGluazogdShjcmVhdGVMaW5rKSxcbiAgY3JlYXRlTGlua1N5bmNcbn1cbiIsCiAgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5jb25zdCBmcyA9IHJlcXVpcmUoJy4uL2ZzJylcbmNvbnN0IHsgcGF0aEV4aXN0cyB9ID0gcmVxdWlyZSgnLi4vcGF0aC1leGlzdHMnKVxuXG5jb25zdCB1ID0gcmVxdWlyZSgndW5pdmVyc2FsaWZ5JykuZnJvbVByb21pc2VcblxuLyoqXG4gKiBGdW5jdGlvbiB0aGF0IHJldHVybnMgdHdvIHR5cGVzIG9mIHBhdGhzLCBvbmUgcmVsYXRpdmUgdG8gc3ltbGluaywgYW5kIG9uZVxuICogcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgd29ya2luZyBkaXJlY3RvcnkuIENoZWNrcyBpZiBwYXRoIGlzIGFic29sdXRlIG9yXG4gKiByZWxhdGl2ZS4gSWYgdGhlIHBhdGggaXMgcmVsYXRpdmUsIHRoaXMgZnVuY3Rpb24gY2hlY2tzIGlmIHRoZSBwYXRoIGlzXG4gKiByZWxhdGl2ZSB0byBzeW1saW5rIG9yIHJlbGF0aXZlIHRvIGN1cnJlbnQgd29ya2luZyBkaXJlY3RvcnkuIFRoaXMgaXMgYW5cbiAqIGluaXRpYXRpdmUgdG8gZmluZCBhIHNtYXJ0ZXIgYHNyY3BhdGhgIHRvIHN1cHBseSB3aGVuIGJ1aWxkaW5nIHN5bWxpbmtzLlxuICogVGhpcyBhbGxvd3MgeW91IHRvIGRldGVybWluZSB3aGljaCBwYXRoIHRvIHVzZSBvdXQgb2Ygb25lIG9mIHRocmVlIHBvc3NpYmxlXG4gKiB0eXBlcyBvZiBzb3VyY2UgcGF0aHMuIFRoZSBmaXJzdCBpcyBhbiBhYnNvbHV0ZSBwYXRoLiBUaGlzIGlzIGRldGVjdGVkIGJ5XG4gKiBgcGF0aC5pc0Fic29sdXRlKClgLiBXaGVuIGFuIGFic29sdXRlIHBhdGggaXMgcHJvdmlkZWQsIGl0IGlzIGNoZWNrZWQgdG9cbiAqIHNlZSBpZiBpdCBleGlzdHMuIElmIGl0IGRvZXMgaXQncyB1c2VkLCBpZiBub3QgYW4gZXJyb3IgaXMgcmV0dXJuZWRcbiAqIChjYWxsYmFjaykvIHRocm93biAoc3luYykuIFRoZSBvdGhlciB0d28gb3B0aW9ucyBmb3IgYHNyY3BhdGhgIGFyZSBhXG4gKiByZWxhdGl2ZSB1cmwuIEJ5IGRlZmF1bHQgTm9kZSdzIGBmcy5zeW1saW5rYCB3b3JrcyBieSBjcmVhdGluZyBhIHN5bWxpbmtcbiAqIHVzaW5nIGBkc3RwYXRoYCBhbmQgZXhwZWN0cyB0aGUgYHNyY3BhdGhgIHRvIGJlIHJlbGF0aXZlIHRvIHRoZSBuZXdseVxuICogY3JlYXRlZCBzeW1saW5rLiBJZiB5b3UgcHJvdmlkZSBhIGBzcmNwYXRoYCB0aGF0IGRvZXMgbm90IGV4aXN0IG9uIHRoZSBmaWxlXG4gKiBzeXN0ZW0gaXQgcmVzdWx0cyBpbiBhIGJyb2tlbiBzeW1saW5rLiBUbyBtaW5pbWl6ZSB0aGlzLCB0aGUgZnVuY3Rpb25cbiAqIGNoZWNrcyB0byBzZWUgaWYgdGhlICdyZWxhdGl2ZSB0byBzeW1saW5rJyBzb3VyY2UgZmlsZSBleGlzdHMsIGFuZCBpZiBpdFxuICogZG9lcyBpdCB3aWxsIHVzZSBpdC4gSWYgaXQgZG9lcyBub3QsIGl0IGNoZWNrcyBpZiB0aGVyZSdzIGEgZmlsZSB0aGF0XG4gKiBleGlzdHMgdGhhdCBpcyByZWxhdGl2ZSB0byB0aGUgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeSwgaWYgZG9lcyBpdHMgdXNlZC5cbiAqIFRoaXMgcHJlc2VydmVzIHRoZSBleHBlY3RhdGlvbnMgb2YgdGhlIG9yaWdpbmFsIGZzLnN5bWxpbmsgc3BlYyBhbmQgYWRkc1xuICogdGhlIGFiaWxpdHkgdG8gcGFzcyBpbiBgcmVsYXRpdmUgdG8gY3VycmVudCB3b3JraW5nIGRpcmVjb3RyeWAgcGF0aHMuXG4gKi9cblxuYXN5bmMgZnVuY3Rpb24gc3ltbGlua1BhdGhzIChzcmNwYXRoLCBkc3RwYXRoKSB7XG4gIGlmIChwYXRoLmlzQWJzb2x1dGUoc3JjcGF0aCkpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZnMubHN0YXQoc3JjcGF0aClcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGVyci5tZXNzYWdlID0gZXJyLm1lc3NhZ2UucmVwbGFjZSgnbHN0YXQnLCAnZW5zdXJlU3ltbGluaycpXG4gICAgICB0aHJvdyBlcnJcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG9Dd2Q6IHNyY3BhdGgsXG4gICAgICB0b0RzdDogc3JjcGF0aFxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGRzdGRpciA9IHBhdGguZGlybmFtZShkc3RwYXRoKVxuICBjb25zdCByZWxhdGl2ZVRvRHN0ID0gcGF0aC5qb2luKGRzdGRpciwgc3JjcGF0aClcblxuICBjb25zdCBleGlzdHMgPSBhd2FpdCBwYXRoRXhpc3RzKHJlbGF0aXZlVG9Ec3QpXG4gIGlmIChleGlzdHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9Dd2Q6IHJlbGF0aXZlVG9Ec3QsXG4gICAgICB0b0RzdDogc3JjcGF0aFxuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgYXdhaXQgZnMubHN0YXQoc3JjcGF0aClcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZXJyLm1lc3NhZ2UgPSBlcnIubWVzc2FnZS5yZXBsYWNlKCdsc3RhdCcsICdlbnN1cmVTeW1saW5rJylcbiAgICB0aHJvdyBlcnJcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdG9Dd2Q6IHNyY3BhdGgsXG4gICAgdG9Ec3Q6IHBhdGgucmVsYXRpdmUoZHN0ZGlyLCBzcmNwYXRoKVxuICB9XG59XG5cbmZ1bmN0aW9uIHN5bWxpbmtQYXRoc1N5bmMgKHNyY3BhdGgsIGRzdHBhdGgpIHtcbiAgaWYgKHBhdGguaXNBYnNvbHV0ZShzcmNwYXRoKSkge1xuICAgIGNvbnN0IGV4aXN0cyA9IGZzLmV4aXN0c1N5bmMoc3JjcGF0aClcbiAgICBpZiAoIWV4aXN0cykgdGhyb3cgbmV3IEVycm9yKCdhYnNvbHV0ZSBzcmNwYXRoIGRvZXMgbm90IGV4aXN0JylcbiAgICByZXR1cm4ge1xuICAgICAgdG9Dd2Q6IHNyY3BhdGgsXG4gICAgICB0b0RzdDogc3JjcGF0aFxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGRzdGRpciA9IHBhdGguZGlybmFtZShkc3RwYXRoKVxuICBjb25zdCByZWxhdGl2ZVRvRHN0ID0gcGF0aC5qb2luKGRzdGRpciwgc3JjcGF0aClcbiAgY29uc3QgZXhpc3RzID0gZnMuZXhpc3RzU3luYyhyZWxhdGl2ZVRvRHN0KVxuICBpZiAoZXhpc3RzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvQ3dkOiByZWxhdGl2ZVRvRHN0LFxuICAgICAgdG9Ec3Q6IHNyY3BhdGhcbiAgICB9XG4gIH1cblxuICBjb25zdCBzcmNFeGlzdHMgPSBmcy5leGlzdHNTeW5jKHNyY3BhdGgpXG4gIGlmICghc3JjRXhpc3RzKSB0aHJvdyBuZXcgRXJyb3IoJ3JlbGF0aXZlIHNyY3BhdGggZG9lcyBub3QgZXhpc3QnKVxuICByZXR1cm4ge1xuICAgIHRvQ3dkOiBzcmNwYXRoLFxuICAgIHRvRHN0OiBwYXRoLnJlbGF0aXZlKGRzdGRpciwgc3JjcGF0aClcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc3ltbGlua1BhdGhzOiB1KHN5bWxpbmtQYXRocyksXG4gIHN5bWxpbmtQYXRoc1N5bmNcbn1cbiIsCiAgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBmcyA9IHJlcXVpcmUoJy4uL2ZzJylcbmNvbnN0IHUgPSByZXF1aXJlKCd1bml2ZXJzYWxpZnknKS5mcm9tUHJvbWlzZVxuXG5hc3luYyBmdW5jdGlvbiBzeW1saW5rVHlwZSAoc3JjcGF0aCwgdHlwZSkge1xuICBpZiAodHlwZSkgcmV0dXJuIHR5cGVcblxuICBsZXQgc3RhdHNcbiAgdHJ5IHtcbiAgICBzdGF0cyA9IGF3YWl0IGZzLmxzdGF0KHNyY3BhdGgpXG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiAnZmlsZSdcbiAgfVxuXG4gIHJldHVybiAoc3RhdHMgJiYgc3RhdHMuaXNEaXJlY3RvcnkoKSkgPyAnZGlyJyA6ICdmaWxlJ1xufVxuXG5mdW5jdGlvbiBzeW1saW5rVHlwZVN5bmMgKHNyY3BhdGgsIHR5cGUpIHtcbiAgaWYgKHR5cGUpIHJldHVybiB0eXBlXG5cbiAgbGV0IHN0YXRzXG4gIHRyeSB7XG4gICAgc3RhdHMgPSBmcy5sc3RhdFN5bmMoc3JjcGF0aClcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuICdmaWxlJ1xuICB9XG4gIHJldHVybiAoc3RhdHMgJiYgc3RhdHMuaXNEaXJlY3RvcnkoKSkgPyAnZGlyJyA6ICdmaWxlJ1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc3ltbGlua1R5cGU6IHUoc3ltbGlua1R5cGUpLFxuICBzeW1saW5rVHlwZVN5bmNcbn1cbiIsCiAgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB1ID0gcmVxdWlyZSgndW5pdmVyc2FsaWZ5JykuZnJvbVByb21pc2VcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IGZzID0gcmVxdWlyZSgnLi4vZnMnKVxuXG5jb25zdCB7IG1rZGlycywgbWtkaXJzU3luYyB9ID0gcmVxdWlyZSgnLi4vbWtkaXJzJylcblxuY29uc3QgeyBzeW1saW5rUGF0aHMsIHN5bWxpbmtQYXRoc1N5bmMgfSA9IHJlcXVpcmUoJy4vc3ltbGluay1wYXRocycpXG5jb25zdCB7IHN5bWxpbmtUeXBlLCBzeW1saW5rVHlwZVN5bmMgfSA9IHJlcXVpcmUoJy4vc3ltbGluay10eXBlJylcblxuY29uc3QgeyBwYXRoRXhpc3RzIH0gPSByZXF1aXJlKCcuLi9wYXRoLWV4aXN0cycpXG5cbmNvbnN0IHsgYXJlSWRlbnRpY2FsIH0gPSByZXF1aXJlKCcuLi91dGlsL3N0YXQnKVxuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVTeW1saW5rIChzcmNwYXRoLCBkc3RwYXRoLCB0eXBlKSB7XG4gIGxldCBzdGF0c1xuICB0cnkge1xuICAgIHN0YXRzID0gYXdhaXQgZnMubHN0YXQoZHN0cGF0aClcbiAgfSBjYXRjaCB7IH1cblxuICBpZiAoc3RhdHMgJiYgc3RhdHMuaXNTeW1ib2xpY0xpbmsoKSkge1xuICAgIGNvbnN0IFtzcmNTdGF0LCBkc3RTdGF0XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIGZzLnN0YXQoc3JjcGF0aCksXG4gICAgICBmcy5zdGF0KGRzdHBhdGgpXG4gICAgXSlcblxuICAgIGlmIChhcmVJZGVudGljYWwoc3JjU3RhdCwgZHN0U3RhdCkpIHJldHVyblxuICB9XG5cbiAgY29uc3QgcmVsYXRpdmUgPSBhd2FpdCBzeW1saW5rUGF0aHMoc3JjcGF0aCwgZHN0cGF0aClcbiAgc3JjcGF0aCA9IHJlbGF0aXZlLnRvRHN0XG4gIGNvbnN0IHRvVHlwZSA9IGF3YWl0IHN5bWxpbmtUeXBlKHJlbGF0aXZlLnRvQ3dkLCB0eXBlKVxuICBjb25zdCBkaXIgPSBwYXRoLmRpcm5hbWUoZHN0cGF0aClcblxuICBpZiAoIShhd2FpdCBwYXRoRXhpc3RzKGRpcikpKSB7XG4gICAgYXdhaXQgbWtkaXJzKGRpcilcbiAgfVxuXG4gIHJldHVybiBmcy5zeW1saW5rKHNyY3BhdGgsIGRzdHBhdGgsIHRvVHlwZSlcbn1cblxuZnVuY3Rpb24gY3JlYXRlU3ltbGlua1N5bmMgKHNyY3BhdGgsIGRzdHBhdGgsIHR5cGUpIHtcbiAgbGV0IHN0YXRzXG4gIHRyeSB7XG4gICAgc3RhdHMgPSBmcy5sc3RhdFN5bmMoZHN0cGF0aClcbiAgfSBjYXRjaCB7IH1cbiAgaWYgKHN0YXRzICYmIHN0YXRzLmlzU3ltYm9saWNMaW5rKCkpIHtcbiAgICBjb25zdCBzcmNTdGF0ID0gZnMuc3RhdFN5bmMoc3JjcGF0aClcbiAgICBjb25zdCBkc3RTdGF0ID0gZnMuc3RhdFN5bmMoZHN0cGF0aClcbiAgICBpZiAoYXJlSWRlbnRpY2FsKHNyY1N0YXQsIGRzdFN0YXQpKSByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IHJlbGF0aXZlID0gc3ltbGlua1BhdGhzU3luYyhzcmNwYXRoLCBkc3RwYXRoKVxuICBzcmNwYXRoID0gcmVsYXRpdmUudG9Ec3RcbiAgdHlwZSA9IHN5bWxpbmtUeXBlU3luYyhyZWxhdGl2ZS50b0N3ZCwgdHlwZSlcbiAgY29uc3QgZGlyID0gcGF0aC5kaXJuYW1lKGRzdHBhdGgpXG4gIGNvbnN0IGV4aXN0cyA9IGZzLmV4aXN0c1N5bmMoZGlyKVxuICBpZiAoZXhpc3RzKSByZXR1cm4gZnMuc3ltbGlua1N5bmMoc3JjcGF0aCwgZHN0cGF0aCwgdHlwZSlcbiAgbWtkaXJzU3luYyhkaXIpXG4gIHJldHVybiBmcy5zeW1saW5rU3luYyhzcmNwYXRoLCBkc3RwYXRoLCB0eXBlKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlU3ltbGluazogdShjcmVhdGVTeW1saW5rKSxcbiAgY3JlYXRlU3ltbGlua1N5bmNcbn1cbiIsCiAgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB7IGNyZWF0ZUZpbGUsIGNyZWF0ZUZpbGVTeW5jIH0gPSByZXF1aXJlKCcuL2ZpbGUnKVxuY29uc3QgeyBjcmVhdGVMaW5rLCBjcmVhdGVMaW5rU3luYyB9ID0gcmVxdWlyZSgnLi9saW5rJylcbmNvbnN0IHsgY3JlYXRlU3ltbGluaywgY3JlYXRlU3ltbGlua1N5bmMgfSA9IHJlcXVpcmUoJy4vc3ltbGluaycpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBmaWxlXG4gIGNyZWF0ZUZpbGUsXG4gIGNyZWF0ZUZpbGVTeW5jLFxuICBlbnN1cmVGaWxlOiBjcmVhdGVGaWxlLFxuICBlbnN1cmVGaWxlU3luYzogY3JlYXRlRmlsZVN5bmMsXG4gIC8vIGxpbmtcbiAgY3JlYXRlTGluayxcbiAgY3JlYXRlTGlua1N5bmMsXG4gIGVuc3VyZUxpbms6IGNyZWF0ZUxpbmssXG4gIGVuc3VyZUxpbmtTeW5jOiBjcmVhdGVMaW5rU3luYyxcbiAgLy8gc3ltbGlua1xuICBjcmVhdGVTeW1saW5rLFxuICBjcmVhdGVTeW1saW5rU3luYyxcbiAgZW5zdXJlU3ltbGluazogY3JlYXRlU3ltbGluayxcbiAgZW5zdXJlU3ltbGlua1N5bmM6IGNyZWF0ZVN5bWxpbmtTeW5jXG59XG4iLAogICJmdW5jdGlvbiBzdHJpbmdpZnkgKG9iaiwgeyBFT0wgPSAnXFxuJywgZmluYWxFT0wgPSB0cnVlLCByZXBsYWNlciA9IG51bGwsIHNwYWNlcyB9ID0ge30pIHtcbiAgY29uc3QgRU9GID0gZmluYWxFT0wgPyBFT0wgOiAnJ1xuICBjb25zdCBzdHIgPSBKU09OLnN0cmluZ2lmeShvYmosIHJlcGxhY2VyLCBzcGFjZXMpXG5cbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXG4vZywgRU9MKSArIEVPRlxufVxuXG5mdW5jdGlvbiBzdHJpcEJvbSAoY29udGVudCkge1xuICAvLyB3ZSBkbyB0aGlzIGJlY2F1c2UgSlNPTi5wYXJzZSB3b3VsZCBjb252ZXJ0IGl0IHRvIGEgdXRmOCBzdHJpbmcgaWYgZW5jb2Rpbmcgd2Fzbid0IHNwZWNpZmllZFxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKGNvbnRlbnQpKSBjb250ZW50ID0gY29udGVudC50b1N0cmluZygndXRmOCcpXG4gIHJldHVybiBjb250ZW50LnJlcGxhY2UoL15cXHVGRUZGLywgJycpXG59XG5cbm1vZHVsZS5leHBvcnRzID0geyBzdHJpbmdpZnksIHN0cmlwQm9tIH1cbiIsCiAgImxldCBfZnNcbnRyeSB7XG4gIF9mcyA9IHJlcXVpcmUoJ2dyYWNlZnVsLWZzJylcbn0gY2F0Y2ggKF8pIHtcbiAgX2ZzID0gcmVxdWlyZSgnZnMnKVxufVxuY29uc3QgdW5pdmVyc2FsaWZ5ID0gcmVxdWlyZSgndW5pdmVyc2FsaWZ5JylcbmNvbnN0IHsgc3RyaW5naWZ5LCBzdHJpcEJvbSB9ID0gcmVxdWlyZSgnLi91dGlscycpXG5cbmFzeW5jIGZ1bmN0aW9uIF9yZWFkRmlsZSAoZmlsZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICBvcHRpb25zID0geyBlbmNvZGluZzogb3B0aW9ucyB9XG4gIH1cblxuICBjb25zdCBmcyA9IG9wdGlvbnMuZnMgfHwgX2ZzXG5cbiAgY29uc3Qgc2hvdWxkVGhyb3cgPSAndGhyb3dzJyBpbiBvcHRpb25zID8gb3B0aW9ucy50aHJvd3MgOiB0cnVlXG5cbiAgbGV0IGRhdGEgPSBhd2FpdCB1bml2ZXJzYWxpZnkuZnJvbUNhbGxiYWNrKGZzLnJlYWRGaWxlKShmaWxlLCBvcHRpb25zKVxuXG4gIGRhdGEgPSBzdHJpcEJvbShkYXRhKVxuXG4gIGxldCBvYmpcbiAgdHJ5IHtcbiAgICBvYmogPSBKU09OLnBhcnNlKGRhdGEsIG9wdGlvbnMgPyBvcHRpb25zLnJldml2ZXIgOiBudWxsKVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAoc2hvdWxkVGhyb3cpIHtcbiAgICAgIGVyci5tZXNzYWdlID0gYCR7ZmlsZX06ICR7ZXJyLm1lc3NhZ2V9YFxuICAgICAgdGhyb3cgZXJyXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9ialxufVxuXG5jb25zdCByZWFkRmlsZSA9IHVuaXZlcnNhbGlmeS5mcm9tUHJvbWlzZShfcmVhZEZpbGUpXG5cbmZ1bmN0aW9uIHJlYWRGaWxlU3luYyAoZmlsZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICBvcHRpb25zID0geyBlbmNvZGluZzogb3B0aW9ucyB9XG4gIH1cblxuICBjb25zdCBmcyA9IG9wdGlvbnMuZnMgfHwgX2ZzXG5cbiAgY29uc3Qgc2hvdWxkVGhyb3cgPSAndGhyb3dzJyBpbiBvcHRpb25zID8gb3B0aW9ucy50aHJvd3MgOiB0cnVlXG5cbiAgdHJ5IHtcbiAgICBsZXQgY29udGVudCA9IGZzLnJlYWRGaWxlU3luYyhmaWxlLCBvcHRpb25zKVxuICAgIGNvbnRlbnQgPSBzdHJpcEJvbShjb250ZW50KVxuICAgIHJldHVybiBKU09OLnBhcnNlKGNvbnRlbnQsIG9wdGlvbnMucmV2aXZlcilcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKHNob3VsZFRocm93KSB7XG4gICAgICBlcnIubWVzc2FnZSA9IGAke2ZpbGV9OiAke2Vyci5tZXNzYWdlfWBcbiAgICAgIHRocm93IGVyclxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBfd3JpdGVGaWxlIChmaWxlLCBvYmosIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBmcyA9IG9wdGlvbnMuZnMgfHwgX2ZzXG5cbiAgY29uc3Qgc3RyID0gc3RyaW5naWZ5KG9iaiwgb3B0aW9ucylcblxuICBhd2FpdCB1bml2ZXJzYWxpZnkuZnJvbUNhbGxiYWNrKGZzLndyaXRlRmlsZSkoZmlsZSwgc3RyLCBvcHRpb25zKVxufVxuXG5jb25zdCB3cml0ZUZpbGUgPSB1bml2ZXJzYWxpZnkuZnJvbVByb21pc2UoX3dyaXRlRmlsZSlcblxuZnVuY3Rpb24gd3JpdGVGaWxlU3luYyAoZmlsZSwgb2JqLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgZnMgPSBvcHRpb25zLmZzIHx8IF9mc1xuXG4gIGNvbnN0IHN0ciA9IHN0cmluZ2lmeShvYmosIG9wdGlvbnMpXG4gIC8vIG5vdCBzdXJlIGlmIGZzLndyaXRlRmlsZVN5bmMgcmV0dXJucyBhbnl0aGluZywgYnV0IGp1c3QgaW4gY2FzZVxuICByZXR1cm4gZnMud3JpdGVGaWxlU3luYyhmaWxlLCBzdHIsIG9wdGlvbnMpXG59XG5cbmNvbnN0IGpzb25maWxlID0ge1xuICByZWFkRmlsZSxcbiAgcmVhZEZpbGVTeW5jLFxuICB3cml0ZUZpbGUsXG4gIHdyaXRlRmlsZVN5bmNcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBqc29uZmlsZVxuIiwKICAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGpzb25GaWxlID0gcmVxdWlyZSgnanNvbmZpbGUnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8ganNvbmZpbGUgZXhwb3J0c1xuICByZWFkSnNvbjoganNvbkZpbGUucmVhZEZpbGUsXG4gIHJlYWRKc29uU3luYzoganNvbkZpbGUucmVhZEZpbGVTeW5jLFxuICB3cml0ZUpzb246IGpzb25GaWxlLndyaXRlRmlsZSxcbiAgd3JpdGVKc29uU3luYzoganNvbkZpbGUud3JpdGVGaWxlU3luY1xufVxuIiwKICAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHUgPSByZXF1aXJlKCd1bml2ZXJzYWxpZnknKS5mcm9tUHJvbWlzZVxuY29uc3QgZnMgPSByZXF1aXJlKCcuLi9mcycpXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5jb25zdCBta2RpciA9IHJlcXVpcmUoJy4uL21rZGlycycpXG5jb25zdCBwYXRoRXhpc3RzID0gcmVxdWlyZSgnLi4vcGF0aC1leGlzdHMnKS5wYXRoRXhpc3RzXG5cbmFzeW5jIGZ1bmN0aW9uIG91dHB1dEZpbGUgKGZpbGUsIGRhdGEsIGVuY29kaW5nID0gJ3V0Zi04Jykge1xuICBjb25zdCBkaXIgPSBwYXRoLmRpcm5hbWUoZmlsZSlcblxuICBpZiAoIShhd2FpdCBwYXRoRXhpc3RzKGRpcikpKSB7XG4gICAgYXdhaXQgbWtkaXIubWtkaXJzKGRpcilcbiAgfVxuXG4gIHJldHVybiBmcy53cml0ZUZpbGUoZmlsZSwgZGF0YSwgZW5jb2RpbmcpXG59XG5cbmZ1bmN0aW9uIG91dHB1dEZpbGVTeW5jIChmaWxlLCAuLi5hcmdzKSB7XG4gIGNvbnN0IGRpciA9IHBhdGguZGlybmFtZShmaWxlKVxuICBpZiAoIWZzLmV4aXN0c1N5bmMoZGlyKSkge1xuICAgIG1rZGlyLm1rZGlyc1N5bmMoZGlyKVxuICB9XG5cbiAgZnMud3JpdGVGaWxlU3luYyhmaWxlLCAuLi5hcmdzKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgb3V0cHV0RmlsZTogdShvdXRwdXRGaWxlKSxcbiAgb3V0cHV0RmlsZVN5bmNcbn1cbiIsCiAgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB7IHN0cmluZ2lmeSB9ID0gcmVxdWlyZSgnanNvbmZpbGUvdXRpbHMnKVxuY29uc3QgeyBvdXRwdXRGaWxlIH0gPSByZXF1aXJlKCcuLi9vdXRwdXQtZmlsZScpXG5cbmFzeW5jIGZ1bmN0aW9uIG91dHB1dEpzb24gKGZpbGUsIGRhdGEsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBzdHIgPSBzdHJpbmdpZnkoZGF0YSwgb3B0aW9ucylcblxuICBhd2FpdCBvdXRwdXRGaWxlKGZpbGUsIHN0ciwgb3B0aW9ucylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvdXRwdXRKc29uXG4iLAogICIndXNlIHN0cmljdCdcblxuY29uc3QgeyBzdHJpbmdpZnkgfSA9IHJlcXVpcmUoJ2pzb25maWxlL3V0aWxzJylcbmNvbnN0IHsgb3V0cHV0RmlsZVN5bmMgfSA9IHJlcXVpcmUoJy4uL291dHB1dC1maWxlJylcblxuZnVuY3Rpb24gb3V0cHV0SnNvblN5bmMgKGZpbGUsIGRhdGEsIG9wdGlvbnMpIHtcbiAgY29uc3Qgc3RyID0gc3RyaW5naWZ5KGRhdGEsIG9wdGlvbnMpXG5cbiAgb3V0cHV0RmlsZVN5bmMoZmlsZSwgc3RyLCBvcHRpb25zKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG91dHB1dEpzb25TeW5jXG4iLAogICIndXNlIHN0cmljdCdcblxuY29uc3QgdSA9IHJlcXVpcmUoJ3VuaXZlcnNhbGlmeScpLmZyb21Qcm9taXNlXG5jb25zdCBqc29uRmlsZSA9IHJlcXVpcmUoJy4vanNvbmZpbGUnKVxuXG5qc29uRmlsZS5vdXRwdXRKc29uID0gdShyZXF1aXJlKCcuL291dHB1dC1qc29uJykpXG5qc29uRmlsZS5vdXRwdXRKc29uU3luYyA9IHJlcXVpcmUoJy4vb3V0cHV0LWpzb24tc3luYycpXG4vLyBhbGlhc2VzXG5qc29uRmlsZS5vdXRwdXRKU09OID0ganNvbkZpbGUub3V0cHV0SnNvblxuanNvbkZpbGUub3V0cHV0SlNPTlN5bmMgPSBqc29uRmlsZS5vdXRwdXRKc29uU3luY1xuanNvbkZpbGUud3JpdGVKU09OID0ganNvbkZpbGUud3JpdGVKc29uXG5qc29uRmlsZS53cml0ZUpTT05TeW5jID0ganNvbkZpbGUud3JpdGVKc29uU3luY1xuanNvbkZpbGUucmVhZEpTT04gPSBqc29uRmlsZS5yZWFkSnNvblxuanNvbkZpbGUucmVhZEpTT05TeW5jID0ganNvbkZpbGUucmVhZEpzb25TeW5jXG5cbm1vZHVsZS5leHBvcnRzID0ganNvbkZpbGVcbiIsCiAgIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBmcyA9IHJlcXVpcmUoJy4uL2ZzJylcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IHsgY29weSB9ID0gcmVxdWlyZSgnLi4vY29weScpXG5jb25zdCB7IHJlbW92ZSB9ID0gcmVxdWlyZSgnLi4vcmVtb3ZlJylcbmNvbnN0IHsgbWtkaXJwIH0gPSByZXF1aXJlKCcuLi9ta2RpcnMnKVxuY29uc3QgeyBwYXRoRXhpc3RzIH0gPSByZXF1aXJlKCcuLi9wYXRoLWV4aXN0cycpXG5jb25zdCBzdGF0ID0gcmVxdWlyZSgnLi4vdXRpbC9zdGF0JylcblxuYXN5bmMgZnVuY3Rpb24gbW92ZSAoc3JjLCBkZXN0LCBvcHRzID0ge30pIHtcbiAgY29uc3Qgb3ZlcndyaXRlID0gb3B0cy5vdmVyd3JpdGUgfHwgb3B0cy5jbG9iYmVyIHx8IGZhbHNlXG5cbiAgY29uc3QgeyBzcmNTdGF0LCBpc0NoYW5naW5nQ2FzZSA9IGZhbHNlIH0gPSBhd2FpdCBzdGF0LmNoZWNrUGF0aHMoc3JjLCBkZXN0LCAnbW92ZScsIG9wdHMpXG5cbiAgYXdhaXQgc3RhdC5jaGVja1BhcmVudFBhdGhzKHNyYywgc3JjU3RhdCwgZGVzdCwgJ21vdmUnKVxuXG4gIC8vIElmIHRoZSBwYXJlbnQgb2YgZGVzdCBpcyBub3Qgcm9vdCwgbWFrZSBzdXJlIGl0IGV4aXN0cyBiZWZvcmUgcHJvY2VlZGluZ1xuICBjb25zdCBkZXN0UGFyZW50ID0gcGF0aC5kaXJuYW1lKGRlc3QpXG4gIGNvbnN0IHBhcnNlZFBhcmVudFBhdGggPSBwYXRoLnBhcnNlKGRlc3RQYXJlbnQpXG4gIGlmIChwYXJzZWRQYXJlbnRQYXRoLnJvb3QgIT09IGRlc3RQYXJlbnQpIHtcbiAgICBhd2FpdCBta2RpcnAoZGVzdFBhcmVudClcbiAgfVxuXG4gIHJldHVybiBkb1JlbmFtZShzcmMsIGRlc3QsIG92ZXJ3cml0ZSwgaXNDaGFuZ2luZ0Nhc2UpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRvUmVuYW1lIChzcmMsIGRlc3QsIG92ZXJ3cml0ZSwgaXNDaGFuZ2luZ0Nhc2UpIHtcbiAgaWYgKCFpc0NoYW5naW5nQ2FzZSkge1xuICAgIGlmIChvdmVyd3JpdGUpIHtcbiAgICAgIGF3YWl0IHJlbW92ZShkZXN0KVxuICAgIH0gZWxzZSBpZiAoYXdhaXQgcGF0aEV4aXN0cyhkZXN0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdkZXN0IGFscmVhZHkgZXhpc3RzLicpXG4gICAgfVxuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBUcnkgdy8gcmVuYW1lIGZpcnN0LCBhbmQgdHJ5IGNvcHkgKyByZW1vdmUgaWYgRVhERVZcbiAgICBhd2FpdCBmcy5yZW5hbWUoc3JjLCBkZXN0KVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAoZXJyLmNvZGUgIT09ICdFWERFVicpIHtcbiAgICAgIHRocm93IGVyclxuICAgIH1cbiAgICBhd2FpdCBtb3ZlQWNyb3NzRGV2aWNlKHNyYywgZGVzdCwgb3ZlcndyaXRlKVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG1vdmVBY3Jvc3NEZXZpY2UgKHNyYywgZGVzdCwgb3ZlcndyaXRlKSB7XG4gIGNvbnN0IG9wdHMgPSB7XG4gICAgb3ZlcndyaXRlLFxuICAgIGVycm9yT25FeGlzdDogdHJ1ZSxcbiAgICBwcmVzZXJ2ZVRpbWVzdGFtcHM6IHRydWVcbiAgfVxuXG4gIGF3YWl0IGNvcHkoc3JjLCBkZXN0LCBvcHRzKVxuICByZXR1cm4gcmVtb3ZlKHNyYylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtb3ZlXG4iLAogICIndXNlIHN0cmljdCdcblxuY29uc3QgZnMgPSByZXF1aXJlKCdncmFjZWZ1bC1mcycpXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5jb25zdCBjb3B5U3luYyA9IHJlcXVpcmUoJy4uL2NvcHknKS5jb3B5U3luY1xuY29uc3QgcmVtb3ZlU3luYyA9IHJlcXVpcmUoJy4uL3JlbW92ZScpLnJlbW92ZVN5bmNcbmNvbnN0IG1rZGlycFN5bmMgPSByZXF1aXJlKCcuLi9ta2RpcnMnKS5ta2RpcnBTeW5jXG5jb25zdCBzdGF0ID0gcmVxdWlyZSgnLi4vdXRpbC9zdGF0JylcblxuZnVuY3Rpb24gbW92ZVN5bmMgKHNyYywgZGVzdCwgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuICBjb25zdCBvdmVyd3JpdGUgPSBvcHRzLm92ZXJ3cml0ZSB8fCBvcHRzLmNsb2JiZXIgfHwgZmFsc2VcblxuICBjb25zdCB7IHNyY1N0YXQsIGlzQ2hhbmdpbmdDYXNlID0gZmFsc2UgfSA9IHN0YXQuY2hlY2tQYXRoc1N5bmMoc3JjLCBkZXN0LCAnbW92ZScsIG9wdHMpXG4gIHN0YXQuY2hlY2tQYXJlbnRQYXRoc1N5bmMoc3JjLCBzcmNTdGF0LCBkZXN0LCAnbW92ZScpXG4gIGlmICghaXNQYXJlbnRSb290KGRlc3QpKSBta2RpcnBTeW5jKHBhdGguZGlybmFtZShkZXN0KSlcbiAgcmV0dXJuIGRvUmVuYW1lKHNyYywgZGVzdCwgb3ZlcndyaXRlLCBpc0NoYW5naW5nQ2FzZSlcbn1cblxuZnVuY3Rpb24gaXNQYXJlbnRSb290IChkZXN0KSB7XG4gIGNvbnN0IHBhcmVudCA9IHBhdGguZGlybmFtZShkZXN0KVxuICBjb25zdCBwYXJzZWRQYXRoID0gcGF0aC5wYXJzZShwYXJlbnQpXG4gIHJldHVybiBwYXJzZWRQYXRoLnJvb3QgPT09IHBhcmVudFxufVxuXG5mdW5jdGlvbiBkb1JlbmFtZSAoc3JjLCBkZXN0LCBvdmVyd3JpdGUsIGlzQ2hhbmdpbmdDYXNlKSB7XG4gIGlmIChpc0NoYW5naW5nQ2FzZSkgcmV0dXJuIHJlbmFtZShzcmMsIGRlc3QsIG92ZXJ3cml0ZSlcbiAgaWYgKG92ZXJ3cml0ZSkge1xuICAgIHJlbW92ZVN5bmMoZGVzdClcbiAgICByZXR1cm4gcmVuYW1lKHNyYywgZGVzdCwgb3ZlcndyaXRlKVxuICB9XG4gIGlmIChmcy5leGlzdHNTeW5jKGRlc3QpKSB0aHJvdyBuZXcgRXJyb3IoJ2Rlc3QgYWxyZWFkeSBleGlzdHMuJylcbiAgcmV0dXJuIHJlbmFtZShzcmMsIGRlc3QsIG92ZXJ3cml0ZSlcbn1cblxuZnVuY3Rpb24gcmVuYW1lIChzcmMsIGRlc3QsIG92ZXJ3cml0ZSkge1xuICB0cnkge1xuICAgIGZzLnJlbmFtZVN5bmMoc3JjLCBkZXN0KVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAoZXJyLmNvZGUgIT09ICdFWERFVicpIHRocm93IGVyclxuICAgIHJldHVybiBtb3ZlQWNyb3NzRGV2aWNlKHNyYywgZGVzdCwgb3ZlcndyaXRlKVxuICB9XG59XG5cbmZ1bmN0aW9uIG1vdmVBY3Jvc3NEZXZpY2UgKHNyYywgZGVzdCwgb3ZlcndyaXRlKSB7XG4gIGNvbnN0IG9wdHMgPSB7XG4gICAgb3ZlcndyaXRlLFxuICAgIGVycm9yT25FeGlzdDogdHJ1ZSxcbiAgICBwcmVzZXJ2ZVRpbWVzdGFtcHM6IHRydWVcbiAgfVxuICBjb3B5U3luYyhzcmMsIGRlc3QsIG9wdHMpXG4gIHJldHVybiByZW1vdmVTeW5jKHNyYylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtb3ZlU3luY1xuIiwKICAiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHUgPSByZXF1aXJlKCd1bml2ZXJzYWxpZnknKS5mcm9tUHJvbWlzZVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIG1vdmU6IHUocmVxdWlyZSgnLi9tb3ZlJykpLFxuICBtb3ZlU3luYzogcmVxdWlyZSgnLi9tb3ZlLXN5bmMnKVxufVxuIiwKICAiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBFeHBvcnQgcHJvbWlzZWlmaWVkIGdyYWNlZnVsLWZzOlxuICAuLi5yZXF1aXJlKCcuL2ZzJyksXG4gIC8vIEV4cG9ydCBleHRyYSBtZXRob2RzOlxuICAuLi5yZXF1aXJlKCcuL2NvcHknKSxcbiAgLi4ucmVxdWlyZSgnLi9lbXB0eScpLFxuICAuLi5yZXF1aXJlKCcuL2Vuc3VyZScpLFxuICAuLi5yZXF1aXJlKCcuL2pzb24nKSxcbiAgLi4ucmVxdWlyZSgnLi9ta2RpcnMnKSxcbiAgLi4ucmVxdWlyZSgnLi9tb3ZlJyksXG4gIC4uLnJlcXVpcmUoJy4vb3V0cHV0LWZpbGUnKSxcbiAgLi4ucmVxdWlyZSgnLi9wYXRoLWV4aXN0cycpLFxuICAuLi5yZXF1aXJlKCcuL3JlbW92ZScpXG59XG4iLAogICIjIS91c3IvYmluL2VudiBidW5cbmltcG9ydCBmcyBmcm9tIFwiZnMtZXh0cmFcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgeyBleGVjU3luYyB9IGZyb20gXCIuL2V4ZWMtc3luY1wiO1xuaW1wb3J0IHsgVVJMLCBmaWxlVVJMVG9QYXRoIH0gZnJvbSBcInVybFwiO1xuaW1wb3J0IHsgZXhlY1N5bmNSZXN1bHQgfSBmcm9tIFwiLi9leGVjLXN5bmMtcmVzdWx0XCI7XG5cbmNvbnN0IF9fZGlybmFtZSA9IGZpbGVVUkxUb1BhdGgobmV3IFVSTChcIi5cIiwgaW1wb3J0Lm1ldGEudXJsKSk7XG5jb25zdCBMT0dfRklMRSA9IHBhdGguam9pbihfX2Rpcm5hbWUsIFwicG9zdC1pbnN0YWxsLmxvZ1wiKTtcblxuZnVuY3Rpb24gaXNTdHJpbmcodmFsOiBhbnkpOiB2YWwgaXMgc3RyaW5nIHtcbiAgcmV0dXJuIHZhbD8uY2hhckF0O1xufVxuXG5mdW5jdGlvbiBsb2coLi4ubWVzc2FnZTogc3RyaW5nW10pIHtcbiAgZnMuYXBwZW5kRmlsZVN5bmMoTE9HX0ZJTEUsIGBcXG4ke21lc3NhZ2Uuam9pbihcIiBcIil9YCwgeyBlbmNvZGluZzogXCJ1dGYtOFwiIH0pO1xuICBjb25zb2xlLndhcm4oLi4ubWVzc2FnZSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJ1bigpIHtcbiAgLy8gRW5zdXJlIHRoZSBsb2cgZmlsZSBleGlzdHNcbiAgaWYgKCFmcy5leGlzdHNTeW5jKExPR19GSUxFKSkge1xuICAgIGZzLmVuc3VyZUZpbGVTeW5jKExPR19GSUxFKTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocikgPT4gc2V0VGltZW91dChyLCAxMDApKTtcbiAgfVxuXG4gIC8vIEltcG9ydCB0aGUgcGFja2FnZSBqc29uXG4gIGNvbnN0IGpzb24gPSBmcy5yZWFkSnNvblN5bmMocGF0aC5yZXNvbHZlKFwicGFja2FnZS5qc29uXCIpKTtcbiAgLy8gR2V0IHRoZSBmYWxsYmFjayBkZXAgb2JqZWN0XG4gIGNvbnN0IGZhbGxiYWNrcyA9IGpzb24uZmFsbGJhY2tEZXBlbmRlbmNpZXM7XG4gIC8vIENoZWNrIGZvciBidW4gdG8gcnVuXG4gIGNvbnN0IGhhc0J1biA9IGF3YWl0IGV4ZWNTeW5jKFwiYnVuXCIsIFtcIi12XCJdKTtcbiAgLy8gQ2hlY2sgZm9yIHlhcm5cbiAgY29uc3QgaGFzWWFybiA9ICFoYXNCdW4gPyBhd2FpdCBleGVjU3luYyhcInlhcm5cIiwgW1wiLXZcIl0pIDogZmFsc2U7XG4gIC8vIENoZWNrIGZvciBucG1cbiAgY29uc3QgaGFzTnBtID0gIWhhc0J1biAmJiAhaGFzWWFybiA/IGF3YWl0IGV4ZWNTeW5jKFwibnBtXCIsIFtcIi12XCJdKSA6IGZhbHNlO1xuXG4gIGlmICghaGFzQnVuICYmICFoYXNOcG0gJiYgIWhhc1lhcm4pIHtcbiAgICBsb2coXG4gICAgICBcIk5vIGFwcHJvcHJpYXRlIHBhY2thZ2UgbWFuYWdlciBkZXRlY3RlZCBmb3IgZXhlY3V0aW5nIGZhbGxiYWNrRGVwZW5kZW5jaWVzLiBQbGVhc2UgZW5zdXJlIHlhcm4sIGJ1biwgb3IgbnBtIGlzIGF2YWlsYWJsZS5cIlxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFmcy5leGlzdHNTeW5jKHBhdGgucmVzb2x2ZShcImJ1bmZpZy50b21sXCIpKSkge1xuICAgIGZzLmNvcHlTeW5jKFxuICAgICAgcGF0aC5qb2luKF9fZGlybmFtZSwgXCJidW5maWcudG9tbFwiKSxcbiAgICAgIHBhdGgucmVzb2x2ZShcImJ1bmZpZy50b21sXCIpXG4gICAgKTtcbiAgfVxuXG4gIC8vIEluc3RhbGwgYSBkZXBlbmRlbmN5IFdJVEhPVVQgYWx0ZXJpbmcgcGFja2FnZS5qc29uXG4gIGNvbnN0IGRvSW5zdGFsbCA9IGFzeW5jIChkZXA6IHN0cmluZyB8IHN0cmluZ1tdKSA9PiB7XG4gICAgaWYgKGlzU3RyaW5nKGRlcCkpIGRlcCA9IFtkZXBdO1xuXG4gICAgaWYgKGhhc0J1bikge1xuICAgICAgbGV0IHJlc3VsdCA9IEJvb2xlYW4oXG4gICAgICAgIGF3YWl0IGV4ZWNTeW5jUmVzdWx0KFwiYnVuXCIsIFtcbiAgICAgICAgICBcImFkZFwiLFxuICAgICAgICAgIFwiLS1uby1zYXZlXCIsXG4gICAgICAgICAgXCItLWlnbm9yZS1zY3JpcHRzXCIsXG4gICAgICAgICAgLi4uZGVwLFxuICAgICAgICBdKVxuICAgICAgKTtcblxuICAgICAgLy8gRm9yIGJ1biwgd2Ugc29tZXRpbWVzIGdldCB0aGVzZSBjYWNoZSBlcnJvcnMgd2hlbiBpbnN0YWxsaW5nIHRoYXRcbiAgICAgIC8vIHByZXZlbnRzIGl0IGZyb20gaW5zdGFsbGluZyB0aGUgbW9zdCB1cCB0byBkYXRlIGRlcGVuZGVuY3kuIFNvIGlmIHdlXG4gICAgICAvLyBzZWUgdGhpcywgd2UgdHJ5IG51a2luZyB0aGUgY2FjaGUgYW5kIHRyeWluZyBhZ2Fpbi5cbiAgICAgIGlmIChcbiAgICAgICAgZXhlY1N5bmNSZXN1bHQubGFzdEVycm9yLmluY2x1ZGVzKFwibm8gY29tbWl0IG1hdGNoaW5nXCIpICYmXG4gICAgICAgIGV4ZWNTeW5jUmVzdWx0Lmxhc3RFcnJvci5pbmNsdWRlcyhcImJ1dCByZXBvc2l0b3J5IGV4aXN0c1wiKVxuICAgICAgKSB7XG4gICAgICAgIGF3YWl0IGV4ZWNTeW5jUmVzdWx0KFwiYnVuXCIsIFtcInBtXCIsIFwiY2FjaGVcIiwgXCJybVwiXSk7XG5cbiAgICAgICAgcmVzdWx0ID0gQm9vbGVhbihcbiAgICAgICAgICBhd2FpdCBleGVjU3luY1Jlc3VsdChcImJ1blwiLCBbXG4gICAgICAgICAgICBcImFkZFwiLFxuICAgICAgICAgICAgXCItLW5vLXNhdmVcIixcbiAgICAgICAgICAgIFwiLS1pZ25vcmUtc2NyaXB0c1wiLFxuICAgICAgICAgICAgLi4uZGVwLFxuICAgICAgICAgIF0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIGxvZyhgRmFpbGVkIHRvIGluc3RhbGwgZGVwZW5kZW5jeSB3aXRoIGJ1bjogJHtkZXB9YCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIGlmIChoYXNZYXJuKSB7XG4gICAgICByZXR1cm4gYXdhaXQgZXhlY1N5bmMoXCJ5YXJuXCIsIFtcbiAgICAgICAgXCJhZGRcIixcbiAgICAgICAgXCItLW5vLXNhdmVcIixcbiAgICAgICAgXCItLWlnbm9yZS1zY3JpcHRzXCIsXG4gICAgICAgIC4uLmRlcCxcbiAgICAgIF0pO1xuICAgIH0gZWxzZSBpZiAoaGFzTnBtKSB7XG4gICAgICByZXR1cm4gYXdhaXQgZXhlY1N5bmMoXCJucG1cIiwgW1xuICAgICAgICBcImluc3RhbGxcIixcbiAgICAgICAgXCItLW5vLXNhdmVcIixcbiAgICAgICAgXCItLWlnbm9yZS1zY3JpcHRzXCIsXG4gICAgICAgIC4uLmRlcCxcbiAgICAgIF0pO1xuICAgIH1cbiAgfTtcblxuICBsb2coXCJQT1NUIElOU1RBTEw6IGZhbGxiYWNrLWRlcGVuZGVuY2llc1wiKTtcblxuICBsb2coXCJGYWxsYmFja3M6XCIpO1xuICBsb2coSlNPTi5zdHJpbmdpZnkoZmFsbGJhY2tzLCBudWxsLCAyKSk7XG5cbiAgZm9yIChjb25zdCBbbmFtZSwgcmVwb3NdIG9mIE9iamVjdC5lbnRyaWVzKGZhbGxiYWNrcykpIHtcbiAgICBsb2coXCJJbnN0YWxsaW5nIGRlcGVuZGVuY2llcyB3aXRoIGZhbGxiYWNrcyBmb3I6XCIsIG5hbWUpO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJlcG9zKSkge1xuICAgICAgbG9nKFxuICAgICAgICBcIkludmFsaWQgZmFsbGJhY2tzIGZvcjpcIixcbiAgICAgICAgbmFtZSxcbiAgICAgICAgXCJFeHBlY3RlZCBhbiBhcnJheSBidXQgZ290OlwiLFxuICAgICAgICBKU09OLnN0cmluZ2lmeShyZXBvcylcbiAgICAgICk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBsZXQgc3VjY2VzcyA9IGZhbHNlO1xuXG4gICAgZm9yIChjb25zdCByZXBvIG9mIHJlcG9zKSB7XG4gICAgICBpZiAoIWlzU3RyaW5nKHJlcG8pKSB7XG4gICAgICAgIGxvZyhcIkludmFsaWQgcmVwbyBmb3I6XCIsIG5hbWUsIFwiRXhwZWN0ZWQgYSBzdHJpbmcgYnV0IGdvdDpcIiwgcmVwbyk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXdhaXQgZG9JbnN0YWxsKHJlcG8pKSB7XG4gICAgICAgIGxvZyhcIkluc3RhbGxlZDpcIiwgcmVwbyk7XG4gICAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZyhcIkluc3RhbGxhdGlvbiBmYWlsZWQgZm9yOlwiLCByZXBvKTtcbiAgICAgICAgbG9nKFwiQXR0ZW1wdGluZyBmYWxsYmFjay4uLlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgIGxvZyhcIk5vIGZhbGxiYWNrIGRlcGVuZGVuY3kgd29ya2VkIGZvcjpcIiwgbmFtZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIHdpbGwgY29ycmVjdCBhbnkgYmluIGluc3RhbGxhdGlvbiBpc3N1ZXMgd2l0aCB0aGUgZGVwZW5kZW5jaWVzXG4gICAgLy8gaW5zdGFsbGVkLiBFc3NlbnRpYWxseSwgaWYgdGhlIGRlcGVuZGVuY3kgaGFzIGEgYmluIGluIGl0J3MgcGFja2FnZS5qc29uXG4gICAgLy8gaXQgd2lsbCBtYWtlIHN1cmUgdGhhdCBiaW4gZmlsZSBpcyBhZGRlZCB0byB0aGUgLmJpbiBkaXJlY3RvcnkuIFRoaXNcbiAgICAvLyBzZWVtcyB0byBtb3N0bHkgYmUgYW4gaXNzdWUgb24gd2luZG93cyB3aXRoIGJ1bi5cbiAgICBjb25zdCBub2RlTW9kdWxlc1BhdGggPSBwYXRoLnJlc29sdmUoXCJub2RlX21vZHVsZXNcIik7XG5cbiAgICAvLyBDaGVjayB0aGF0IHRoZSBmYWxsYmFjayBpZGVudGlmaWVyIHdhcyBpbnN0YWxsZWRcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMocGF0aC5qb2luKG5vZGVNb2R1bGVzUGF0aCwgbmFtZSkpKSB7XG4gICAgICBsb2coXG4gICAgICAgIGBBIGZhbGxiYWNrIGRlcGVuZGVuY3kgd2FzIGluc3RhbGxlZCwgaG93ZXZlciwgdGhlIGtleSBwcm92aWRlZCBcIiR7bmFtZX1cIiBpbiB0aGUgZmFsbGJhY2sgZGVwZW5kZW5jeSBjb25maWd1cmF0aW9uIGRvZXMgTk9UIG1hdGNoIHRoZSBwYWNrYWdlIGlkZW50aWZpZXIuXFxuRXJyb3I6IG5vZGVfbW9kdWxlcy8ke25hbWV9IHdhcyBub3QgZm91bmQuYFxuICAgICAgKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSB0aGUgYmluIGxpc3RlZCBpbiB0aGUgaW5zdGFsbGVkIHBhY2thZ2UuanNvbiBpcyBjb3BpZWQgdG8gLmJpblxuICAgIGNvbnN0IHBhY2thZ2VKc29uUGF0aCA9IHBhdGguam9pbihub2RlTW9kdWxlc1BhdGgsIG5hbWUsIFwicGFja2FnZS5qc29uXCIpO1xuXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHBhY2thZ2VKc29uUGF0aCkpIHtcbiAgICAgIGxvZyhcbiAgICAgICAgYEEgZmFsbGJhY2sgZGVwZW5kZW5jeSB3YXMgaW5zdGFsbGVkLCBob3dldmVyLCB0aGUgcGFja2FnZS5qc29uIGZvciBcIiR7bmFtZX1cIiB3YXMgbm90IGZvdW5kIGF0OiAke3BhY2thZ2VKc29uUGF0aH0uYFxuICAgICAgKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHBhY2thZ2VKc29uID0gZnMucmVhZEpzb25TeW5jKHBhY2thZ2VKc29uUGF0aCk7XG5cbiAgICBpZiAocGFja2FnZUpzb24uYmluKSB7XG4gICAgICAvLyBTZWUgaWYgdGhlIGJpbiBuYW1lIGV4aXN0cyBpbiBvdXIgYmluIGRpcmVjdG9yeVxuICAgICAgY29uc3QgYmluRGlyUGF0aCA9IHBhdGguam9pbihub2RlTW9kdWxlc1BhdGgsIFwiLmJpblwiKTtcbiAgICAgIC8vIE1ha2Ugc3VyZSBvdXIgLmJpbiBkaXJlY3RvcnkgZXhpc3RzXG4gICAgICBpZiAoIWZzLmV4aXN0c1N5bmMoYmluRGlyUGF0aCkpIGZzLmVuc3VyZURpclN5bmMoYmluRGlyUGF0aCk7XG5cbiAgICAgIGZvciAoY29uc3QgYmluTmFtZSBvZiBPYmplY3Qua2V5cyhwYWNrYWdlSnNvbi5iaW4pKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgYmluIGZpbGUgZXhpc3RzXG4gICAgICAgIGNvbnN0IGJpbkZpbGVQYXRoID0gcGF0aC5qb2luKGJpbkRpclBhdGgsIGJpbk5hbWUpO1xuICAgICAgICAvLyBHZXQgdGhlIHBhdGggdG8gdGhlIGJpbiBmaWxlIHRvIGNvcHkgb3ZlclxuICAgICAgICBjb25zdCBiaW5QYXRoID0gcGF0aC5qb2luKFxuICAgICAgICAgIG5vZGVNb2R1bGVzUGF0aCxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIHBhY2thZ2VKc29uLmJpbltiaW5OYW1lXVxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhiaW5QYXRoKSkge1xuICAgICAgICAgIGxvZyhcbiAgICAgICAgICAgIGBBIGZhbGxiYWNrIGRlcGVuZGVuY3kgd2FzIGluc3RhbGxlZCwgaG93ZXZlciwgdGhlIGJpbiBcIiR7YmluTmFtZX1cIiB3YXMgbm90IGZvdW5kIGF0OiAke2JpblBhdGh9LmBcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29weSB0aGUgYmluIGZpbGUgb3ZlclxuICAgICAgICBmcy5jb3B5U3luYyhiaW5QYXRoLCBiaW5GaWxlUGF0aCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbnJ1bigpO1xuIiwKICAiZnVuY3Rpb24gaXNDaGlsZFByb2Nlc3NFcnJvcihlcnI6IGFueSk6IGVyciBpcyB7IHN0YXR1czogbnVtYmVyIH0ge1xuICByZXR1cm4gZXJyICYmIHR5cGVvZiBlcnIuc3RhdHVzID09PSBcIm51bWJlclwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEZWZpbmVkPFQ+KHZhbDogVCB8IHVuZGVmaW5lZCB8IG51bGwpOiB2YWwgaXMgVCB7XG4gIHJldHVybiB2YWwgIT09IHZvaWQgMCAmJiB2YWwgIT09IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUV4ZWNTeW5jIHtcbiAgLyoqIFNldCB0byB0cnVlIHRvIHByZXZlbnQgZXJyb3IgbG9ncyAqL1xuICBzaWxlbnQ/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEV4ZWN1dGVzIGEgY29tbWFuZCBvbiB0aGUgc2FtZSBzdGRpbyBhcyB0aGUgY3VycmVudCBwcm9jZXNzLiBUaGlzIGFic29yYnNcbiAqIGVycm9ycyBhbmQgYWxzbyBpZ25vcmVzIG51bGwvdW5kZWZpbmVkIGFyZ3VtZW50cy5cbiAqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGNvbW1hbmQgc3VjY2VlZGVkLlxuICovXG5hc3luYyBmdW5jdGlvbiBydW4oY29tbWFuZDogc3RyaW5nLCBhcmdzOiAoc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZClbXSA9IFtdKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gQnVuLnNwYXduU3luYyhbY29tbWFuZCwgLi4uYXJncy5maWx0ZXIoaXNEZWZpbmVkKV0sIHtcbiAgICAgIHN0ZGlvOiBbXCJpbmhlcml0XCIsIFwiaWdub3JlXCIsIFwiaW5oZXJpdFwiXSxcbiAgICAgIGVudjogcHJvY2Vzcy5lbnYsXG4gICAgfSk7XG5cbiAgICBpZiAocmVzdWx0LmV4aXRDb2RlICE9PSAwKSB7XG4gICAgICBpZiAoIXJ1bi5zaWxlbnQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBgRXJyb3I6ICR7Y29tbWFuZH0gJHthcmdzLmpvaW4oXCIgXCIpfSBmYWlsZWQgd2l0aCBjb2RlOiAke1xuICAgICAgICAgICAgcmVzdWx0LmV4aXRDb2RlXG4gICAgICAgICAgfWBcbiAgICAgICAgKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAoIXJ1bi5zaWxlbnQpIHtcbiAgICAgIGlmIChpc0NoaWxkUHJvY2Vzc0Vycm9yKGVycikpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBgRXJyb3I6ICR7Y29tbWFuZH0gJHthcmdzLmpvaW4oXCIgXCIpfSBmYWlsZWQgd2l0aCBjb2RlOiAke2Vyci5zdGF0dXN9YFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5lcnJvcihuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIERlZmF1bHQgdGhlIGV4ZWN1dGlvbiBzdHlsZS5cbnJ1bi5zaWxlbnQgPSB0cnVlO1xuXG5leHBvcnQgY29uc3QgZXhlY1N5bmM6IHR5cGVvZiBydW4gJiBJRXhlY1N5bmMgPSBydW47XG4iLAogICIjIS91c3IvYmluL2VudiBidW5cbmltcG9ydCBmcyBmcm9tIFwiZnMtZXh0cmFcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgeyBleGVjU3luYyB9IGZyb20gXCIuL2V4ZWMtc3luY1wiO1xuaW1wb3J0IHsgVVJMLCBmaWxlVVJMVG9QYXRoIH0gZnJvbSBcInVybFwiO1xuaW1wb3J0IHsgZXhlY1N5bmNSZXN1bHQgfSBmcm9tIFwiLi9leGVjLXN5bmMtcmVzdWx0XCI7XG5cbmNvbnN0IF9fZGlybmFtZSA9IGZpbGVVUkxUb1BhdGgobmV3IFVSTChcIi5cIiwgaW1wb3J0Lm1ldGEudXJsKSk7XG5jb25zdCBMT0dfRklMRSA9IHBhdGguam9pbihfX2Rpcm5hbWUsIFwicG9zdC1pbnN0YWxsLmxvZ1wiKTtcblxuZnVuY3Rpb24gaXNTdHJpbmcodmFsOiBhbnkpOiB2YWwgaXMgc3RyaW5nIHtcbiAgcmV0dXJuIHZhbD8uY2hhckF0O1xufVxuXG5mdW5jdGlvbiBsb2coLi4ubWVzc2FnZTogc3RyaW5nW10pIHtcbiAgZnMuYXBwZW5kRmlsZVN5bmMoTE9HX0ZJTEUsIGBcXG4ke21lc3NhZ2Uuam9pbihcIiBcIil9YCwgeyBlbmNvZGluZzogXCJ1dGYtOFwiIH0pO1xuICBjb25zb2xlLndhcm4oLi4ubWVzc2FnZSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJ1bigpIHtcbiAgLy8gRW5zdXJlIHRoZSBsb2cgZmlsZSBleGlzdHNcbiAgaWYgKCFmcy5leGlzdHNTeW5jKExPR19GSUxFKSkge1xuICAgIGZzLmVuc3VyZUZpbGVTeW5jKExPR19GSUxFKTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocikgPT4gc2V0VGltZW91dChyLCAxMDApKTtcbiAgfVxuXG4gIC8vIEltcG9ydCB0aGUgcGFja2FnZSBqc29uXG4gIGNvbnN0IGpzb24gPSBmcy5yZWFkSnNvblN5bmMocGF0aC5yZXNvbHZlKFwicGFja2FnZS5qc29uXCIpKTtcbiAgLy8gR2V0IHRoZSBmYWxsYmFjayBkZXAgb2JqZWN0XG4gIGNvbnN0IGZhbGxiYWNrcyA9IGpzb24uZmFsbGJhY2tEZXBlbmRlbmNpZXM7XG4gIC8vIENoZWNrIGZvciBidW4gdG8gcnVuXG4gIGNvbnN0IGhhc0J1biA9IGF3YWl0IGV4ZWNTeW5jKFwiYnVuXCIsIFtcIi12XCJdKTtcbiAgLy8gQ2hlY2sgZm9yIHlhcm5cbiAgY29uc3QgaGFzWWFybiA9ICFoYXNCdW4gPyBhd2FpdCBleGVjU3luYyhcInlhcm5cIiwgW1wiLXZcIl0pIDogZmFsc2U7XG4gIC8vIENoZWNrIGZvciBucG1cbiAgY29uc3QgaGFzTnBtID0gIWhhc0J1biAmJiAhaGFzWWFybiA/IGF3YWl0IGV4ZWNTeW5jKFwibnBtXCIsIFtcIi12XCJdKSA6IGZhbHNlO1xuXG4gIGlmICghaGFzQnVuICYmICFoYXNOcG0gJiYgIWhhc1lhcm4pIHtcbiAgICBsb2coXG4gICAgICBcIk5vIGFwcHJvcHJpYXRlIHBhY2thZ2UgbWFuYWdlciBkZXRlY3RlZCBmb3IgZXhlY3V0aW5nIGZhbGxiYWNrRGVwZW5kZW5jaWVzLiBQbGVhc2UgZW5zdXJlIHlhcm4sIGJ1biwgb3IgbnBtIGlzIGF2YWlsYWJsZS5cIlxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFmcy5leGlzdHNTeW5jKHBhdGgucmVzb2x2ZShcImJ1bmZpZy50b21sXCIpKSkge1xuICAgIGZzLmNvcHlTeW5jKFxuICAgICAgcGF0aC5qb2luKF9fZGlybmFtZSwgXCJidW5maWcudG9tbFwiKSxcbiAgICAgIHBhdGgucmVzb2x2ZShcImJ1bmZpZy50b21sXCIpXG4gICAgKTtcbiAgfVxuXG4gIC8vIEluc3RhbGwgYSBkZXBlbmRlbmN5IFdJVEhPVVQgYWx0ZXJpbmcgcGFja2FnZS5qc29uXG4gIGNvbnN0IGRvSW5zdGFsbCA9IGFzeW5jIChkZXA6IHN0cmluZyB8IHN0cmluZ1tdKSA9PiB7XG4gICAgaWYgKGlzU3RyaW5nKGRlcCkpIGRlcCA9IFtkZXBdO1xuXG4gICAgaWYgKGhhc0J1bikge1xuICAgICAgbGV0IHJlc3VsdCA9IEJvb2xlYW4oXG4gICAgICAgIGF3YWl0IGV4ZWNTeW5jUmVzdWx0KFwiYnVuXCIsIFtcbiAgICAgICAgICBcImFkZFwiLFxuICAgICAgICAgIFwiLS1uby1zYXZlXCIsXG4gICAgICAgICAgXCItLWlnbm9yZS1zY3JpcHRzXCIsXG4gICAgICAgICAgLi4uZGVwLFxuICAgICAgICBdKVxuICAgICAgKTtcblxuICAgICAgLy8gRm9yIGJ1biwgd2Ugc29tZXRpbWVzIGdldCB0aGVzZSBjYWNoZSBlcnJvcnMgd2hlbiBpbnN0YWxsaW5nIHRoYXRcbiAgICAgIC8vIHByZXZlbnRzIGl0IGZyb20gaW5zdGFsbGluZyB0aGUgbW9zdCB1cCB0byBkYXRlIGRlcGVuZGVuY3kuIFNvIGlmIHdlXG4gICAgICAvLyBzZWUgdGhpcywgd2UgdHJ5IG51a2luZyB0aGUgY2FjaGUgYW5kIHRyeWluZyBhZ2Fpbi5cbiAgICAgIGlmIChcbiAgICAgICAgZXhlY1N5bmNSZXN1bHQubGFzdEVycm9yLmluY2x1ZGVzKFwibm8gY29tbWl0IG1hdGNoaW5nXCIpICYmXG4gICAgICAgIGV4ZWNTeW5jUmVzdWx0Lmxhc3RFcnJvci5pbmNsdWRlcyhcImJ1dCByZXBvc2l0b3J5IGV4aXN0c1wiKVxuICAgICAgKSB7XG4gICAgICAgIGF3YWl0IGV4ZWNTeW5jUmVzdWx0KFwiYnVuXCIsIFtcInBtXCIsIFwiY2FjaGVcIiwgXCJybVwiXSk7XG5cbiAgICAgICAgcmVzdWx0ID0gQm9vbGVhbihcbiAgICAgICAgICBhd2FpdCBleGVjU3luY1Jlc3VsdChcImJ1blwiLCBbXG4gICAgICAgICAgICBcImFkZFwiLFxuICAgICAgICAgICAgXCItLW5vLXNhdmVcIixcbiAgICAgICAgICAgIFwiLS1pZ25vcmUtc2NyaXB0c1wiLFxuICAgICAgICAgICAgLi4uZGVwLFxuICAgICAgICAgIF0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIGxvZyhgRmFpbGVkIHRvIGluc3RhbGwgZGVwZW5kZW5jeSB3aXRoIGJ1bjogJHtkZXB9YCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIGlmIChoYXNZYXJuKSB7XG4gICAgICByZXR1cm4gYXdhaXQgZXhlY1N5bmMoXCJ5YXJuXCIsIFtcbiAgICAgICAgXCJhZGRcIixcbiAgICAgICAgXCItLW5vLXNhdmVcIixcbiAgICAgICAgXCItLWlnbm9yZS1zY3JpcHRzXCIsXG4gICAgICAgIC4uLmRlcCxcbiAgICAgIF0pO1xuICAgIH0gZWxzZSBpZiAoaGFzTnBtKSB7XG4gICAgICByZXR1cm4gYXdhaXQgZXhlY1N5bmMoXCJucG1cIiwgW1xuICAgICAgICBcImluc3RhbGxcIixcbiAgICAgICAgXCItLW5vLXNhdmVcIixcbiAgICAgICAgXCItLWlnbm9yZS1zY3JpcHRzXCIsXG4gICAgICAgIC4uLmRlcCxcbiAgICAgIF0pO1xuICAgIH1cbiAgfTtcblxuICBsb2coXCJQT1NUIElOU1RBTEw6IGZhbGxiYWNrLWRlcGVuZGVuY2llc1wiKTtcblxuICBsb2coXCJGYWxsYmFja3M6XCIpO1xuICBsb2coSlNPTi5zdHJpbmdpZnkoZmFsbGJhY2tzLCBudWxsLCAyKSk7XG5cbiAgZm9yIChjb25zdCBbbmFtZSwgcmVwb3NdIG9mIE9iamVjdC5lbnRyaWVzKGZhbGxiYWNrcykpIHtcbiAgICBsb2coXCJJbnN0YWxsaW5nIGRlcGVuZGVuY2llcyB3aXRoIGZhbGxiYWNrcyBmb3I6XCIsIG5hbWUpO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJlcG9zKSkge1xuICAgICAgbG9nKFxuICAgICAgICBcIkludmFsaWQgZmFsbGJhY2tzIGZvcjpcIixcbiAgICAgICAgbmFtZSxcbiAgICAgICAgXCJFeHBlY3RlZCBhbiBhcnJheSBidXQgZ290OlwiLFxuICAgICAgICBKU09OLnN0cmluZ2lmeShyZXBvcylcbiAgICAgICk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBsZXQgc3VjY2VzcyA9IGZhbHNlO1xuXG4gICAgZm9yIChjb25zdCByZXBvIG9mIHJlcG9zKSB7XG4gICAgICBpZiAoIWlzU3RyaW5nKHJlcG8pKSB7XG4gICAgICAgIGxvZyhcIkludmFsaWQgcmVwbyBmb3I6XCIsIG5hbWUsIFwiRXhwZWN0ZWQgYSBzdHJpbmcgYnV0IGdvdDpcIiwgcmVwbyk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXdhaXQgZG9JbnN0YWxsKHJlcG8pKSB7XG4gICAgICAgIGxvZyhcIkluc3RhbGxlZDpcIiwgcmVwbyk7XG4gICAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZyhcIkluc3RhbGxhdGlvbiBmYWlsZWQgZm9yOlwiLCByZXBvKTtcbiAgICAgICAgbG9nKFwiQXR0ZW1wdGluZyBmYWxsYmFjay4uLlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgIGxvZyhcIk5vIGZhbGxiYWNrIGRlcGVuZGVuY3kgd29ya2VkIGZvcjpcIiwgbmFtZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIHdpbGwgY29ycmVjdCBhbnkgYmluIGluc3RhbGxhdGlvbiBpc3N1ZXMgd2l0aCB0aGUgZGVwZW5kZW5jaWVzXG4gICAgLy8gaW5zdGFsbGVkLiBFc3NlbnRpYWxseSwgaWYgdGhlIGRlcGVuZGVuY3kgaGFzIGEgYmluIGluIGl0J3MgcGFja2FnZS5qc29uXG4gICAgLy8gaXQgd2lsbCBtYWtlIHN1cmUgdGhhdCBiaW4gZmlsZSBpcyBhZGRlZCB0byB0aGUgLmJpbiBkaXJlY3RvcnkuIFRoaXNcbiAgICAvLyBzZWVtcyB0byBtb3N0bHkgYmUgYW4gaXNzdWUgb24gd2luZG93cyB3aXRoIGJ1bi5cbiAgICBjb25zdCBub2RlTW9kdWxlc1BhdGggPSBwYXRoLnJlc29sdmUoXCJub2RlX21vZHVsZXNcIik7XG5cbiAgICAvLyBDaGVjayB0aGF0IHRoZSBmYWxsYmFjayBpZGVudGlmaWVyIHdhcyBpbnN0YWxsZWRcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMocGF0aC5qb2luKG5vZGVNb2R1bGVzUGF0aCwgbmFtZSkpKSB7XG4gICAgICBsb2coXG4gICAgICAgIGBBIGZhbGxiYWNrIGRlcGVuZGVuY3kgd2FzIGluc3RhbGxlZCwgaG93ZXZlciwgdGhlIGtleSBwcm92aWRlZCBcIiR7bmFtZX1cIiBpbiB0aGUgZmFsbGJhY2sgZGVwZW5kZW5jeSBjb25maWd1cmF0aW9uIGRvZXMgTk9UIG1hdGNoIHRoZSBwYWNrYWdlIGlkZW50aWZpZXIuXFxuRXJyb3I6IG5vZGVfbW9kdWxlcy8ke25hbWV9IHdhcyBub3QgZm91bmQuYFxuICAgICAgKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSB0aGUgYmluIGxpc3RlZCBpbiB0aGUgaW5zdGFsbGVkIHBhY2thZ2UuanNvbiBpcyBjb3BpZWQgdG8gLmJpblxuICAgIGNvbnN0IHBhY2thZ2VKc29uUGF0aCA9IHBhdGguam9pbihub2RlTW9kdWxlc1BhdGgsIG5hbWUsIFwicGFja2FnZS5qc29uXCIpO1xuXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHBhY2thZ2VKc29uUGF0aCkpIHtcbiAgICAgIGxvZyhcbiAgICAgICAgYEEgZmFsbGJhY2sgZGVwZW5kZW5jeSB3YXMgaW5zdGFsbGVkLCBob3dldmVyLCB0aGUgcGFja2FnZS5qc29uIGZvciBcIiR7bmFtZX1cIiB3YXMgbm90IGZvdW5kIGF0OiAke3BhY2thZ2VKc29uUGF0aH0uYFxuICAgICAgKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHBhY2thZ2VKc29uID0gZnMucmVhZEpzb25TeW5jKHBhY2thZ2VKc29uUGF0aCk7XG5cbiAgICBpZiAocGFja2FnZUpzb24uYmluKSB7XG4gICAgICAvLyBTZWUgaWYgdGhlIGJpbiBuYW1lIGV4aXN0cyBpbiBvdXIgYmluIGRpcmVjdG9yeVxuICAgICAgY29uc3QgYmluRGlyUGF0aCA9IHBhdGguam9pbihub2RlTW9kdWxlc1BhdGgsIFwiLmJpblwiKTtcbiAgICAgIC8vIE1ha2Ugc3VyZSBvdXIgLmJpbiBkaXJlY3RvcnkgZXhpc3RzXG4gICAgICBpZiAoIWZzLmV4aXN0c1N5bmMoYmluRGlyUGF0aCkpIGZzLmVuc3VyZURpclN5bmMoYmluRGlyUGF0aCk7XG5cbiAgICAgIGZvciAoY29uc3QgYmluTmFtZSBvZiBPYmplY3Qua2V5cyhwYWNrYWdlSnNvbi5iaW4pKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgYmluIGZpbGUgZXhpc3RzXG4gICAgICAgIGNvbnN0IGJpbkZpbGVQYXRoID0gcGF0aC5qb2luKGJpbkRpclBhdGgsIGJpbk5hbWUpO1xuICAgICAgICAvLyBHZXQgdGhlIHBhdGggdG8gdGhlIGJpbiBmaWxlIHRvIGNvcHkgb3ZlclxuICAgICAgICBjb25zdCBiaW5QYXRoID0gcGF0aC5qb2luKFxuICAgICAgICAgIG5vZGVNb2R1bGVzUGF0aCxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIHBhY2thZ2VKc29uLmJpbltiaW5OYW1lXVxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhiaW5QYXRoKSkge1xuICAgICAgICAgIGxvZyhcbiAgICAgICAgICAgIGBBIGZhbGxiYWNrIGRlcGVuZGVuY3kgd2FzIGluc3RhbGxlZCwgaG93ZXZlciwgdGhlIGJpbiBcIiR7YmluTmFtZX1cIiB3YXMgbm90IGZvdW5kIGF0OiAke2JpblBhdGh9LmBcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29weSB0aGUgYmluIGZpbGUgb3ZlclxuICAgICAgICBmcy5jb3B5U3luYyhiaW5QYXRoLCBiaW5GaWxlUGF0aCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbnJ1bigpO1xuIiwKICAiZnVuY3Rpb24gaXNDaGlsZFByb2Nlc3NFcnJvcihlcnI6IGFueSk6IGVyciBpcyB7IHN0YXR1czogbnVtYmVyIH0ge1xuICByZXR1cm4gZXJyICYmIHR5cGVvZiBlcnIuc3RhdHVzID09PSBcIm51bWJlclwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEZWZpbmVkPFQ+KHZhbDogVCB8IHVuZGVmaW5lZCB8IG51bGwpOiB2YWwgaXMgVCB7XG4gIHJldHVybiB2YWwgIT09IHZvaWQgMCAmJiB2YWwgIT09IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUV4ZWNTeW5jUmVzdWx0IHtcbiAgLyoqXG4gICAqIENvbnRhaW5zIHRoZSBjb250ZW50cyBvZiB0aGUgbGFzdCBlcnJvciBtZXNzYWdlIHJhbi5cbiAgICovXG4gIGxhc3RFcnJvcjogc3RyaW5nO1xufVxuXG4vKipcbiAqIEV4ZWN1dGVzIGEgY29tbWFuZCBvbiB0aGUgc2FtZSBzdGRpbyBhcyB0aGUgY3VycmVudCBwcm9jZXNzLiBUaGlzIGFic29yYnNcbiAqIGVycm9ycyBhbmQgYWxzbyBpZ25vcmVzIG51bGwvdW5kZWZpbmVkIGFyZ3VtZW50cy5cbiAqXG4gKiBSZXR1cm5zIHRoZSBzdGRvdXQgcmVzdWx0IG9mIHRoZSBjb21tYW5kIGlmIGl0IHN1Y2NlZWRzIGFuZCBudWxsIGlmIGl0IGZhaWxzLlxuICovXG5hc3luYyBmdW5jdGlvbiBydW4oXG4gIGNvbW1hbmQ6IHN0cmluZyxcbiAgYXJnczogKHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQpW10gPSBbXVxuKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgcnVuLmxhc3RFcnJvciA9IFwiXCI7XG5cbiAgICBjb25zdCByZXN1bHQgPSBCdW4uc3Bhd25TeW5jKFtjb21tYW5kLCAuLi5hcmdzLmZpbHRlcihpc0RlZmluZWQpXSwge1xuICAgICAgc3RkaW86IFtcImluaGVyaXRcIiwgXCJwaXBlXCIsIFwicGlwZVwiXSxcbiAgICAgIGVudjogcHJvY2Vzcy5lbnYsXG4gICAgfSk7XG5cbiAgICBpZiAocmVzdWx0LmV4aXRDb2RlICE9PSAwKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgRXJyb3I6ICR7Y29tbWFuZH0gJHthcmdzLmpvaW4oXCIgXCIpfSBmYWlsZWQgd2l0aCBjb2RlOiAke1xuICAgICAgICAgIHJlc3VsdC5leGl0Q29kZVxuICAgICAgICB9YFxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBCdWZmZXI6XFxuXCIsIHJlc3VsdC5zdGRlcnIudG9TdHJpbmcoKSk7XG4gICAgICBjb25zb2xlLmVycm9yKG5ldyBFcnJvcigpLnN0YWNrKTtcbiAgICAgIHJ1bi5sYXN0RXJyb3IgPSByZXN1bHQuc3RkZXJyLnRvU3RyaW5nKCk7XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAocmVzdWx0LnN0ZG91dCB8fCBcIlwiKS50b1N0cmluZygpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAoaXNDaGlsZFByb2Nlc3NFcnJvcihlcnIpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgRXJyb3I6ICR7Y29tbWFuZH0gJHthcmdzLmpvaW4oXCIgXCIpfSBmYWlsZWQgd2l0aCBjb2RlOiAke2Vyci5zdGF0dXN9YFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBydW4ubGFzdEVycm9yID0gZXJyLm1lc3NhZ2U7XG4gICAgICBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmVycm9yKG5ldyBFcnJvcigpLnN0YWNrKTtcblxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbnJ1bi5sYXN0RXJyb3IgPSBcIlwiO1xuXG5leHBvcnQgY29uc3QgZXhlY1N5bmNSZXN1bHQ6IHR5cGVvZiBydW4gJiBJRXhlY1N5bmNSZXN1bHQgPSBydW47XG4iLAogICIjIS91c3IvYmluL2VudiBidW5cbmltcG9ydCBmcyBmcm9tIFwiZnMtZXh0cmFcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgeyBleGVjU3luYyB9IGZyb20gXCIuL2V4ZWMtc3luY1wiO1xuaW1wb3J0IHsgVVJMLCBmaWxlVVJMVG9QYXRoIH0gZnJvbSBcInVybFwiO1xuaW1wb3J0IHsgZXhlY1N5bmNSZXN1bHQgfSBmcm9tIFwiLi9leGVjLXN5bmMtcmVzdWx0XCI7XG5cbmNvbnN0IF9fZGlybmFtZSA9IGZpbGVVUkxUb1BhdGgobmV3IFVSTChcIi5cIiwgaW1wb3J0Lm1ldGEudXJsKSk7XG5jb25zdCBMT0dfRklMRSA9IHBhdGguam9pbihfX2Rpcm5hbWUsIFwicG9zdC1pbnN0YWxsLmxvZ1wiKTtcblxuZnVuY3Rpb24gaXNTdHJpbmcodmFsOiBhbnkpOiB2YWwgaXMgc3RyaW5nIHtcbiAgcmV0dXJuIHZhbD8uY2hhckF0O1xufVxuXG5mdW5jdGlvbiBsb2coLi4ubWVzc2FnZTogc3RyaW5nW10pIHtcbiAgZnMuYXBwZW5kRmlsZVN5bmMoTE9HX0ZJTEUsIGBcXG4ke21lc3NhZ2Uuam9pbihcIiBcIil9YCwgeyBlbmNvZGluZzogXCJ1dGYtOFwiIH0pO1xuICBjb25zb2xlLndhcm4oLi4ubWVzc2FnZSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJ1bigpIHtcbiAgLy8gRW5zdXJlIHRoZSBsb2cgZmlsZSBleGlzdHNcbiAgaWYgKCFmcy5leGlzdHNTeW5jKExPR19GSUxFKSkge1xuICAgIGZzLmVuc3VyZUZpbGVTeW5jKExPR19GSUxFKTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocikgPT4gc2V0VGltZW91dChyLCAxMDApKTtcbiAgfVxuXG4gIC8vIEltcG9ydCB0aGUgcGFja2FnZSBqc29uXG4gIGNvbnN0IGpzb24gPSBmcy5yZWFkSnNvblN5bmMocGF0aC5yZXNvbHZlKFwicGFja2FnZS5qc29uXCIpKTtcbiAgLy8gR2V0IHRoZSBmYWxsYmFjayBkZXAgb2JqZWN0XG4gIGNvbnN0IGZhbGxiYWNrcyA9IGpzb24uZmFsbGJhY2tEZXBlbmRlbmNpZXM7XG4gIC8vIENoZWNrIGZvciBidW4gdG8gcnVuXG4gIGNvbnN0IGhhc0J1biA9IGF3YWl0IGV4ZWNTeW5jKFwiYnVuXCIsIFtcIi12XCJdKTtcbiAgLy8gQ2hlY2sgZm9yIHlhcm5cbiAgY29uc3QgaGFzWWFybiA9ICFoYXNCdW4gPyBhd2FpdCBleGVjU3luYyhcInlhcm5cIiwgW1wiLXZcIl0pIDogZmFsc2U7XG4gIC8vIENoZWNrIGZvciBucG1cbiAgY29uc3QgaGFzTnBtID0gIWhhc0J1biAmJiAhaGFzWWFybiA/IGF3YWl0IGV4ZWNTeW5jKFwibnBtXCIsIFtcIi12XCJdKSA6IGZhbHNlO1xuXG4gIGlmICghaGFzQnVuICYmICFoYXNOcG0gJiYgIWhhc1lhcm4pIHtcbiAgICBsb2coXG4gICAgICBcIk5vIGFwcHJvcHJpYXRlIHBhY2thZ2UgbWFuYWdlciBkZXRlY3RlZCBmb3IgZXhlY3V0aW5nIGZhbGxiYWNrRGVwZW5kZW5jaWVzLiBQbGVhc2UgZW5zdXJlIHlhcm4sIGJ1biwgb3IgbnBtIGlzIGF2YWlsYWJsZS5cIlxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFmcy5leGlzdHNTeW5jKHBhdGgucmVzb2x2ZShcImJ1bmZpZy50b21sXCIpKSkge1xuICAgIGZzLmNvcHlTeW5jKFxuICAgICAgcGF0aC5qb2luKF9fZGlybmFtZSwgXCJidW5maWcudG9tbFwiKSxcbiAgICAgIHBhdGgucmVzb2x2ZShcImJ1bmZpZy50b21sXCIpXG4gICAgKTtcbiAgfVxuXG4gIC8vIEluc3RhbGwgYSBkZXBlbmRlbmN5IFdJVEhPVVQgYWx0ZXJpbmcgcGFja2FnZS5qc29uXG4gIGNvbnN0IGRvSW5zdGFsbCA9IGFzeW5jIChkZXA6IHN0cmluZyB8IHN0cmluZ1tdKSA9PiB7XG4gICAgaWYgKGlzU3RyaW5nKGRlcCkpIGRlcCA9IFtkZXBdO1xuXG4gICAgaWYgKGhhc0J1bikge1xuICAgICAgbGV0IHJlc3VsdCA9IEJvb2xlYW4oXG4gICAgICAgIGF3YWl0IGV4ZWNTeW5jUmVzdWx0KFwiYnVuXCIsIFtcbiAgICAgICAgICBcImFkZFwiLFxuICAgICAgICAgIFwiLS1uby1zYXZlXCIsXG4gICAgICAgICAgXCItLWlnbm9yZS1zY3JpcHRzXCIsXG4gICAgICAgICAgLi4uZGVwLFxuICAgICAgICBdKVxuICAgICAgKTtcblxuICAgICAgLy8gRm9yIGJ1biwgd2Ugc29tZXRpbWVzIGdldCB0aGVzZSBjYWNoZSBlcnJvcnMgd2hlbiBpbnN0YWxsaW5nIHRoYXRcbiAgICAgIC8vIHByZXZlbnRzIGl0IGZyb20gaW5zdGFsbGluZyB0aGUgbW9zdCB1cCB0byBkYXRlIGRlcGVuZGVuY3kuIFNvIGlmIHdlXG4gICAgICAvLyBzZWUgdGhpcywgd2UgdHJ5IG51a2luZyB0aGUgY2FjaGUgYW5kIHRyeWluZyBhZ2Fpbi5cbiAgICAgIGlmIChcbiAgICAgICAgZXhlY1N5bmNSZXN1bHQubGFzdEVycm9yLmluY2x1ZGVzKFwibm8gY29tbWl0IG1hdGNoaW5nXCIpICYmXG4gICAgICAgIGV4ZWNTeW5jUmVzdWx0Lmxhc3RFcnJvci5pbmNsdWRlcyhcImJ1dCByZXBvc2l0b3J5IGV4aXN0c1wiKVxuICAgICAgKSB7XG4gICAgICAgIGF3YWl0IGV4ZWNTeW5jUmVzdWx0KFwiYnVuXCIsIFtcInBtXCIsIFwiY2FjaGVcIiwgXCJybVwiXSk7XG5cbiAgICAgICAgcmVzdWx0ID0gQm9vbGVhbihcbiAgICAgICAgICBhd2FpdCBleGVjU3luY1Jlc3VsdChcImJ1blwiLCBbXG4gICAgICAgICAgICBcImFkZFwiLFxuICAgICAgICAgICAgXCItLW5vLXNhdmVcIixcbiAgICAgICAgICAgIFwiLS1pZ25vcmUtc2NyaXB0c1wiLFxuICAgICAgICAgICAgLi4uZGVwLFxuICAgICAgICAgIF0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIGxvZyhgRmFpbGVkIHRvIGluc3RhbGwgZGVwZW5kZW5jeSB3aXRoIGJ1bjogJHtkZXB9YCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIGlmIChoYXNZYXJuKSB7XG4gICAgICByZXR1cm4gYXdhaXQgZXhlY1N5bmMoXCJ5YXJuXCIsIFtcbiAgICAgICAgXCJhZGRcIixcbiAgICAgICAgXCItLW5vLXNhdmVcIixcbiAgICAgICAgXCItLWlnbm9yZS1zY3JpcHRzXCIsXG4gICAgICAgIC4uLmRlcCxcbiAgICAgIF0pO1xuICAgIH0gZWxzZSBpZiAoaGFzTnBtKSB7XG4gICAgICByZXR1cm4gYXdhaXQgZXhlY1N5bmMoXCJucG1cIiwgW1xuICAgICAgICBcImluc3RhbGxcIixcbiAgICAgICAgXCItLW5vLXNhdmVcIixcbiAgICAgICAgXCItLWlnbm9yZS1zY3JpcHRzXCIsXG4gICAgICAgIC4uLmRlcCxcbiAgICAgIF0pO1xuICAgIH1cbiAgfTtcblxuICBsb2coXCJQT1NUIElOU1RBTEw6IGZhbGxiYWNrLWRlcGVuZGVuY2llc1wiKTtcblxuICBsb2coXCJGYWxsYmFja3M6XCIpO1xuICBsb2coSlNPTi5zdHJpbmdpZnkoZmFsbGJhY2tzLCBudWxsLCAyKSk7XG5cbiAgZm9yIChjb25zdCBbbmFtZSwgcmVwb3NdIG9mIE9iamVjdC5lbnRyaWVzKGZhbGxiYWNrcykpIHtcbiAgICBsb2coXCJJbnN0YWxsaW5nIGRlcGVuZGVuY2llcyB3aXRoIGZhbGxiYWNrcyBmb3I6XCIsIG5hbWUpO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJlcG9zKSkge1xuICAgICAgbG9nKFxuICAgICAgICBcIkludmFsaWQgZmFsbGJhY2tzIGZvcjpcIixcbiAgICAgICAgbmFtZSxcbiAgICAgICAgXCJFeHBlY3RlZCBhbiBhcnJheSBidXQgZ290OlwiLFxuICAgICAgICBKU09OLnN0cmluZ2lmeShyZXBvcylcbiAgICAgICk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBsZXQgc3VjY2VzcyA9IGZhbHNlO1xuXG4gICAgZm9yIChjb25zdCByZXBvIG9mIHJlcG9zKSB7XG4gICAgICBpZiAoIWlzU3RyaW5nKHJlcG8pKSB7XG4gICAgICAgIGxvZyhcIkludmFsaWQgcmVwbyBmb3I6XCIsIG5hbWUsIFwiRXhwZWN0ZWQgYSBzdHJpbmcgYnV0IGdvdDpcIiwgcmVwbyk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXdhaXQgZG9JbnN0YWxsKHJlcG8pKSB7XG4gICAgICAgIGxvZyhcIkluc3RhbGxlZDpcIiwgcmVwbyk7XG4gICAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZyhcIkluc3RhbGxhdGlvbiBmYWlsZWQgZm9yOlwiLCByZXBvKTtcbiAgICAgICAgbG9nKFwiQXR0ZW1wdGluZyBmYWxsYmFjay4uLlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgIGxvZyhcIk5vIGZhbGxiYWNrIGRlcGVuZGVuY3kgd29ya2VkIGZvcjpcIiwgbmFtZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIHdpbGwgY29ycmVjdCBhbnkgYmluIGluc3RhbGxhdGlvbiBpc3N1ZXMgd2l0aCB0aGUgZGVwZW5kZW5jaWVzXG4gICAgLy8gaW5zdGFsbGVkLiBFc3NlbnRpYWxseSwgaWYgdGhlIGRlcGVuZGVuY3kgaGFzIGEgYmluIGluIGl0J3MgcGFja2FnZS5qc29uXG4gICAgLy8gaXQgd2lsbCBtYWtlIHN1cmUgdGhhdCBiaW4gZmlsZSBpcyBhZGRlZCB0byB0aGUgLmJpbiBkaXJlY3RvcnkuIFRoaXNcbiAgICAvLyBzZWVtcyB0byBtb3N0bHkgYmUgYW4gaXNzdWUgb24gd2luZG93cyB3aXRoIGJ1bi5cbiAgICBjb25zdCBub2RlTW9kdWxlc1BhdGggPSBwYXRoLnJlc29sdmUoXCJub2RlX21vZHVsZXNcIik7XG5cbiAgICAvLyBDaGVjayB0aGF0IHRoZSBmYWxsYmFjayBpZGVudGlmaWVyIHdhcyBpbnN0YWxsZWRcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMocGF0aC5qb2luKG5vZGVNb2R1bGVzUGF0aCwgbmFtZSkpKSB7XG4gICAgICBsb2coXG4gICAgICAgIGBBIGZhbGxiYWNrIGRlcGVuZGVuY3kgd2FzIGluc3RhbGxlZCwgaG93ZXZlciwgdGhlIGtleSBwcm92aWRlZCBcIiR7bmFtZX1cIiBpbiB0aGUgZmFsbGJhY2sgZGVwZW5kZW5jeSBjb25maWd1cmF0aW9uIGRvZXMgTk9UIG1hdGNoIHRoZSBwYWNrYWdlIGlkZW50aWZpZXIuXFxuRXJyb3I6IG5vZGVfbW9kdWxlcy8ke25hbWV9IHdhcyBub3QgZm91bmQuYFxuICAgICAgKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSB0aGUgYmluIGxpc3RlZCBpbiB0aGUgaW5zdGFsbGVkIHBhY2thZ2UuanNvbiBpcyBjb3BpZWQgdG8gLmJpblxuICAgIGNvbnN0IHBhY2thZ2VKc29uUGF0aCA9IHBhdGguam9pbihub2RlTW9kdWxlc1BhdGgsIG5hbWUsIFwicGFja2FnZS5qc29uXCIpO1xuXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHBhY2thZ2VKc29uUGF0aCkpIHtcbiAgICAgIGxvZyhcbiAgICAgICAgYEEgZmFsbGJhY2sgZGVwZW5kZW5jeSB3YXMgaW5zdGFsbGVkLCBob3dldmVyLCB0aGUgcGFja2FnZS5qc29uIGZvciBcIiR7bmFtZX1cIiB3YXMgbm90IGZvdW5kIGF0OiAke3BhY2thZ2VKc29uUGF0aH0uYFxuICAgICAgKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHBhY2thZ2VKc29uID0gZnMucmVhZEpzb25TeW5jKHBhY2thZ2VKc29uUGF0aCk7XG5cbiAgICBpZiAocGFja2FnZUpzb24uYmluKSB7XG4gICAgICAvLyBTZWUgaWYgdGhlIGJpbiBuYW1lIGV4aXN0cyBpbiBvdXIgYmluIGRpcmVjdG9yeVxuICAgICAgY29uc3QgYmluRGlyUGF0aCA9IHBhdGguam9pbihub2RlTW9kdWxlc1BhdGgsIFwiLmJpblwiKTtcbiAgICAgIC8vIE1ha2Ugc3VyZSBvdXIgLmJpbiBkaXJlY3RvcnkgZXhpc3RzXG4gICAgICBpZiAoIWZzLmV4aXN0c1N5bmMoYmluRGlyUGF0aCkpIGZzLmVuc3VyZURpclN5bmMoYmluRGlyUGF0aCk7XG5cbiAgICAgIGZvciAoY29uc3QgYmluTmFtZSBvZiBPYmplY3Qua2V5cyhwYWNrYWdlSnNvbi5iaW4pKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgYmluIGZpbGUgZXhpc3RzXG4gICAgICAgIGNvbnN0IGJpbkZpbGVQYXRoID0gcGF0aC5qb2luKGJpbkRpclBhdGgsIGJpbk5hbWUpO1xuICAgICAgICAvLyBHZXQgdGhlIHBhdGggdG8gdGhlIGJpbiBmaWxlIHRvIGNvcHkgb3ZlclxuICAgICAgICBjb25zdCBiaW5QYXRoID0gcGF0aC5qb2luKFxuICAgICAgICAgIG5vZGVNb2R1bGVzUGF0aCxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIHBhY2thZ2VKc29uLmJpbltiaW5OYW1lXVxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhiaW5QYXRoKSkge1xuICAgICAgICAgIGxvZyhcbiAgICAgICAgICAgIGBBIGZhbGxiYWNrIGRlcGVuZGVuY3kgd2FzIGluc3RhbGxlZCwgaG93ZXZlciwgdGhlIGJpbiBcIiR7YmluTmFtZX1cIiB3YXMgbm90IGZvdW5kIGF0OiAke2JpblBhdGh9LmBcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29weSB0aGUgYmluIGZpbGUgb3ZlclxuICAgICAgICBmcy5jb3B5U3luYyhiaW5QYXRoLCBiaW5GaWxlUGF0aCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbnJ1bigpO1xuIgogIF0sCiAg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LFdBQWEsRUFBRyxDQUN6QixJQUFLLEdBQUksT0FDUCxRQUFRLE1BQ04sVUFBVSxLQUFXLEVBQUssS0FBSyxHQUFHLHVCQUNoQyxFQUFPLFVBRVgsRUFDQSxRQUFRLE1BQU0sSUFBSSxNQUFNLEVBQUUsS0FBSyxFQUVqQyxNQUFPLFVBRUYsRUFBUCxDQUNBLElBQUssR0FBSSxPQUFRLENBQ2YsR0FBSSxHQUFvQixDQUFHLEVBQ3pCLFFBQVEsTUFDTixVQUFVLEtBQVcsRUFBSyxLQUFLLEdBQUcsdUJBQXVCLEVBQUksUUFDL0QsVUFDUyxhQUFlLE1BQ3hCLFFBQVEsTUFBTSxFQUFJLE9BQU8sRUFHM0IsUUFBUSxNQUFNLElBQUksTUFBTSxFQUFFLEtBQUssRUFHakMsTUFBTyxHQUdULE1BQU8sR0FJVCxHQUFJLE9BQVMsR0FFTixJQUFNLEdBQW1DQUMzRGhELElBQVMsV0FBbUIsQ0FBQyxFQUFxQyxDQUNoRSxPQUFPLFVBQWMsRUFBSSxTQUFXLFVBRy9CLFNBQVMsRUFBWSxDQUFDLEVBQXFDLENBQ2hFLE9BQU8sSUFBYSxRQUFLLElBQVEsS0FnQm5DLGVBQWUsRUFBRyxDQUNoQixFQUNBLEVBQXNDLENBQUMsRUFDZixDQUN4QixHQUFJLENBQ0YsR0FBSSxVQUFZLEdBRWhCLE1BQU0sRUFBUyxJQUFJLFVBQVUsQ0FBQyxFQUFTLEdBQUcsRUFBSyxPQUFPLEVBQVMsQ0FBQyxFQUFHLENBQ2pFLE1BQU8sQ0FBQyxVQUFXLE9BQVEsTUFBTSxFQUNqQyxJQUFLLFFBQVEsR0FDZixDQUFDLEVBRUQsR0FBSSxFQUFPLFdBQWEsRUFVdEIsT0FUQSxRQUFRLE1BQ04sVUFBVSxLQUFXLEVBQUssS0FBSyxHQUFHLHVCQUNoQyxFQUFPLFVBRVgsRUFDQSxRQUFRLE1BQU0sa0JBQW1CLEVBQU8sT0FBTyxTQUFTLENBQUMsRUFDekQsUUFBUSxNQUFNLElBQUksTUFBTSxFQUFFLEtBQUssRUFDL0IsR0FBSSxVQUFZLEVBQU8sT0FBTyxTQUFTLEVBRWhDLEtBR1QsT0FBUSxFQUFPLFFBQVUsSUFBSSxTQUFTLFFBQy9CLEVBQVAsQ0FDQSxHQUFJLEdBQW9CLENBQUcsRUFDekIsUUFBUSxNQUNOLFVBQVUsS0FBVyxFQUFLLEtBQUssR0FBRyx1QkFBdUIsRUFBSSxRQUMvRCxVQUNTLGFBQWUsTUFDeEIsR0FBSSxVQUFZLEVBQUksUUFDcEIsUUFBUSxNQUFNLEVBQUksT0FBTyxFQUszQixPQUZBLFFBQVEsTUFBTSxJQUFJLE1BQU0sRUFBRSxLQUFLLEVBRXhCLE1BSVgsR0FBSSxVQUFZLEdBRVQsSUFBTSxHQUErQyIsCiAgImRlYnVnSWQiOiAiNEIwNDY5QzdFMjNFNERBRDY0NzU2ZTIxNjQ3NTZlMjEiLAogICJuYW1lcyI6IFtdCn0=
