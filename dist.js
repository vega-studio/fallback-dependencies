#!/usr/bin/env bun
// @bun
var lJ=Object.create;var{defineProperty:f0,getPrototypeOf:nJ,getOwnPropertyNames:pJ}=Object;var fJ=Object.prototype.hasOwnProperty;var iJ=(H,J,K)=>{K=H!=null?lJ(nJ(H)):{};const U=J||!H||!H.__esModule?f0(K,"default",{value:H,enumerable:!0}):K;for(let V of pJ(H))if(!fJ.call(U,V))f0(U,V,{get:()=>H[V],enumerable:!0});return U};var L=(H,J)=>()=>(J||H((J={exports:{}}).exports,J),J.exports);var $=L((dJ)=>{dJ.fromCallback=function(H){return Object.defineProperty(function(...J){if(typeof J[J.length-1]==="function")H.apply(this,J);else return new Promise((K,U)=>{J.push((V,z)=>V!=null?U(V):K(z)),H.apply(this,J)})},"name",{value:H.name})};dJ.fromPromise=function(H){return Object.defineProperty(function(...J){const K=J[J.length-1];if(typeof K!=="function")return H.apply(this,J);else J.pop(),H.apply(this,J).then((U)=>K(null,U),K)},"name",{value:H.name})}});var d0=L((_U,i0)=>{var eJ=function(H){if(i.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./))J(H);if(!H.lutimes)K(H);if(H.chown=z(H.chown),H.fchown=z(H.fchown),H.lchown=z(H.lchown),H.chmod=U(H.chmod),H.fchmod=U(H.fchmod),H.lchmod=U(H.lchmod),H.chownSync=X(H.chownSync),H.fchownSync=X(H.fchownSync),H.lchownSync=X(H.lchownSync),H.chmodSync=V(H.chmodSync),H.fchmodSync=V(H.fchmodSync),H.lchmodSync=V(H.lchmodSync),H.stat=G(H.stat),H.fstat=G(H.fstat),H.lstat=G(H.lstat),H.statSync=Q(H.statSync),H.fstatSync=Q(H.fstatSync),H.lstatSync=Q(H.lstatSync),H.chmod&&!H.lchmod)H.lchmod=function(Z,B,q){if(q)process.nextTick(q)},H.lchmodSync=function(){};if(H.chown&&!H.lchown)H.lchown=function(Z,B,q,Y){if(Y)process.nextTick(Y)},H.lchownSync=function(){};if(rJ==="win32")H.rename=typeof H.rename!=="function"?H.rename:function(Z){function B(q,Y,O){var W=Date.now(),E=0;Z(q,Y,function R(m){if(m&&(m.code==="EACCES"||m.code==="EPERM"||m.code==="EBUSY")&&Date.now()-W<60000){if(setTimeout(function(){H.stat(Y,function(b,V0){if(b&&b.code==="ENOENT")Z(q,Y,R);else O(m)})},E),E<100)E+=10;return}if(O)O(m)})}if(Object.setPrototypeOf)Object.setPrototypeOf(B,Z);return B}(H.rename);H.read=typeof H.read!=="function"?H.read:function(Z){function B(q,Y,O,W,E,R){var m;if(R&&typeof R==="function"){var b=0;m=function(V0,n0,p0){if(V0&&V0.code==="EAGAIN"&&b<10)return b++,Z.call(H,q,Y,O,W,E,m);R.apply(this,arguments)}}return Z.call(H,q,Y,O,W,E,m)}if(Object.setPrototypeOf)Object.setPrototypeOf(B,Z);return B}(H.read),H.readSync=typeof H.readSync!=="function"?H.readSync:function(Z){return function(B,q,Y,O,W){var E=0;while(!0)try{return Z.call(H,B,q,Y,O,W)}catch(R){if(R.code==="EAGAIN"&&E<10){E++;continue}throw R}}}(H.readSync);function J(Z){Z.lchmod=function(B,q,Y){Z.open(B,i.O_WRONLY|i.O_SYMLINK,q,function(O,W){if(O){if(Y)Y(O);return}Z.fchmod(W,q,function(E){Z.close(W,function(R){if(Y)Y(E||R)})})})},Z.lchmodSync=function(B,q){var Y=Z.openSync(B,i.O_WRONLY|i.O_SYMLINK,q),O=!0,W;try{W=Z.fchmodSync(Y,q),O=!1}finally{if(O)try{Z.closeSync(Y)}catch(E){}else Z.closeSync(Y)}return W}}function K(Z){if(i.hasOwnProperty("O_SYMLINK")&&Z.futimes)Z.lutimes=function(B,q,Y,O){Z.open(B,i.O_SYMLINK,function(W,E){if(W){if(O)O(W);return}Z.futimes(E,q,Y,function(R){Z.close(E,function(m){if(O)O(R||m)})})})},Z.lutimesSync=function(B,q,Y){var O=Z.openSync(B,i.O_SYMLINK),W,E=!0;try{W=Z.futimesSync(O,q,Y),E=!1}finally{if(E)try{Z.closeSync(O)}catch(R){}else Z.closeSync(O)}return W};else if(Z.futimes)Z.lutimes=function(B,q,Y,O){if(O)process.nextTick(O)},Z.lutimesSync=function(){}}function U(Z){if(!Z)return Z;return function(B,q,Y){return Z.call(H,B,q,function(O){if(w(O))O=null;if(Y)Y.apply(this,arguments)})}}function V(Z){if(!Z)return Z;return function(B,q){try{return Z.call(H,B,q)}catch(Y){if(!w(Y))throw Y}}}function z(Z){if(!Z)return Z;return function(B,q,Y,O){return Z.call(H,B,q,Y,function(W){if(w(W))W=null;if(O)O.apply(this,arguments)})}}function X(Z){if(!Z)return Z;return function(B,q,Y){try{return Z.call(H,B,q,Y)}catch(O){if(!w(O))throw O}}}function G(Z){if(!Z)return Z;return function(B,q,Y){if(typeof q==="function")Y=q,q=null;function O(W,E){if(E){if(E.uid<0)E.uid+=4294967296;if(E.gid<0)E.gid+=4294967296}if(Y)Y.apply(this,arguments)}return q?Z.call(H,B,q,O):Z.call(H,B,O)}}function Q(Z){if(!Z)return Z;return function(B,q){var Y=q?Z.call(H,B,q):Z.call(H,B);if(Y){if(Y.uid<0)Y.uid+=4294967296;if(Y.gid<0)Y.gid+=4294967296}return Y}}function w(Z){if(!Z)return!0;if(Z.code==="ENOSYS")return!0;var B=!process.getuid||process.getuid()!==0;if(B){if(Z.code==="EINVAL"||Z.code==="EPERM")return!0}return!1}},i=import.meta.require("constants"),aJ=process.cwd,B0=null,rJ=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){if(!B0)B0=aJ.call(process);return B0};try{process.cwd()}catch(H){}if(typeof process.chdir==="function"){if(D0=process.chdir,process.chdir=function(H){B0=null,D0.call(process,H)},Object.setPrototypeOf)Object.setPrototypeOf(process.chdir,D0)}var D0;i0.exports=eJ});var a0=L((EU,o0)=>{var tJ=function(H){return{ReadStream:J,WriteStream:K};function J(U,V){if(!(this instanceof J))return new J(U,V);c0.call(this);var z=this;this.path=U,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,V=V||{};var X=Object.keys(V);for(var G=0,Q=X.length;G<Q;G++){var w=X[G];this[w]=V[w]}if(this.encoding)this.setEncoding(this.encoding);if(this.start!==void 0){if(typeof this.start!=="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=Infinity;else if(typeof this.end!=="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){z._read()});return}H.open(this.path,this.flags,this.mode,function(Z,B){if(Z){z.emit("error",Z),z.readable=!1;return}z.fd=B,z.emit("open",B),z._read()})}function K(U,V){if(!(this instanceof K))return new K(U,V);c0.call(this),this.path=U,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,V=V||{};var z=Object.keys(V);for(var X=0,G=z.length;X<G;X++){var Q=z[X];this[Q]=V[Q]}if(this.start!==void 0){if(typeof this.start!=="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}if(this.busy=!1,this._queue=[],this.fd===null)this._open=H.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush()}},c0=import.meta.require("stream").Stream;o0.exports=tJ});var e0=L((QU,r0)=>{var H6=function(H){if(H===null||typeof H!=="object")return H;if(H instanceof Object)var J={__proto__:sJ(H)};else var J=Object.create(null);return Object.getOwnPropertyNames(H).forEach(function(K){Object.defineProperty(J,K,Object.getOwnPropertyDescriptor(H,K))}),J};r0.exports=H6;var sJ=Object.getPrototypeOf||function(H){return H.__proto__}});var s=L((MU,j0)=>{var V6=function(){},HH=function(H,J){Object.defineProperty(H,v,{get:function(){return J}})},$0=function(H){J6(H),H.gracefulify=$0,H.createReadStream=n0,H.createWriteStream=p0;var J=H.readFile;H.readFile=K;function K(A,_,I){if(typeof _==="function")I=_,_=null;return j(A,_,I);function j(F,D,N,P){return J(F,D,function(M){if(M&&(M.code==="EMFILE"||M.code==="ENFILE"))t([j,[F,D,N],M,P||Date.now(),Date.now()]);else if(typeof N==="function")N.apply(this,arguments)})}}var U=H.writeFile;H.writeFile=V;function V(A,_,I,j){if(typeof I==="function")j=I,I=null;return F(A,_,I,j);function F(D,N,P,M,k){return U(D,N,P,function(C){if(C&&(C.code==="EMFILE"||C.code==="ENFILE"))t([F,[D,N,P,M],C,k||Date.now(),Date.now()]);else if(typeof M==="function")M.apply(this,arguments)})}}var z=H.appendFile;if(z)H.appendFile=X;function X(A,_,I,j){if(typeof I==="function")j=I,I=null;return F(A,_,I,j);function F(D,N,P,M,k){return z(D,N,P,function(C){if(C&&(C.code==="EMFILE"||C.code==="ENFILE"))t([F,[D,N,P,M],C,k||Date.now(),Date.now()]);else if(typeof M==="function")M.apply(this,arguments)})}}var G=H.copyFile;if(G)H.copyFile=Q;function Q(A,_,I,j){if(typeof I==="function")j=I,I=0;return F(A,_,I,j);function F(D,N,P,M,k){return G(D,N,P,function(C){if(C&&(C.code==="EMFILE"||C.code==="ENFILE"))t([F,[D,N,P,M],C,k||Date.now(),Date.now()]);else if(typeof M==="function")M.apply(this,arguments)})}}var w=H.readdir;H.readdir=B;var Z=/^v[0-5]\./;function B(A,_,I){if(typeof _==="function")I=_,_=null;var j=Z.test(process.version)?function D(N,P,M,k){return w(N,F(N,P,M,k))}:function D(N,P,M,k){return w(N,P,F(N,P,M,k))};return j(A,_,I);function F(D,N,P,M){return function(k,C){if(k&&(k.code==="EMFILE"||k.code==="ENFILE"))t([j,[D,N,P],k,M||Date.now(),Date.now()]);else{if(C&&C.sort)C.sort();if(typeof P==="function")P.call(this,k,C)}}}}if(process.version.substr(0,4)==="v0.8"){var q=K6(H);R=q.ReadStream,b=q.WriteStream}var Y=H.ReadStream;if(Y)R.prototype=Object.create(Y.prototype),R.prototype.open=m;var O=H.WriteStream;if(O)b.prototype=Object.create(O.prototype),b.prototype.open=V0;Object.defineProperty(H,"ReadStream",{get:function(){return R},set:function(A){R=A},enumerable:!0,configurable:!0}),Object.defineProperty(H,"WriteStream",{get:function(){return b},set:function(A){b=A},enumerable:!0,configurable:!0});var W=R;Object.defineProperty(H,"FileReadStream",{get:function(){return W},set:function(A){W=A},enumerable:!0,configurable:!0});var E=b;Object.defineProperty(H,"FileWriteStream",{get:function(){return E},set:function(A){E=A},enumerable:!0,configurable:!0});function R(A,_){if(this instanceof R)return Y.apply(this,arguments),this;else return R.apply(Object.create(R.prototype),arguments)}function m(){var A=this;w0(A.path,A.flags,A.mode,function(_,I){if(_){if(A.autoClose)A.destroy();A.emit("error",_)}else A.fd=I,A.emit("open",I),A.read()})}function b(A,_){if(this instanceof b)return O.apply(this,arguments),this;else return b.apply(Object.create(b.prototype),arguments)}function V0(){var A=this;w0(A.path,A.flags,A.mode,function(_,I){if(_)A.destroy(),A.emit("error",_);else A.fd=I,A.emit("open",I)})}function n0(A,_){return new H.ReadStream(A,_)}function p0(A,_){return new H.WriteStream(A,_)}var mJ=H.open;H.open=w0;function w0(A,_,I,j){if(typeof I==="function")j=I,I=null;return F(A,_,I,j);function F(D,N,P,M,k){return mJ(D,N,P,function(C,BU){if(C&&(C.code==="EMFILE"||C.code==="ENFILE"))t([F,[D,N,P,M],C,k||Date.now(),Date.now()]);else if(typeof M==="function")M.apply(this,arguments)})}}return H},t=function(H){r("ENQUEUE",H[0].name,H[1]),T[v].push(H),x0()},s0=function(){var H=Date.now();for(var J=0;J<T[v].length;++J)if(T[v][J].length>2)T[v][J][3]=H,T[v][J][4]=H;x0()},x0=function(){if(clearTimeout(I0),I0=void 0,T[v].length===0)return;var H=T[v].shift(),J=H[0],K=H[1],U=H[2],V=H[3],z=H[4];if(V===void 0)r("RETRY",J.name,K),J.apply(null,K);else if(Date.now()-V>=60000){r("TIMEOUT",J.name,K);var X=K.pop();if(typeof X==="function")X.call(null,U)}else{var G=Date.now()-z,Q=Math.max(z-V,1),w=Math.min(Q*1.2,100);if(G>=w)r("RETRY",J.name,K),J.apply(null,K.concat([V]));else T[v].push(H)}if(I0===void 0)I0=setTimeout(x0,0)},T=import.meta.require("fs"),J6=d0(),K6=a0(),U6=e0(),L0=import.meta.require("util"),v,_0;if(typeof Symbol==="function"&&typeof Symbol.for==="function")v=Symbol.for("graceful-fs.queue"),_0=Symbol.for("graceful-fs.previous");else v="___graceful-fs.queue",_0="___graceful-fs.previous";var r=V6;if(L0.debuglog)r=L0.debuglog("gfs4");else if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))r=function(){var H=L0.format.apply(L0,arguments);H="GFS4: "+H.split(/\n/).join("\nGFS4: "),console.error(H)};if(!T[v]){if(t0=global[v]||[],HH(T,t0),T.close=function(H){function J(K,U){return H.call(T,K,function(V){if(!V)s0();if(typeof U==="function")U.apply(this,arguments)})}return Object.defineProperty(J,_0,{value:H}),J}(T.close),T.closeSync=function(H){function J(K){H.apply(T,arguments),s0()}return Object.defineProperty(J,_0,{value:H}),J}(T.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))process.on("exit",function(){r(T[v]),import.meta.require("assert").equal(T[v].length,0)})}var t0;if(!global[v])HH(global,T[v]);j0.exports=$0(U6(T));if(process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!T.__patched)j0.exports=$0(T),T.__patched=!0;var I0});var u=L((F0)=>{var JH=$().fromCallback,g=s(),z6=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((H)=>{return typeof g[H]==="function"});Object.assign(F0,g);z6.forEach((H)=>{F0[H]=JH(g[H])});F0.exists=function(H,J){if(typeof J==="function")return g.exists(H,J);return new Promise((K)=>{return g.exists(H,K)})};F0.read=function(H,J,K,U,V,z){if(typeof z==="function")return g.read(H,J,K,U,V,z);return new Promise((X,G)=>{g.read(H,J,K,U,V,(Q,w,Z)=>{if(Q)return G(Q);X({bytesRead:w,buffer:Z})})})};F0.write=function(H,J,...K){if(typeof K[K.length-1]==="function")return g.write(H,J,...K);return new Promise((U,V)=>{g.write(H,J,...K,(z,X,G)=>{if(z)return V(z);U({bytesWritten:X,buffer:G})})})};F0.readv=function(H,J,...K){if(typeof K[K.length-1]==="function")return g.readv(H,J,...K);return new Promise((U,V)=>{g.readv(H,J,...K,(z,X,G)=>{if(z)return V(z);U({bytesRead:X,buffers:G})})})};F0.writev=function(H,J,...K){if(typeof K[K.length-1]==="function")return g.writev(H,J,...K);return new Promise((U,V)=>{g.writev(H,J,...K,(z,X,G)=>{if(z)return V(z);U({bytesWritten:X,buffers:G})})})};if(typeof g.realpath.native==="function")F0.realpath.native=JH(g.realpath.native);else process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var UH=L((O6,KH)=>{var q6=import.meta.require("path");O6.checkPath=function H(J){if(process.platform==="win32"){if(/[<>:"|?*]/.test(J.replace(q6.parse(J).root,""))){const U=new Error(`Path contains invalid characters: ${J}`);throw U.code="EINVAL",U}}}});var ZH=L((L6,k0)=>{var VH=u(),{checkPath:zH}=UH(),XH=(H)=>{const J={mode:511};if(typeof H==="number")return H;return{...J,...H}.mode};L6.makeDir=async(H,J)=>{return zH(H),VH.mkdir(H,{mode:XH(J),recursive:!0})};L6.makeDirSync=(H,J)=>{return zH(H),VH.mkdirSync(H,{mode:XH(J),recursive:!0})}});var l=L((RU,GH)=>{var E6=$().fromPromise,{makeDir:Q6,makeDirSync:v0}=ZH(),y0=E6(Q6);GH.exports={mkdirs:y0,mkdirsSync:v0,mkdirp:y0,mkdirpSync:v0,ensureDir:y0,ensureDirSync:v0}});var d=L((NU,AH)=>{var W6=function(H){return YH.access(H).then(()=>!0).catch(()=>!1)},M6=$().fromPromise,YH=u();AH.exports={pathExists:M6(W6),pathExistsSync:YH.existsSync}});var b0=L((TU,qH)=>{async function R6(H,J,K){const U=await H0.open(H,"r+");let V=null;try{await H0.futimes(U,J,K)}finally{try{await H0.close(U)}catch(z){V=z}}if(V)throw V}var N6=function(H,J,K){const U=H0.openSync(H,"r+");return H0.futimesSync(U,J,K),H0.closeSync(U)},H0=u(),C6=$().fromPromise;qH.exports={utimesMillis:C6(R6),utimesMillisSync:N6}});var e=L((PU,IH)=>{var T6=function(H,J,K){const U=K.dereference?(V)=>J0.stat(V,{bigint:!0}):(V)=>J0.lstat(V,{bigint:!0});return Promise.all([U(H),U(J).catch((V)=>{if(V.code==="ENOENT")return null;throw V})]).then(([V,z])=>({srcStat:V,destStat:z}))},P6=function(H,J,K){let U;const V=K.dereference?(X)=>J0.statSync(X,{bigint:!0}):(X)=>J0.lstatSync(X,{bigint:!0}),z=V(H);try{U=V(J)}catch(X){if(X.code==="ENOENT")return{srcStat:z,destStat:null};throw X}return{srcStat:z,destStat:U}};async function w6(H,J,K,U){const{srcStat:V,destStat:z}=await T6(H,J,U);if(z){if(z0(V,z)){const X=x.basename(H),G=x.basename(J);if(K==="move"&&X!==G&&X.toLowerCase()===G.toLowerCase())return{srcStat:V,destStat:z,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(V.isDirectory()&&!z.isDirectory())throw new Error(`Cannot overwrite non-directory '${J}' with directory '${H}'.`);if(!V.isDirectory()&&z.isDirectory())throw new Error(`Cannot overwrite directory '${J}' with non-directory '${H}'.`)}if(V.isDirectory()&&g0(H,J))throw new Error(E0(H,J,K));return{srcStat:V,destStat:z}}var D6=function(H,J,K,U){const{srcStat:V,destStat:z}=P6(H,J,U);if(z){if(z0(V,z)){const X=x.basename(H),G=x.basename(J);if(K==="move"&&X!==G&&X.toLowerCase()===G.toLowerCase())return{srcStat:V,destStat:z,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(V.isDirectory()&&!z.isDirectory())throw new Error(`Cannot overwrite non-directory '${J}' with directory '${H}'.`);if(!V.isDirectory()&&z.isDirectory())throw new Error(`Cannot overwrite directory '${J}' with non-directory '${H}'.`)}if(V.isDirectory()&&g0(H,J))throw new Error(E0(H,J,K));return{srcStat:V,destStat:z}};async function BH(H,J,K,U){const V=x.resolve(x.dirname(H)),z=x.resolve(x.dirname(K));if(z===V||z===x.parse(z).root)return;let X;try{X=await J0.stat(z,{bigint:!0})}catch(G){if(G.code==="ENOENT")return;throw G}if(z0(J,X))throw new Error(E0(H,K,U));return BH(H,J,z,U)}var LH=function(H,J,K,U){const V=x.resolve(x.dirname(H)),z=x.resolve(x.dirname(K));if(z===V||z===x.parse(z).root)return;let X;try{X=J0.statSync(z,{bigint:!0})}catch(G){if(G.code==="ENOENT")return;throw G}if(z0(J,X))throw new Error(E0(H,K,U));return LH(H,J,z,U)},z0=function(H,J){return J.ino&&J.dev&&J.ino===H.ino&&J.dev===H.dev},g0=function(H,J){const K=x.resolve(H).split(x.sep).filter((V)=>V),U=x.resolve(J).split(x.sep).filter((V)=>V);return K.every((V,z)=>U[z]===V)},E0=function(H,J,K){return`Cannot ${K} '${H}' to a subdirectory of itself, '${J}'.`},J0=u(),x=import.meta.require("path"),OH=$().fromPromise;IH.exports={checkPaths:OH(w6),checkPathsSync:D6,checkParentPaths:OH(BH),checkParentPathsSync:LH,isSrcSubdir:g0,areIdentical:z0}});var WH=L((wU,MH)=>{async function F6(H,J,K={}){if(typeof K==="function")K={filter:K};if(K.clobber="clobber"in K?!!K.clobber:!0,K.overwrite="overwrite"in K?!!K.overwrite:K.clobber,K.preserveTimestamps&&process.arch==="ia32")process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:U,destStat:V}=await Z0.checkPaths(H,J,"copy",K);if(await Z0.checkParentPaths(H,U,J,"copy"),!await EH(H,J,K))return;const X=X0.dirname(J);if(!await x6(X))await $6(X);await QH(V,H,J,K)}async function EH(H,J,K){if(!K.filter)return!0;return K.filter(H,J)}async function QH(H,J,K,U){const z=await(U.dereference?y.stat:y.lstat)(J);if(z.isDirectory())return b6(z,H,J,K,U);if(z.isFile()||z.isCharacterDevice()||z.isBlockDevice())return k6(z,H,J,K,U);if(z.isSymbolicLink())return g6(H,J,K,U);if(z.isSocket())throw new Error(`Cannot copy a socket file: ${J}`);if(z.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${J}`);throw new Error(`Unknown file: ${J}`)}async function k6(H,J,K,U,V){if(!J)return _H(H,K,U,V);if(V.overwrite)return await y.unlink(U),_H(H,K,U,V);if(V.errorOnExist)throw new Error(`'${U}' already exists`)}async function _H(H,J,K,U){if(await y.copyFile(J,K),U.preserveTimestamps){if(v6(H.mode))await y6(K,H.mode);const V=await y.stat(J);await j6(K,V.atime,V.mtime)}return y.chmod(K,H.mode)}var v6=function(H){return(H&128)===0},y6=function(H,J){return y.chmod(H,J|128)};async function b6(H,J,K,U,V){if(!J)await y.mkdir(U);const z=await y.readdir(K);if(await Promise.all(z.map(async(X)=>{const G=X0.join(K,X),Q=X0.join(U,X);if(!await EH(G,Q,V))return;const{destStat:Z}=await Z0.checkPaths(G,Q,"copy",V);return QH(Z,G,Q,V)})),!J)await y.chmod(U,H.mode)}async function g6(H,J,K,U){let V=await y.readlink(J);if(U.dereference)V=X0.resolve(process.cwd(),V);if(!H)return y.symlink(V,K);let z=null;try{z=await y.readlink(K)}catch(X){if(X.code==="EINVAL"||X.code==="UNKNOWN")return y.symlink(V,K);throw X}if(U.dereference)z=X0.resolve(process.cwd(),z);if(Z0.isSrcSubdir(V,z))throw new Error(`Cannot copy '${V}' to a subdirectory of itself, '${z}'.`);if(Z0.isSrcSubdir(z,V))throw new Error(`Cannot overwrite '${z}' with '${V}'.`);return await y.unlink(K),y.symlink(V,K)}var y=u(),X0=import.meta.require("path"),{mkdirs:$6}=l(),{pathExists:x6}=d(),{utimesMillis:j6}=b0(),Z0=e();MH.exports=F6});var PH=L((DU,TH)=>{var h6=function(H,J,K){if(typeof K==="function")K={filter:K};if(K=K||{},K.clobber="clobber"in K?!!K.clobber:!0,K.overwrite="overwrite"in K?!!K.overwrite:K.clobber,K.preserveTimestamps&&process.arch==="ia32")process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:U,destStat:V}=Y0.checkPathsSync(H,J,"copy",K);if(Y0.checkParentPathsSync(H,U,J,"copy"),K.filter&&!K.filter(H,J))return;const z=G0.dirname(J);if(!S.existsSync(z))u6(z);return CH(V,H,J,K)},CH=function(H,J,K,U){const z=(U.dereference?S.statSync:S.lstatSync)(J);if(z.isDirectory())return d6(z,H,J,K,U);else if(z.isFile()||z.isCharacterDevice()||z.isBlockDevice())return m6(z,H,J,K,U);else if(z.isSymbolicLink())return a6(H,J,K,U);else if(z.isSocket())throw new Error(`Cannot copy a socket file: ${J}`);else if(z.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${J}`);throw new Error(`Unknown file: ${J}`)},m6=function(H,J,K,U,V){if(!J)return RH(H,K,U,V);return l6(H,K,U,V)},l6=function(H,J,K,U){if(U.overwrite)return S.unlinkSync(K),RH(H,J,K,U);else if(U.errorOnExist)throw new Error(`'${K}' already exists`)},RH=function(H,J,K,U){if(S.copyFileSync(J,K),U.preserveTimestamps)n6(H.mode,J,K);return u0(K,H.mode)},n6=function(H,J,K){if(p6(H))f6(K,H);return i6(J,K)},p6=function(H){return(H&128)===0},f6=function(H,J){return u0(H,J|128)},u0=function(H,J){return S.chmodSync(H,J)},i6=function(H,J){const K=S.statSync(H);return S6(J,K.atime,K.mtime)},d6=function(H,J,K,U,V){if(!J)return c6(H.mode,K,U,V);return NH(K,U,V)},c6=function(H,J,K,U){return S.mkdirSync(K),NH(J,K,U),u0(K,H)},NH=function(H,J,K){S.readdirSync(H).forEach((U)=>o6(U,H,J,K))},o6=function(H,J,K,U){const V=G0.join(J,H),z=G0.join(K,H);if(U.filter&&!U.filter(V,z))return;const{destStat:X}=Y0.checkPathsSync(V,z,"copy",U);return CH(X,V,z,U)},a6=function(H,J,K,U){let V=S.readlinkSync(J);if(U.dereference)V=G0.resolve(process.cwd(),V);if(!H)return S.symlinkSync(V,K);else{let z;try{z=S.readlinkSync(K)}catch(X){if(X.code==="EINVAL"||X.code==="UNKNOWN")return S.symlinkSync(V,K);throw X}if(U.dereference)z=G0.resolve(process.cwd(),z);if(Y0.isSrcSubdir(V,z))throw new Error(`Cannot copy '${V}' to a subdirectory of itself, '${z}'.`);if(Y0.isSrcSubdir(z,V))throw new Error(`Cannot overwrite '${z}' with '${V}'.`);return r6(V,K)}},r6=function(H,J){return S.unlinkSync(J),S.symlinkSync(H,J)},S=s(),G0=import.meta.require("path"),u6=l().mkdirsSync,S6=b0().utimesMillisSync,Y0=e();TH.exports=h6});var Q0=L(($U,wH)=>{var e6=$().fromPromise;wH.exports={copy:e6(WH()),copySync:PH()}});var A0=L((xU,$H)=>{var s6=function(H,J){DH.rm(H,{recursive:!0,force:!0},J)},HK=function(H){DH.rmSync(H,{recursive:!0,force:!0})},DH=s(),t6=$().fromCallback;$H.exports={remove:t6(s6),removeSync:HK}});var gH=L((jU,bH)=>{var jH=function(H){let J;try{J=FH.readdirSync(H)}catch{return vH.mkdirsSync(H)}J.forEach((K)=>{K=kH.join(H,K),yH.removeSync(K)})},JK=$().fromPromise,FH=u(),kH=import.meta.require("path"),vH=l(),yH=A0(),xH=JK(async function H(J){let K;try{K=await FH.readdir(J)}catch{return vH.mkdirs(J)}return Promise.all(K.map((U)=>yH.remove(kH.join(J,U))))});bH.exports={emptyDirSync:jH,emptydirSync:jH,emptyDir:xH,emptydir:xH}});var mH=L((FU,hH)=>{async function UK(H){let J;try{J=await p.stat(H)}catch{}if(J&&J.isFile())return;const K=uH.dirname(H);let U=null;try{U=await p.stat(K)}catch(V){if(V.code==="ENOENT"){await SH.mkdirs(K),await p.writeFile(H,"");return}else throw V}if(U.isDirectory())await p.writeFile(H,"");else await p.readdir(K)}var VK=function(H){let J;try{J=p.statSync(H)}catch{}if(J&&J.isFile())return;const K=uH.dirname(H);try{if(!p.statSync(K).isDirectory())p.readdirSync(K)}catch(U){if(U&&U.code==="ENOENT")SH.mkdirsSync(K);else throw U}p.writeFileSync(H,"")},KK=$().fromPromise,uH=import.meta.require("path"),p=u(),SH=l();hH.exports={createFile:KK(UK),createFileSync:VK}});var iH=L((kU,fH)=>{async function ZK(H,J){let K;try{K=await c.lstat(J)}catch{}let U;try{U=await c.lstat(H)}catch(X){throw X.message=X.message.replace("lstat","ensureLink"),X}if(K&&pH(U,K))return;const V=lH.dirname(J);if(!await XK(V))await nH.mkdirs(V);await c.link(H,J)}var GK=function(H,J){let K;try{K=c.lstatSync(J)}catch{}try{const z=c.lstatSync(H);if(K&&pH(z,K))return}catch(z){throw z.message=z.message.replace("lstat","ensureLink"),z}const U=lH.dirname(J);if(c.existsSync(U))return c.linkSync(H,J);return nH.mkdirsSync(U),c.linkSync(H,J)},zK=$().fromPromise,lH=import.meta.require("path"),c=u(),nH=l(),{pathExists:XK}=d(),{areIdentical:pH}=e();fH.exports={createLink:zK(ZK),createLinkSync:GK}});var cH=L((vU,dH)=>{async function qK(H,J){if(o.isAbsolute(H)){try{await q0.lstat(H)}catch(z){throw z.message=z.message.replace("lstat","ensureSymlink"),z}return{toCwd:H,toDst:H}}const K=o.dirname(J),U=o.join(K,H);if(await YK(U))return{toCwd:U,toDst:H};try{await q0.lstat(H)}catch(z){throw z.message=z.message.replace("lstat","ensureSymlink"),z}return{toCwd:H,toDst:o.relative(K,H)}}var OK=function(H,J){if(o.isAbsolute(H)){if(!q0.existsSync(H))throw new Error("absolute srcpath does not exist");return{toCwd:H,toDst:H}}const K=o.dirname(J),U=o.join(K,H);if(q0.existsSync(U))return{toCwd:U,toDst:H};if(!q0.existsSync(H))throw new Error("relative srcpath does not exist");return{toCwd:H,toDst:o.relative(K,H)}},o=import.meta.require("path"),q0=u(),{pathExists:YK}=d(),AK=$().fromPromise;dH.exports={symlinkPaths:AK(qK),symlinkPathsSync:OK}});var rH=L((yU,aH)=>{async function LK(H,J){if(J)return J;let K;try{K=await oH.lstat(H)}catch{return"file"}return K&&K.isDirectory()?"dir":"file"}var IK=function(H,J){if(J)return J;let K;try{K=oH.lstatSync(H)}catch{return"file"}return K&&K.isDirectory()?"dir":"file"},oH=u(),BK=$().fromPromise;aH.exports={symlinkType:BK(LK),symlinkTypeSync:IK}});var HJ=L((bU,sH)=>{async function TK(H,J,K){let U;try{U=await n.lstat(J)}catch{}if(U&&U.isSymbolicLink()){const[G,Q]=await Promise.all([n.stat(H),n.stat(J)]);if(tH(G,Q))return}const V=await MK(H,J);H=V.toDst;const z=await CK(V.toCwd,K),X=eH.dirname(J);if(!await NK(X))await EK(X);return n.symlink(H,J,z)}var PK=function(H,J,K){let U;try{U=n.lstatSync(J)}catch{}if(U&&U.isSymbolicLink()){const G=n.statSync(H),Q=n.statSync(J);if(tH(G,Q))return}const V=WK(H,J);H=V.toDst,K=RK(V.toCwd,K);const z=eH.dirname(J);if(n.existsSync(z))return n.symlinkSync(H,J,K);return QK(z),n.symlinkSync(H,J,K)},_K=$().fromPromise,eH=import.meta.require("path"),n=u(),{mkdirs:EK,mkdirsSync:QK}=l(),{symlinkPaths:MK,symlinkPathsSync:WK}=cH(),{symlinkType:CK,symlinkTypeSync:RK}=rH(),{pathExists:NK}=d(),{areIdentical:tH}=e();sH.exports={createSymlink:_K(TK),createSymlinkSync:PK}});var GJ=L((gU,ZJ)=>{var{createFile:JJ,createFileSync:KJ}=mH(),{createLink:UJ,createLinkSync:VJ}=iH(),{createSymlink:zJ,createSymlinkSync:XJ}=HJ();ZJ.exports={createFile:JJ,createFileSync:KJ,ensureFile:JJ,ensureFileSync:KJ,createLink:UJ,createLinkSync:VJ,ensureLink:UJ,ensureLinkSync:VJ,createSymlink:zJ,createSymlinkSync:XJ,ensureSymlink:zJ,ensureSymlinkSync:XJ}});var M0=L((uU,YJ)=>{var wK=function(H,{EOL:J="\n",finalEOL:K=!0,replacer:U=null,spaces:V}={}){const z=K?J:"";return JSON.stringify(H,U,V).replace(/\n/g,J)+z},DK=function(H){if(Buffer.isBuffer(H))H=H.toString("utf8");return H.replace(/^\uFEFF/,"")};YJ.exports={stringify:wK,stripBom:DK}});var BJ=L((SU,OJ)=>{async function $K(H,J={}){if(typeof J==="string")J={encoding:J};const K=J.fs||K0,U="throws"in J?J.throws:!0;let V=await W0.fromCallback(K.readFile)(H,J);V=qJ(V);let z;try{z=JSON.parse(V,J?J.reviver:null)}catch(X){if(U)throw X.message=`${H}: ${X.message}`,X;else return null}return z}var jK=function(H,J={}){if(typeof J==="string")J={encoding:J};const K=J.fs||K0,U="throws"in J?J.throws:!0;try{let V=K.readFileSync(H,J);return V=qJ(V),JSON.parse(V,J.reviver)}catch(V){if(U)throw V.message=`${H}: ${V.message}`,V;else return null}};async function FK(H,J,K={}){const U=K.fs||K0,V=AJ(J,K);await W0.fromCallback(U.writeFile)(H,V,K)}var vK=function(H,J,K={}){const U=K.fs||K0,V=AJ(J,K);return U.writeFileSync(H,V,K)},K0;try{K0=s()}catch(H){K0=import.meta.require("fs")}var W0=$(),{stringify:AJ,stripBom:qJ}=M0(),xK=W0.fromPromise($K),kK=W0.fromPromise(FK),yK={readFile:xK,readFileSync:jK,writeFile:kK,writeFileSync:vK};OJ.exports=yK});var IJ=L((hU,LJ)=>{var C0=BJ();LJ.exports={readJson:C0.readFile,readJsonSync:C0.readFileSync,writeJson:C0.writeFile,writeJsonSync:C0.writeFileSync}});var R0=L((mU,QJ)=>{async function uK(H,J,K="utf-8"){const U=_J.dirname(H);if(!await gK(U))await EJ.mkdirs(U);return S0.writeFile(H,J,K)}var SK=function(H,...J){const K=_J.dirname(H);if(!S0.existsSync(K))EJ.mkdirsSync(K);S0.writeFileSync(H,...J)},bK=$().fromPromise,S0=u(),_J=import.meta.require("path"),EJ=l(),gK=d().pathExists;QJ.exports={outputFile:bK(uK),outputFileSync:SK}});var WJ=L((lU,MJ)=>{async function lK(H,J,K={}){const U=hK(J,K);await mK(H,U,K)}var{stringify:hK}=M0(),{outputFile:mK}=R0();MJ.exports=lK});var RJ=L((nU,CJ)=>{var fK=function(H,J,K){const U=nK(J,K);pK(H,U,K)},{stringify:nK}=M0(),{outputFileSync:pK}=R0();CJ.exports=fK});var TJ=L((pU,NJ)=>{var iK=$().fromPromise,h=IJ();h.outputJson=iK(WJ());h.outputJsonSync=RJ();h.outputJSON=h.outputJson;h.outputJSONSync=h.outputJsonSync;h.writeJSON=h.writeJson;h.writeJSONSync=h.writeJsonSync;h.readJSON=h.readJson;h.readJSONSync=h.readJsonSync;NJ.exports=h});var xJ=L((fU,$J)=>{async function rK(H,J,K={}){const U=K.overwrite||K.clobber||!1,{srcStat:V,isChangingCase:z=!1}=await wJ.checkPaths(H,J,"move",K);await wJ.checkParentPaths(H,V,J,"move");const X=PJ.dirname(J);if(PJ.parse(X).root!==X)await oK(X);return eK(H,J,U,z)}async function eK(H,J,K,U){if(!U){if(K)await DJ(J);else if(await aK(J))throw new Error("dest already exists.")}try{await dK.rename(H,J)}catch(V){if(V.code!=="EXDEV")throw V;await tK(H,J,K)}}async function tK(H,J,K){return await cK(H,J,{overwrite:K,errorOnExist:!0,preserveTimestamps:!0}),DJ(H)}var dK=u(),PJ=import.meta.require("path"),{copy:cK}=Q0(),{remove:DJ}=A0(),{mkdirp:oK}=l(),{pathExists:aK}=d(),wJ=e();$J.exports=rK});var yJ=L((iU,vJ)=>{var JU=function(H,J,K){K=K||{};const U=K.overwrite||K.clobber||!1,{srcStat:V,isChangingCase:z=!1}=jJ.checkPathsSync(H,J,"move",K);if(jJ.checkParentPathsSync(H,V,J,"move"),!KU(J))HU(m0.dirname(J));return UU(H,J,U,z)},KU=function(H){const J=m0.dirname(H);return m0.parse(J).root===J},UU=function(H,J,K,U){if(U)return h0(H,J,K);if(K)return kJ(J),h0(H,J,K);if(FJ.existsSync(J))throw new Error("dest already exists.");return h0(H,J,K)},h0=function(H,J,K){try{FJ.renameSync(H,J)}catch(U){if(U.code!=="EXDEV")throw U;return VU(H,J,K)}},VU=function(H,J,K){return sK(H,J,{overwrite:K,errorOnExist:!0,preserveTimestamps:!0}),kJ(H)},FJ=s(),m0=import.meta.require("path"),sK=Q0().copySync,kJ=A0().removeSync,HU=l().mkdirpSync,jJ=e();vJ.exports=JU});var gJ=L((dU,bJ)=>{var zU=$().fromPromise;bJ.exports={move:zU(xJ()),moveSync:yJ()}});var SJ=L((cU,uJ)=>{uJ.exports={...u(),...Q0(),...gH(),...GJ(),...TJ(),...l(),...gJ(),...R0(),...d(),...A0()}});var O0=iJ(SJ(),1);import U0 from"path";var XU=function(H){return H&&typeof H.status==="number"};function ZU(H){return H!==void 0&&H!==null}async function N0(H,J=[]){try{const K=Bun.spawnSync([H,...J.filter(ZU)],{stdio:["inherit","ignore","inherit"],env:process.env});if(K.exitCode!==0){if(!N0.silent)console.error(`Error: ${H} ${J.join(" ")} failed with code: ${K.exitCode}`),console.error(new Error().stack);return!1}}catch(K){if(!N0.silent){if(XU(K))console.error(`Error: ${H} ${J.join(" ")} failed with code: ${K.status}`);else if(K instanceof Error)console.error(K.message);console.error(new Error().stack)}return!1}return!0}N0.silent=!0;var a=N0;import{URL as AU} from"url";var GU=function(H){return H&&typeof H.status==="number"};function YU(H){return H!==void 0&&H!==null}async function T0(H,J=[]){try{T0.lastError="";const K=Bun.spawnSync([H,...J.filter(YU)],{stdio:["inherit","pipe","pipe"],env:process.env});if(K.exitCode!==0)return console.error(`Error: ${H} ${J.join(" ")} failed with code: ${K.exitCode}`),console.error(new Error().stack),null;return(K.stdout||"").toString()}catch(K){if(GU(K))console.error(`Error: ${H} ${J.join(" ")} failed with code: ${K.status}`);else if(K instanceof Error)T0.lastError=K.message,console.error(K.message);return console.error(new Error().stack),null}}T0.lastError="";var P0=T0;var hJ=function(H){return H?.charAt},f=function(...H){O0.default.appendFileSync(qU,`\n${H.join(" ")}`,{encoding:"utf-8"}),console.warn(...H)};async function OU(){const J=O0.default.readJsonSync(U0.resolve("package.json")).fallbackDependencies,K=await a("bun",["-v"]),U=!K?await a("yarn",["-v"]):!1,V=!K&&!U?await a("npm",["-v"]):!1;if(!K&&!V&&!U){f("No appropriate package manager detected for executing fallbackDependencies. Please ensure yarn, bun, or npm is available.");return}if(!O0.default.existsSync(U0.resolve("bunfig.toml")))O0.default.copySync(U0.join(l0,"bunfig.toml"),U0.resolve("bunfig.toml"));const z=async(X)=>{if(hJ(X))X=[X];if(K){const G=Boolean(await P0("bun",["add","--no-save","--ignore-scripts",...X]));if(P0.lastError.includes("no commit matching")&&P0.lastError.includes("but repository exists"))return await a("bun",["pm","cache","rm"]),await a("bun",["add","--no-save","--ignore-scripts",...X]);return G}else if(U)return await a("yarn",["add","--no-save","--ignore-scripts",...X]);else if(V)return await a("npm",["install","--no-save","--ignore-scripts",...X])};f("POST INSTALL: fallback-dependencies"),f("Fallbacks:"),f(JSON.stringify(J,null,2));for(let[X,G]of Object.entries(J)){if(f("Installing dependencies with fallbacks for:",X),!Array.isArray(G)){f("Invalid fallbacks for:",X,"Expected an array but got:",JSON.stringify(G));continue}let Q=!1;for(let w of G){if(!hJ(w)){f("Invalid repo for:",X,"Expected a string but got:",w);continue}if(await z(w)){f("Installed:",w),Q=!0;break}}if(!Q)f("No fallback dependency worked for:",X)}}var l0=new AU(".",import.meta.url).pathname,qU=U0.resolve(l0,"post-install.log"),HV=U0.resolve(l0,".cache.json");OU();
