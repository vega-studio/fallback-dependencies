#!/usr/bin/env bun
// @bun
var S6=Object.create;var{defineProperty:n0,getPrototypeOf:h6,getOwnPropertyNames:m6}=Object;var l6=Object.prototype.hasOwnProperty;var n6=(J,K,U)=>{U=J!=null?S6(h6(J)):{};const V=K||!J||!J.__esModule?n0(U,"default",{value:J,enumerable:!0}):U;for(let z of m6(J))if(!l6.call(V,z))n0(V,z,{get:()=>J[z],enumerable:!0});return V};var Q=(J,K)=>()=>(K||J((K={exports:{}}).exports,K),K.exports);var $=Q((p6)=>{p6.fromCallback=function(J){return Object.defineProperty(function(...K){if(typeof K[K.length-1]==="function")J.apply(this,K);else return new Promise((U,V)=>{K.push((z,H)=>z!=null?V(z):U(H)),J.apply(this,K)})},"name",{value:J.name})};p6.fromPromise=function(J){return Object.defineProperty(function(...K){const U=K[K.length-1];if(typeof U!=="function")return J.apply(this,K);else K.pop(),J.apply(this,K).then((V)=>U(null,V),U)},"name",{value:J.name})}});var f0=Q((OV,p0)=>{var o6=function(J){if(f.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./))K(J);if(!J.lutimes)U(J);if(J.chown=H(J.chown),J.fchown=H(J.fchown),J.lchown=H(J.lchown),J.chmod=V(J.chmod),J.fchmod=V(J.fchmod),J.lchmod=V(J.lchmod),J.chownSync=X(J.chownSync),J.fchownSync=X(J.fchownSync),J.lchownSync=X(J.lchownSync),J.chmodSync=z(J.chmodSync),J.fchmodSync=z(J.fchmodSync),J.lchmodSync=z(J.lchmodSync),J.stat=Y(J.stat),J.fstat=Y(J.fstat),J.lstat=Y(J.lstat),J.statSync=L(J.statSync),J.fstatSync=L(J.fstatSync),J.lstatSync=L(J.lstatSync),J.chmod&&!J.lchmod)J.lchmod=function(Z,q,O){if(O)process.nextTick(O)},J.lchmodSync=function(){};if(J.chown&&!J.lchown)J.lchown=function(Z,q,O,G){if(G)process.nextTick(G)},J.lchownSync=function(){};if(c6==="win32")J.rename=typeof J.rename!=="function"?J.rename:function(Z){function q(O,G,B){var W=Date.now(),I=0;Z(O,G,function N(m){if(m&&(m.code==="EACCES"||m.code==="EPERM"||m.code==="EBUSY")&&Date.now()-W<60000){if(setTimeout(function(){J.stat(G,function(b,z0){if(b&&b.code==="ENOENT")Z(O,G,N);else B(m)})},I),I<100)I+=10;return}if(B)B(m)})}if(Object.setPrototypeOf)Object.setPrototypeOf(q,Z);return q}(J.rename);J.read=typeof J.read!=="function"?J.read:function(Z){function q(O,G,B,W,I,N){var m;if(N&&typeof N==="function"){var b=0;m=function(z0,m0,l0){if(z0&&z0.code==="EAGAIN"&&b<10)return b++,Z.call(J,O,G,B,W,I,m);N.apply(this,arguments)}}return Z.call(J,O,G,B,W,I,m)}if(Object.setPrototypeOf)Object.setPrototypeOf(q,Z);return q}(J.read),J.readSync=typeof J.readSync!=="function"?J.readSync:function(Z){return function(q,O,G,B,W){var I=0;while(!0)try{return Z.call(J,q,O,G,B,W)}catch(N){if(N.code==="EAGAIN"&&I<10){I++;continue}throw N}}}(J.readSync);function K(Z){Z.lchmod=function(q,O,G){Z.open(q,f.O_WRONLY|f.O_SYMLINK,O,function(B,W){if(B){if(G)G(B);return}Z.fchmod(W,O,function(I){Z.close(W,function(N){if(G)G(I||N)})})})},Z.lchmodSync=function(q,O){var G=Z.openSync(q,f.O_WRONLY|f.O_SYMLINK,O),B=!0,W;try{W=Z.fchmodSync(G,O),B=!1}finally{if(B)try{Z.closeSync(G)}catch(I){}else Z.closeSync(G)}return W}}function U(Z){if(f.hasOwnProperty("O_SYMLINK")&&Z.futimes)Z.lutimes=function(q,O,G,B){Z.open(q,f.O_SYMLINK,function(W,I){if(W){if(B)B(W);return}Z.futimes(I,O,G,function(N){Z.close(I,function(m){if(B)B(N||m)})})})},Z.lutimesSync=function(q,O,G){var B=Z.openSync(q,f.O_SYMLINK),W,I=!0;try{W=Z.futimesSync(B,O,G),I=!1}finally{if(I)try{Z.closeSync(B)}catch(N){}else Z.closeSync(B)}return W};else if(Z.futimes)Z.lutimes=function(q,O,G,B){if(B)process.nextTick(B)},Z.lutimesSync=function(){}}function V(Z){if(!Z)return Z;return function(q,O,G){return Z.call(J,q,O,function(B){if(w(B))B=null;if(G)G.apply(this,arguments)})}}function z(Z){if(!Z)return Z;return function(q,O){try{return Z.call(J,q,O)}catch(G){if(!w(G))throw G}}}function H(Z){if(!Z)return Z;return function(q,O,G,B){return Z.call(J,q,O,G,function(W){if(w(W))W=null;if(B)B.apply(this,arguments)})}}function X(Z){if(!Z)return Z;return function(q,O,G){try{return Z.call(J,q,O,G)}catch(B){if(!w(B))throw B}}}function Y(Z){if(!Z)return Z;return function(q,O,G){if(typeof O==="function")G=O,O=null;function B(W,I){if(I){if(I.uid<0)I.uid+=4294967296;if(I.gid<0)I.gid+=4294967296}if(G)G.apply(this,arguments)}return O?Z.call(J,q,O,B):Z.call(J,q,B)}}function L(Z){if(!Z)return Z;return function(q,O){var G=O?Z.call(J,q,O):Z.call(J,q);if(G){if(G.uid<0)G.uid+=4294967296;if(G.gid<0)G.gid+=4294967296}return G}}function w(Z){if(!Z)return!0;if(Z.code==="ENOSYS")return!0;var q=!process.getuid||process.getuid()!==0;if(q){if(Z.code==="EINVAL"||Z.code==="EPERM")return!0}return!1}},f=import.meta.require("constants"),d6=process.cwd,O0=null,c6=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){if(!O0)O0=d6.call(process);return O0};try{process.cwd()}catch(J){}if(typeof process.chdir==="function"){if(T0=process.chdir,process.chdir=function(J){O0=null,T0.call(process,J)},Object.setPrototypeOf)Object.setPrototypeOf(process.chdir,T0)}var T0;p0.exports=o6});var c0=Q((BV,d0)=>{var a6=function(J){return{ReadStream:K,WriteStream:U};function K(V,z){if(!(this instanceof K))return new K(V,z);i0.call(this);var H=this;this.path=V,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,z=z||{};var X=Object.keys(z);for(var Y=0,L=X.length;Y<L;Y++){var w=X[Y];this[w]=z[w]}if(this.encoding)this.setEncoding(this.encoding);if(this.start!==void 0){if(typeof this.start!=="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=Infinity;else if(typeof this.end!=="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){H._read()});return}J.open(this.path,this.flags,this.mode,function(Z,q){if(Z){H.emit("error",Z),H.readable=!1;return}H.fd=q,H.emit("open",q),H._read()})}function U(V,z){if(!(this instanceof U))return new U(V,z);i0.call(this),this.path=V,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,z=z||{};var H=Object.keys(z);for(var X=0,Y=H.length;X<Y;X++){var L=H[X];this[L]=z[L]}if(this.start!==void 0){if(typeof this.start!=="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}if(this.busy=!1,this._queue=[],this.fd===null)this._open=J.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush()}},i0=import.meta.require("stream").Stream;d0.exports=a6});var a0=Q((LV,o0)=>{var e6=function(J){if(J===null||typeof J!=="object")return J;if(J instanceof Object)var K={__proto__:r6(J)};else var K=Object.create(null);return Object.getOwnPropertyNames(J).forEach(function(U){Object.defineProperty(K,U,Object.getOwnPropertyDescriptor(J,U))}),K};o0.exports=e6;var r6=Object.getPrototypeOf||function(J){return J.__proto__}});var s=Q((QV,D0)=>{var KK=function(){},t0=function(J,K){Object.defineProperty(J,v,{get:function(){return K}})},P0=function(J){t6(J),J.gracefulify=P0,J.createReadStream=m0,J.createWriteStream=l0;var K=J.readFile;J.readFile=U;function U(A,E,_){if(typeof E==="function")_=E,E=null;return j(A,E,_);function j(F,D,C,P){return K(F,D,function(R){if(R&&(R.code==="EMFILE"||R.code==="ENFILE"))t([j,[F,D,C],R,P||Date.now(),Date.now()]);else if(typeof C==="function")C.apply(this,arguments)})}}var V=J.writeFile;J.writeFile=z;function z(A,E,_,j){if(typeof _==="function")j=_,_=null;return F(A,E,_,j);function F(D,C,P,R,k){return V(D,C,P,function(M){if(M&&(M.code==="EMFILE"||M.code==="ENFILE"))t([F,[D,C,P,R],M,k||Date.now(),Date.now()]);else if(typeof R==="function")R.apply(this,arguments)})}}var H=J.appendFile;if(H)J.appendFile=X;function X(A,E,_,j){if(typeof _==="function")j=_,_=null;return F(A,E,_,j);function F(D,C,P,R,k){return H(D,C,P,function(M){if(M&&(M.code==="EMFILE"||M.code==="ENFILE"))t([F,[D,C,P,R],M,k||Date.now(),Date.now()]);else if(typeof R==="function")R.apply(this,arguments)})}}var Y=J.copyFile;if(Y)J.copyFile=L;function L(A,E,_,j){if(typeof _==="function")j=_,_=0;return F(A,E,_,j);function F(D,C,P,R,k){return Y(D,C,P,function(M){if(M&&(M.code==="EMFILE"||M.code==="ENFILE"))t([F,[D,C,P,R],M,k||Date.now(),Date.now()]);else if(typeof R==="function")R.apply(this,arguments)})}}var w=J.readdir;J.readdir=q;var Z=/^v[0-5]\./;function q(A,E,_){if(typeof E==="function")_=E,E=null;var j=Z.test(process.version)?function D(C,P,R,k){return w(C,F(C,P,R,k))}:function D(C,P,R,k){return w(C,P,F(C,P,R,k))};return j(A,E,_);function F(D,C,P,R){return function(k,M){if(k&&(k.code==="EMFILE"||k.code==="ENFILE"))t([j,[D,C,P],k,R||Date.now(),Date.now()]);else{if(M&&M.sort)M.sort();if(typeof P==="function")P.call(this,k,M)}}}}if(process.version.substr(0,4)==="v0.8"){var O=s6(J);N=O.ReadStream,b=O.WriteStream}var G=J.ReadStream;if(G)N.prototype=Object.create(G.prototype),N.prototype.open=m;var B=J.WriteStream;if(B)b.prototype=Object.create(B.prototype),b.prototype.open=z0;Object.defineProperty(J,"ReadStream",{get:function(){return N},set:function(A){N=A},enumerable:!0,configurable:!0}),Object.defineProperty(J,"WriteStream",{get:function(){return b},set:function(A){b=A},enumerable:!0,configurable:!0});var W=N;Object.defineProperty(J,"FileReadStream",{get:function(){return W},set:function(A){W=A},enumerable:!0,configurable:!0});var I=b;Object.defineProperty(J,"FileWriteStream",{get:function(){return I},set:function(A){I=A},enumerable:!0,configurable:!0});function N(A,E){if(this instanceof N)return G.apply(this,arguments),this;else return N.apply(Object.create(N.prototype),arguments)}function m(){var A=this;C0(A.path,A.flags,A.mode,function(E,_){if(E){if(A.autoClose)A.destroy();A.emit("error",E)}else A.fd=_,A.emit("open",_),A.read()})}function b(A,E){if(this instanceof b)return B.apply(this,arguments),this;else return b.apply(Object.create(b.prototype),arguments)}function z0(){var A=this;C0(A.path,A.flags,A.mode,function(E,_){if(E)A.destroy(),A.emit("error",E);else A.fd=_,A.emit("open",_)})}function m0(A,E){return new J.ReadStream(A,E)}function l0(A,E){return new J.WriteStream(A,E)}var u6=J.open;J.open=C0;function C0(A,E,_,j){if(typeof _==="function")j=_,_=null;return F(A,E,_,j);function F(D,C,P,R,k){return u6(D,C,P,function(M,YV){if(M&&(M.code==="EMFILE"||M.code==="ENFILE"))t([F,[D,C,P,R],M,k||Date.now(),Date.now()]);else if(typeof R==="function")R.apply(this,arguments)})}}return J},t=function(J){r("ENQUEUE",J[0].name,J[1]),T[v].push(J),w0()},e0=function(){var J=Date.now();for(var K=0;K<T[v].length;++K)if(T[v][K].length>2)T[v][K][3]=J,T[v][K][4]=J;w0()},w0=function(){if(clearTimeout(L0),L0=void 0,T[v].length===0)return;var J=T[v].shift(),K=J[0],U=J[1],V=J[2],z=J[3],H=J[4];if(z===void 0)r("RETRY",K.name,U),K.apply(null,U);else if(Date.now()-z>=60000){r("TIMEOUT",K.name,U);var X=U.pop();if(typeof X==="function")X.call(null,V)}else{var Y=Date.now()-H,L=Math.max(H-z,1),w=Math.min(L*1.2,100);if(Y>=w)r("RETRY",K.name,U),K.apply(null,U.concat([z]));else T[v].push(J)}if(L0===void 0)L0=setTimeout(w0,0)},T=import.meta.require("fs"),t6=f0(),s6=c0(),JK=a0(),B0=import.meta.require("util"),v,Q0;if(typeof Symbol==="function"&&typeof Symbol.for==="function")v=Symbol.for("graceful-fs.queue"),Q0=Symbol.for("graceful-fs.previous");else v="___graceful-fs.queue",Q0="___graceful-fs.previous";var r=KK;if(B0.debuglog)r=B0.debuglog("gfs4");else if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))r=function(){var J=B0.format.apply(B0,arguments);J="GFS4: "+J.split(/\n/).join("\nGFS4: "),console.error(J)};if(!T[v]){if(r0=global[v]||[],t0(T,r0),T.close=function(J){function K(U,V){return J.call(T,U,function(z){if(!z)e0();if(typeof V==="function")V.apply(this,arguments)})}return Object.defineProperty(K,Q0,{value:J}),K}(T.close),T.closeSync=function(J){function K(U){J.apply(T,arguments),e0()}return Object.defineProperty(K,Q0,{value:J}),K}(T.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))process.on("exit",function(){r(T[v]),import.meta.require("assert").equal(T[v].length,0)})}var r0;if(!global[v])t0(global,T[v]);D0.exports=P0(JK(T));if(process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!T.__patched)D0.exports=P0(T),T.__patched=!0;var L0});var u=Q(($0)=>{var s0=$().fromCallback,g=s(),UK=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((J)=>{return typeof g[J]==="function"});Object.assign($0,g);UK.forEach((J)=>{$0[J]=s0(g[J])});$0.exists=function(J,K){if(typeof K==="function")return g.exists(J,K);return new Promise((U)=>{return g.exists(J,U)})};$0.read=function(J,K,U,V,z,H){if(typeof H==="function")return g.read(J,K,U,V,z,H);return new Promise((X,Y)=>{g.read(J,K,U,V,z,(L,w,Z)=>{if(L)return Y(L);X({bytesRead:w,buffer:Z})})})};$0.write=function(J,K,...U){if(typeof U[U.length-1]==="function")return g.write(J,K,...U);return new Promise((V,z)=>{g.write(J,K,...U,(H,X,Y)=>{if(H)return z(H);V({bytesWritten:X,buffer:Y})})})};$0.readv=function(J,K,...U){if(typeof U[U.length-1]==="function")return g.readv(J,K,...U);return new Promise((V,z)=>{g.readv(J,K,...U,(H,X,Y)=>{if(H)return z(H);V({bytesRead:X,buffers:Y})})})};$0.writev=function(J,K,...U){if(typeof U[U.length-1]==="function")return g.writev(J,K,...U);return new Promise((V,z)=>{g.writev(J,K,...U,(H,X,Y)=>{if(H)return z(H);V({bytesWritten:X,buffers:Y})})})};if(typeof g.realpath.native==="function")$0.realpath.native=s0(g.realpath.native);else process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var KJ=Q((YK,JJ)=>{var GK=import.meta.require("path");YK.checkPath=function J(K){if(process.platform==="win32"){if(/[<>:"|?*]/.test(K.replace(GK.parse(K).root,""))){const V=new Error(`Path contains invalid characters: ${K}`);throw V.code="EINVAL",V}}}});var HJ=Q((AK,x0)=>{var UJ=u(),{checkPath:VJ}=KJ(),zJ=(J)=>{const K={mode:511};if(typeof J==="number")return J;return{...K,...J}.mode};AK.makeDir=async(J,K)=>{return VJ(J),UJ.mkdir(J,{mode:zJ(K),recursive:!0})};AK.makeDirSync=(J,K)=>{return VJ(J),UJ.mkdirSync(J,{mode:zJ(K),recursive:!0})}});var l=Q((IV,XJ)=>{var LK=$().fromPromise,{makeDir:QK,makeDirSync:j0}=HJ(),F0=LK(QK);XJ.exports={mkdirs:F0,mkdirsSync:j0,mkdirp:F0,mkdirpSync:j0,ensureDir:F0,ensureDirSync:j0}});var i=Q((RV,GJ)=>{var EK=function(J){return ZJ.access(J).then(()=>!0).catch(()=>!1)},_K=$().fromPromise,ZJ=u();GJ.exports={pathExists:_K(EK),pathExistsSync:ZJ.existsSync}});var k0=Q((WV,YJ)=>{async function RK(J,K,U){const V=await J0.open(J,"r+");let z=null;try{await J0.futimes(V,K,U)}finally{try{await J0.close(V)}catch(H){z=H}}if(z)throw z}var WK=function(J,K,U){const V=J0.openSync(J,"r+");return J0.futimesSync(V,K,U),J0.closeSync(V)},J0=u(),IK=$().fromPromise;YJ.exports={utimesMillis:IK(RK),utimesMillisSync:WK}});var e=Q((MV,BJ)=>{var MK=function(J,K,U){const V=U.dereference?(z)=>K0.stat(z,{bigint:!0}):(z)=>K0.lstat(z,{bigint:!0});return Promise.all([V(J),V(K).catch((z)=>{if(z.code==="ENOENT")return null;throw z})]).then(([z,H])=>({srcStat:z,destStat:H}))},NK=function(J,K,U){let V;const z=U.dereference?(X)=>K0.statSync(X,{bigint:!0}):(X)=>K0.lstatSync(X,{bigint:!0}),H=z(J);try{V=z(K)}catch(X){if(X.code==="ENOENT")return{srcStat:H,destStat:null};throw X}return{srcStat:H,destStat:V}};async function CK(J,K,U,V){const{srcStat:z,destStat:H}=await MK(J,K,V);if(H){if(H0(z,H)){const X=x.basename(J),Y=x.basename(K);if(U==="move"&&X!==Y&&X.toLowerCase()===Y.toLowerCase())return{srcStat:z,destStat:H,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(z.isDirectory()&&!H.isDirectory())throw new Error(`Cannot overwrite non-directory '${K}' with directory '${J}'.`);if(!z.isDirectory()&&H.isDirectory())throw new Error(`Cannot overwrite directory '${K}' with non-directory '${J}'.`)}if(z.isDirectory()&&v0(J,K))throw new Error(_0(J,K,U));return{srcStat:z,destStat:H}}var TK=function(J,K,U,V){const{srcStat:z,destStat:H}=NK(J,K,V);if(H){if(H0(z,H)){const X=x.basename(J),Y=x.basename(K);if(U==="move"&&X!==Y&&X.toLowerCase()===Y.toLowerCase())return{srcStat:z,destStat:H,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(z.isDirectory()&&!H.isDirectory())throw new Error(`Cannot overwrite non-directory '${K}' with directory '${J}'.`);if(!z.isDirectory()&&H.isDirectory())throw new Error(`Cannot overwrite directory '${K}' with non-directory '${J}'.`)}if(z.isDirectory()&&v0(J,K))throw new Error(_0(J,K,U));return{srcStat:z,destStat:H}};async function AJ(J,K,U,V){const z=x.resolve(x.dirname(J)),H=x.resolve(x.dirname(U));if(H===z||H===x.parse(H).root)return;let X;try{X=await K0.stat(H,{bigint:!0})}catch(Y){if(Y.code==="ENOENT")return;throw Y}if(H0(K,X))throw new Error(_0(J,U,V));return AJ(J,K,H,V)}var OJ=function(J,K,U,V){const z=x.resolve(x.dirname(J)),H=x.resolve(x.dirname(U));if(H===z||H===x.parse(H).root)return;let X;try{X=K0.statSync(H,{bigint:!0})}catch(Y){if(Y.code==="ENOENT")return;throw Y}if(H0(K,X))throw new Error(_0(J,U,V));return OJ(J,K,H,V)},H0=function(J,K){return K.ino&&K.dev&&K.ino===J.ino&&K.dev===J.dev},v0=function(J,K){const U=x.resolve(J).split(x.sep).filter((z)=>z),V=x.resolve(K).split(x.sep).filter((z)=>z);return U.every((z,H)=>V[H]===z)},_0=function(J,K,U){return`Cannot ${U} '${J}' to a subdirectory of itself, '${K}'.`},K0=u(),x=import.meta.require("path"),qJ=$().fromPromise;BJ.exports={checkPaths:qJ(CK),checkPathsSync:TK,checkParentPaths:qJ(AJ),checkParentPathsSync:OJ,isSrcSubdir:v0,areIdentical:H0}});var IJ=Q((NV,EJ)=>{async function $K(J,K,U={}){if(typeof U==="function")U={filter:U};if(U.clobber="clobber"in U?!!U.clobber:!0,U.overwrite="overwrite"in U?!!U.overwrite:U.clobber,U.preserveTimestamps&&process.arch==="ia32")process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:V,destStat:z}=await Z0.checkPaths(J,K,"copy",U);if(await Z0.checkParentPaths(J,V,K,"copy"),!await QJ(J,K,U))return;const X=X0.dirname(K);if(!await wK(X))await PK(X);await _J(z,J,K,U)}async function QJ(J,K,U){if(!U.filter)return!0;return U.filter(J,K)}async function _J(J,K,U,V){const H=await(V.dereference?y.stat:y.lstat)(K);if(H.isDirectory())return kK(H,J,K,U,V);if(H.isFile()||H.isCharacterDevice()||H.isBlockDevice())return xK(H,J,K,U,V);if(H.isSymbolicLink())return vK(J,K,U,V);if(H.isSocket())throw new Error(`Cannot copy a socket file: ${K}`);if(H.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${K}`);throw new Error(`Unknown file: ${K}`)}async function xK(J,K,U,V,z){if(!K)return LJ(J,U,V,z);if(z.overwrite)return await y.unlink(V),LJ(J,U,V,z);if(z.errorOnExist)throw new Error(`'${V}' already exists`)}async function LJ(J,K,U,V){if(await y.copyFile(K,U),V.preserveTimestamps){if(jK(J.mode))await FK(U,J.mode);const z=await y.stat(K);await DK(U,z.atime,z.mtime)}return y.chmod(U,J.mode)}var jK=function(J){return(J&128)===0},FK=function(J,K){return y.chmod(J,K|128)};async function kK(J,K,U,V,z){if(!K)await y.mkdir(V);const H=await y.readdir(U);if(await Promise.all(H.map(async(X)=>{const Y=X0.join(U,X),L=X0.join(V,X);if(!await QJ(Y,L,z))return;const{destStat:Z}=await Z0.checkPaths(Y,L,"copy",z);return _J(Z,Y,L,z)})),!K)await y.chmod(V,J.mode)}async function vK(J,K,U,V){let z=await y.readlink(K);if(V.dereference)z=X0.resolve(process.cwd(),z);if(!J)return y.symlink(z,U);let H=null;try{H=await y.readlink(U)}catch(X){if(X.code==="EINVAL"||X.code==="UNKNOWN")return y.symlink(z,U);throw X}if(V.dereference)H=X0.resolve(process.cwd(),H);if(Z0.isSrcSubdir(z,H))throw new Error(`Cannot copy '${z}' to a subdirectory of itself, '${H}'.`);if(Z0.isSrcSubdir(H,z))throw new Error(`Cannot overwrite '${H}' with '${z}'.`);return await y.unlink(U),y.symlink(z,U)}var y=u(),X0=import.meta.require("path"),{mkdirs:PK}=l(),{pathExists:wK}=i(),{utimesMillis:DK}=k0(),Z0=e();EJ.exports=$K});var CJ=Q((CV,NJ)=>{var gK=function(J,K,U){if(typeof U==="function")U={filter:U};if(U=U||{},U.clobber="clobber"in U?!!U.clobber:!0,U.overwrite="overwrite"in U?!!U.overwrite:U.clobber,U.preserveTimestamps&&process.arch==="ia32")process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:V,destStat:z}=Y0.checkPathsSync(J,K,"copy",U);if(Y0.checkParentPathsSync(J,V,K,"copy"),U.filter&&!U.filter(J,K))return;const H=G0.dirname(K);if(!S.existsSync(H))yK(H);return RJ(z,J,K,U)},RJ=function(J,K,U,V){const H=(V.dereference?S.statSync:S.lstatSync)(K);if(H.isDirectory())return pK(H,J,K,U,V);else if(H.isFile()||H.isCharacterDevice()||H.isBlockDevice())return uK(H,J,K,U,V);else if(H.isSymbolicLink())return dK(J,K,U,V);else if(H.isSocket())throw new Error(`Cannot copy a socket file: ${K}`);else if(H.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${K}`);throw new Error(`Unknown file: ${K}`)},uK=function(J,K,U,V,z){if(!K)return WJ(J,U,V,z);return SK(J,U,V,z)},SK=function(J,K,U,V){if(V.overwrite)return S.unlinkSync(U),WJ(J,K,U,V);else if(V.errorOnExist)throw new Error(`'${U}' already exists`)},WJ=function(J,K,U,V){if(S.copyFileSync(K,U),V.preserveTimestamps)hK(J.mode,K,U);return y0(U,J.mode)},hK=function(J,K,U){if(mK(J))lK(U,J);return nK(K,U)},mK=function(J){return(J&128)===0},lK=function(J,K){return y0(J,K|128)},y0=function(J,K){return S.chmodSync(J,K)},nK=function(J,K){const U=S.statSync(J);return bK(K,U.atime,U.mtime)},pK=function(J,K,U,V,z){if(!K)return fK(J.mode,U,V,z);return MJ(U,V,z)},fK=function(J,K,U,V){return S.mkdirSync(U),MJ(K,U,V),y0(U,J)},MJ=function(J,K,U){S.readdirSync(J).forEach((V)=>iK(V,J,K,U))},iK=function(J,K,U,V){const z=G0.join(K,J),H=G0.join(U,J);if(V.filter&&!V.filter(z,H))return;const{destStat:X}=Y0.checkPathsSync(z,H,"copy",V);return RJ(X,z,H,V)},dK=function(J,K,U,V){let z=S.readlinkSync(K);if(V.dereference)z=G0.resolve(process.cwd(),z);if(!J)return S.symlinkSync(z,U);else{let H;try{H=S.readlinkSync(U)}catch(X){if(X.code==="EINVAL"||X.code==="UNKNOWN")return S.symlinkSync(z,U);throw X}if(V.dereference)H=G0.resolve(process.cwd(),H);if(Y0.isSrcSubdir(z,H))throw new Error(`Cannot copy '${z}' to a subdirectory of itself, '${H}'.`);if(Y0.isSrcSubdir(H,z))throw new Error(`Cannot overwrite '${H}' with '${z}'.`);return cK(z,U)}},cK=function(J,K){return S.unlinkSync(K),S.symlinkSync(J,K)},S=s(),G0=import.meta.require("path"),yK=l().mkdirsSync,bK=k0().utimesMillisSync,Y0=e();NJ.exports=gK});var E0=Q((TV,TJ)=>{var oK=$().fromPromise;TJ.exports={copy:oK(IJ()),copySync:CJ()}});var q0=Q((PV,wJ)=>{var rK=function(J,K){PJ.rm(J,{recursive:!0,force:!0},K)},eK=function(J){PJ.rmSync(J,{recursive:!0,force:!0})},PJ=s(),aK=$().fromCallback;wJ.exports={remove:aK(rK),removeSync:eK}});var yJ=Q((wV,vJ)=>{var $J=function(J){let K;try{K=xJ.readdirSync(J)}catch{return FJ.mkdirsSync(J)}K.forEach((U)=>{U=jJ.join(J,U),kJ.removeSync(U)})},tK=$().fromPromise,xJ=u(),jJ=import.meta.require("path"),FJ=l(),kJ=q0(),DJ=tK(async function J(K){let U;try{U=await xJ.readdir(K)}catch{return FJ.mkdirs(K)}return Promise.all(U.map((V)=>kJ.remove(jJ.join(K,V))))});vJ.exports={emptyDirSync:$J,emptydirSync:$J,emptyDir:DJ,emptydir:DJ}});var SJ=Q((DV,uJ)=>{async function JU(J){let K;try{K=await p.stat(J)}catch{}if(K&&K.isFile())return;const U=bJ.dirname(J);let V=null;try{V=await p.stat(U)}catch(z){if(z.code==="ENOENT"){await gJ.mkdirs(U),await p.writeFile(J,"");return}else throw z}if(V.isDirectory())await p.writeFile(J,"");else await p.readdir(U)}var KU=function(J){let K;try{K=p.statSync(J)}catch{}if(K&&K.isFile())return;const U=bJ.dirname(J);try{if(!p.statSync(U).isDirectory())p.readdirSync(U)}catch(V){if(V&&V.code==="ENOENT")gJ.mkdirsSync(U);else throw V}p.writeFileSync(J,"")},sK=$().fromPromise,bJ=import.meta.require("path"),p=u(),gJ=l();uJ.exports={createFile:sK(JU),createFileSync:KU}});var pJ=Q(($V,nJ)=>{async function zU(J,K){let U;try{U=await d.lstat(K)}catch{}let V;try{V=await d.lstat(J)}catch(X){throw X.message=X.message.replace("lstat","ensureLink"),X}if(U&&lJ(V,U))return;const z=hJ.dirname(K);if(!await VU(z))await mJ.mkdirs(z);await d.link(J,K)}var HU=function(J,K){let U;try{U=d.lstatSync(K)}catch{}try{const H=d.lstatSync(J);if(U&&lJ(H,U))return}catch(H){throw H.message=H.message.replace("lstat","ensureLink"),H}const V=hJ.dirname(K);if(d.existsSync(V))return d.linkSync(J,K);return mJ.mkdirsSync(V),d.linkSync(J,K)},UU=$().fromPromise,hJ=import.meta.require("path"),d=u(),mJ=l(),{pathExists:VU}=i(),{areIdentical:lJ}=e();nJ.exports={createLink:UU(zU),createLinkSync:HU}});var iJ=Q((xV,fJ)=>{async function GU(J,K){if(c.isAbsolute(J)){try{await A0.lstat(J)}catch(H){throw H.message=H.message.replace("lstat","ensureSymlink"),H}return{toCwd:J,toDst:J}}const U=c.dirname(K),V=c.join(U,J);if(await XU(V))return{toCwd:V,toDst:J};try{await A0.lstat(J)}catch(H){throw H.message=H.message.replace("lstat","ensureSymlink"),H}return{toCwd:J,toDst:c.relative(U,J)}}var YU=function(J,K){if(c.isAbsolute(J)){if(!A0.existsSync(J))throw new Error("absolute srcpath does not exist");return{toCwd:J,toDst:J}}const U=c.dirname(K),V=c.join(U,J);if(A0.existsSync(V))return{toCwd:V,toDst:J};if(!A0.existsSync(J))throw new Error("relative srcpath does not exist");return{toCwd:J,toDst:c.relative(U,J)}},c=import.meta.require("path"),A0=u(),{pathExists:XU}=i(),ZU=$().fromPromise;fJ.exports={symlinkPaths:ZU(GU),symlinkPathsSync:YU}});var oJ=Q((jV,cJ)=>{async function AU(J,K){if(K)return K;let U;try{U=await dJ.lstat(J)}catch{return"file"}return U&&U.isDirectory()?"dir":"file"}var OU=function(J,K){if(K)return K;let U;try{U=dJ.lstatSync(J)}catch{return"file"}return U&&U.isDirectory()?"dir":"file"},dJ=u(),qU=$().fromPromise;cJ.exports={symlinkType:qU(AU),symlinkTypeSync:OU}});var tJ=Q((FV,eJ)=>{async function MU(J,K,U){let V;try{V=await n.lstat(K)}catch{}if(V&&V.isSymbolicLink()){const[Y,L]=await Promise.all([n.stat(J),n.stat(K)]);if(rJ(Y,L))return}const z=await _U(J,K);J=z.toDst;const H=await IU(z.toCwd,U),X=aJ.dirname(K);if(!await WU(X))await LU(X);return n.symlink(J,K,H)}var NU=function(J,K,U){let V;try{V=n.lstatSync(K)}catch{}if(V&&V.isSymbolicLink()){const Y=n.statSync(J),L=n.statSync(K);if(rJ(Y,L))return}const z=EU(J,K);J=z.toDst,U=RU(z.toCwd,U);const H=aJ.dirname(K);if(n.existsSync(H))return n.symlinkSync(J,K,U);return QU(H),n.symlinkSync(J,K,U)},BU=$().fromPromise,aJ=import.meta.require("path"),n=u(),{mkdirs:LU,mkdirsSync:QU}=l(),{symlinkPaths:_U,symlinkPathsSync:EU}=iJ(),{symlinkType:IU,symlinkTypeSync:RU}=oJ(),{pathExists:WU}=i(),{areIdentical:rJ}=e();eJ.exports={createSymlink:BU(MU),createSymlinkSync:NU}});var X6=Q((kV,H6)=>{var{createFile:sJ,createFileSync:J6}=SJ(),{createLink:K6,createLinkSync:U6}=pJ(),{createSymlink:V6,createSymlinkSync:z6}=tJ();H6.exports={createFile:sJ,createFileSync:J6,ensureFile:sJ,ensureFileSync:J6,createLink:K6,createLinkSync:U6,ensureLink:K6,ensureLinkSync:U6,createSymlink:V6,createSymlinkSync:z6,ensureSymlink:V6,ensureSymlinkSync:z6}});var I0=Q((vV,Z6)=>{var CU=function(J,{EOL:K="\n",finalEOL:U=!0,replacer:V=null,spaces:z}={}){const H=U?K:"";return JSON.stringify(J,V,z).replace(/\n/g,K)+H},TU=function(J){if(Buffer.isBuffer(J))J=J.toString("utf8");return J.replace(/^\uFEFF/,"")};Z6.exports={stringify:CU,stripBom:TU}});var A6=Q((yV,q6)=>{async function PU(J,K={}){if(typeof K==="string")K={encoding:K};const U=K.fs||U0,V="throws"in K?K.throws:!0;let z=await R0.fromCallback(U.readFile)(J,K);z=Y6(z);let H;try{H=JSON.parse(z,K?K.reviver:null)}catch(X){if(V)throw X.message=`${J}: ${X.message}`,X;else return null}return H}var DU=function(J,K={}){if(typeof K==="string")K={encoding:K};const U=K.fs||U0,V="throws"in K?K.throws:!0;try{let z=U.readFileSync(J,K);return z=Y6(z),JSON.parse(z,K.reviver)}catch(z){if(V)throw z.message=`${J}: ${z.message}`,z;else return null}};async function $U(J,K,U={}){const V=U.fs||U0,z=G6(K,U);await R0.fromCallback(V.writeFile)(J,z,U)}var jU=function(J,K,U={}){const V=U.fs||U0,z=G6(K,U);return V.writeFileSync(J,z,U)},U0;try{U0=s()}catch(J){U0=import.meta.require("fs")}var R0=$(),{stringify:G6,stripBom:Y6}=I0(),wU=R0.fromPromise(PU),xU=R0.fromPromise($U),FU={readFile:wU,readFileSync:DU,writeFile:xU,writeFileSync:jU};q6.exports=FU});var B6=Q((bV,O6)=>{var W0=A6();O6.exports={readJson:W0.readFile,readJsonSync:W0.readFileSync,writeJson:W0.writeFile,writeJsonSync:W0.writeFileSync}});var M0=Q((gV,_6)=>{async function yU(J,K,U="utf-8"){const V=L6.dirname(J);if(!await vU(V))await Q6.mkdirs(V);return b0.writeFile(J,K,U)}var bU=function(J,...K){const U=L6.dirname(J);if(!b0.existsSync(U))Q6.mkdirsSync(U);b0.writeFileSync(J,...K)},kU=$().fromPromise,b0=u(),L6=import.meta.require("path"),Q6=l(),vU=i().pathExists;_6.exports={outputFile:kU(yU),outputFileSync:bU}});var I6=Q((uV,E6)=>{async function SU(J,K,U={}){const V=gU(K,U);await uU(J,V,U)}var{stringify:gU}=I0(),{outputFile:uU}=M0();E6.exports=SU});var W6=Q((SV,R6)=>{var lU=function(J,K,U){const V=hU(K,U);mU(J,V,U)},{stringify:hU}=I0(),{outputFileSync:mU}=M0();R6.exports=lU});var N6=Q((hV,M6)=>{var nU=$().fromPromise,h=B6();h.outputJson=nU(I6());h.outputJsonSync=W6();h.outputJSON=h.outputJson;h.outputJSONSync=h.outputJsonSync;h.writeJSON=h.writeJson;h.writeJSONSync=h.writeJsonSync;h.readJSON=h.readJson;h.readJSONSync=h.readJsonSync;M6.exports=h});var D6=Q((mV,w6)=>{async function cU(J,K,U={}){const V=U.overwrite||U.clobber||!1,{srcStat:z,isChangingCase:H=!1}=await T6.checkPaths(J,K,"move",U);await T6.checkParentPaths(J,z,K,"move");const X=C6.dirname(K);if(C6.parse(X).root!==X)await iU(X);return oU(J,K,V,H)}async function oU(J,K,U,V){if(!V){if(U)await P6(K);else if(await dU(K))throw new Error("dest already exists.")}try{await pU.rename(J,K)}catch(z){if(z.code!=="EXDEV")throw z;await aU(J,K,U)}}async function aU(J,K,U){return await fU(J,K,{overwrite:U,errorOnExist:!0,preserveTimestamps:!0}),P6(J)}var pU=u(),C6=import.meta.require("path"),{copy:fU}=E0(),{remove:P6}=q0(),{mkdirp:iU}=l(),{pathExists:dU}=i(),T6=e();w6.exports=cU});var k6=Q((lV,F6)=>{var tU=function(J,K,U){U=U||{};const V=U.overwrite||U.clobber||!1,{srcStat:z,isChangingCase:H=!1}=$6.checkPathsSync(J,K,"move",U);if($6.checkParentPathsSync(J,z,K,"move"),!sU(K))eU(u0.dirname(K));return JV(J,K,V,H)},sU=function(J){const K=u0.dirname(J);return u0.parse(K).root===K},JV=function(J,K,U,V){if(V)return g0(J,K,U);if(U)return j6(K),g0(J,K,U);if(x6.existsSync(K))throw new Error("dest already exists.");return g0(J,K,U)},g0=function(J,K,U){try{x6.renameSync(J,K)}catch(V){if(V.code!=="EXDEV")throw V;return KV(J,K,U)}},KV=function(J,K,U){return rU(J,K,{overwrite:U,errorOnExist:!0,preserveTimestamps:!0}),j6(J)},x6=s(),u0=import.meta.require("path"),rU=E0().copySync,j6=q0().removeSync,eU=l().mkdirpSync,$6=e();F6.exports=tU});var y6=Q((nV,v6)=>{var UV=$().fromPromise;v6.exports={move:UV(D6()),moveSync:k6()}});var g6=Q((pV,b6)=>{b6.exports={...u(),...E0(),...yJ(),...X6(),...N6(),...l(),...y6(),...M0(),...i(),...q0()}});var a=n6(g6(),1);import V0 from"path";var VV=function(J){return J&&typeof J.status==="number"};function zV(J){return J!==void 0&&J!==null}async function N0(J,K=[]){try{const U=Bun.spawnSync([J,...K.filter(zV)],{stdio:["inherit","ignore","inherit"],env:process.env});if(U.exitCode!==0){if(!N0.silent)console.error(`Error: ${J} ${K.join(" ")} failed with code: ${U.exitCode}`),console.error(new Error().stack);return!1}}catch(U){if(!N0.silent){if(VV(U))console.error(`Error: ${J} ${K.join(" ")} failed with code: ${U.status}`);else if(U instanceof Error)console.error(U.message);console.error(new Error().stack)}return!1}return!0}N0.silent=!0;var o=N0;import{URL as HV} from"url";var ZV=function(J){return J?.charAt};async function GV(){const K=a.default.readJsonSync(V0.resolve("package.json")).fallbackDependencies,U=await o("bun",["-v"]),V=!U?await o("yarn",["-v"]):!1,z=!U&&!V?await o("npm",["-v"]):!1;if(!U&&!z&&!V){console.warn("No appropriate package manager detected for executing fallbackDependencies. Please ensure yarn, bun, or npm is available.");return}if(!a.default.existsSync(V0.resolve("bunfig.toml")))a.default.copySync(V0.join(h0,"bunfig.toml"),V0.resolve("bunfig.toml"));const H=async(L)=>{if(ZV(L))L=[L];if(U)return await o("bun",["add","--no-save","--ignore-scripts",...L]);else if(V)return await o("yarn",["add","--no-save","--ignore-scripts",...L]);else if(z)return await o("npm",["install","--no-save","--ignore-scripts",...L])};console.log("POST INSTALL: fallback-dependencies");const X=[],Y=a.default.existsSync(S0)?a.default.readJsonSync(S0):{};for(let[L,w]of Object.entries(K)){if(console.warn("Installing dependencies with fallbacks for:",L),!Array.isArray(w)){console.warn("Invalid fallbacks for:",L,"Expected an array but got:",w);continue}let Z=!1;for(let q of w){if(!q.charAt){console.warn("Invalid repo for:",L,"Expected a string but got:",q);continue}if(await H(q)){if(console.log("Installed:",q),Z=!0,Y[L]!==q)X.push([L,q]);break}}if(!Z)console.error("No fallback dependency worked for:",L)}if(X.length>0){if(U){if(!await o("bun",["pm","cache","rm"])||!await H(X.map((L)=>L[1]))){a.default.appendFileSync(XV,"Failed to correct cache misses for bun",{encoding:"utf-8"});return}}X.forEach(([L,w])=>{Y[L]=w}),a.default.writeJsonSync(S0,Y,{encoding:"utf-8"})}}var h0=new HV(".",import.meta.url).pathname,XV=V0.resolve(h0,"post-install.log"),S0=V0.resolve(h0,".cache.json");GV();
